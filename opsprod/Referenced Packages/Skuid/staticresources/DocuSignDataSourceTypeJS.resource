!function(e){var t={};function a(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,a),i.l=!0,i.exports}a.m=e,a.c=t,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},a.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a(a.s=327)}({327:function(e,t,a){"use strict";!function(e){var t=e.utils,a=e.dataSource,n=a.utils,i=e.constants,o=i.DISPLAY_TYPES,l=i.HTTP_VERBS,r=t.getObjectProperty,d=o.STRING,s=o.EMAIL,c=o.BOOLEAN,u=o.DATETIME,p=o.ID,m=o.TEXTAREA,y=o.INTEGER,b=i.MIME_TYPES.JSON,I=l.GET,v=l.POST,f=function(e){var t,a=0;if(0===e.length)return a;for(t=0;t<e.length;t++)a=(a<<5)-a+e.charCodeAt(t),a|=0;return Math.abs(a)};a.getDataSourceType("DocuSign")||new a.core.RESTDataSourceTypeBase({name:"DocuSign",coerceRequest:function(e){var t=e.model,a=e.type,i=t.getDataSource().authentication.responseBody||"";n.applyAccessTokenAsParam(e,i,"token"),"insert"===a&&function(e){var t=e.model;"Signer"===r(t,"extensions.rest.entityName")&&(e.request.data.recipientId=f(e.request.data.email.toString()),e.request.data={signers:[e.request.data]})}(e)},createActions:function(){return{"download-item":{label:"Download Envelope/Document Row",runtimeExecution:function(e,a,i){var o=i.model,l=o.dataSource.authentication.responseBody.access_token,r=n.extrapolateRowFromContext(i),d=o.dataSource,s=r&&function(e){if(e&&!(e.indexOf(".")<0))return(e=e.split(".")).pop(),e=e.join("")}(r.name),c=d.serviceUrl+"/v2/accounts/"+n.getModelMergeConditions(o,i).accountId+(r&&r.uri||r.documentsUri+"/combined"),u=d.createHTTPRequest({url:c,method:"GET",headers:{Authorization:"Bearer "+l,"Content-Type":"application/pdf","Content-Transfer-Encoding":"base64"}});return r?d.makeRequest(u).then(function(e){t.downloadBase64StringAsFile(e.body,(s||"preview")+".pdf")}):n.rejectable("Need a row in context")}},"add-recipient-custom-email":{label:"Add Signer to Envelope with Custom Email",builderProps:[{label:"Subject Line",id:"subjectline",type:"string"},{label:"Email Body",id:"emailbody",type:"string"}],runtimeExecution:function(e,a,i){var o=i.model,l=o.dataSource,r=o.dataSource.authentication.responseBody.access_token,d=n.extrapolateRowFromContext(i),s=n.getModelMergeConditions(o,i),c=s.envelopeId,u=s.accountId,p=t.mergeAsTextInContext(e.attr("subjectline"),i),m=t.mergeAsTextInContext(e.attr("emailbody"),i),y=l.serviceUrl+"/v2/accounts/"+u+"/envelopes/"+c+"/recipients",b=d&&{signers:[{name:d.name,email:d.email,recipientId:f(d.email),emailNotification:{emailSubject:p,emailBody:m}}]},I=l.createHTTPRequest({url:y,method:"POST",headers:{Authorization:"Bearer "+r,"Content-Type":"application/json"},body:b});return d?l.makeRequest(I):n.rejectable("Need row in context")}}}},getEntityList:n.getEntityListStatic,getActions:n.getActionsStatic,queryEntityMetadata:n.queryEntityMetadataStatic,extendedProperties:{composer:{unomittableFields:!0},hasDefaultSearch:!0,canServerSearch:!0,hasGlobalSearchEntities:!0,"x-metadata":{__skuid_fieldDefaults:{"*":{displaytype:d,editable:!1,createable:!1,accessible:!0}},LoginAccounts:{idFields:["accountId"],nameField:"name",label:"Login Accounts Information",labelPlural:"Login Accounts",fields:[{id:"name",label:"Unformatted Name"},{id:"accountId",label:"Account ID"},{id:"created",label:"Account Created On",displaytype:u},{id:"baseUrl",label:"Base URL"},{id:"isDefault",displaytype:c},{id:"userName",label:"User Name"},{id:"userId",label:"User ID"},{id:"email",displaytype:s},{id:"siteDescription"}],methods:{query:{url:"/v2/login_information",verb:I,contentType:b,pathToContent:"loginAccounts"}}},Envelope:{idFields:["envelopeId"],nameField:"name",label:"Envelope",labelPlural:"Envelopes",fields:[{id:"status",label:"Envelope Status"},{id:"documentsUri"},{id:"recipientsUri"},{id:"attachmentsUri"},{id:"envelopeUri"},{id:"envelopeId",displaytype:p},{id:"customFieldsUri"},{id:"notificationUri"},{id:"statusChangedDateTime",label:"Status Changed On",displaytype:u},{id:"documentsCombinedUri"},{id:"certificateUri"},{id:"templatesUri"}],methods:{query:{url:"/v2/accounts/{{accountId}}/envelopes/status?from_date=1950-01-01",verb:I,contentType:b,pathToContent:"envelopes"}},defaultConditions:[{sourcetype:"param",sourceparam:"accountId",name:"accountId",label:"Account ID",state:"filterableon",type:"fieldvalue",required:!0,value:""}]},FolderItem:{idFields:["envelopeId"],nameField:"subject",label:"Folder Item",labelPlural:"Folder Items",fields:[{id:"ownerName"},{id:"envelopeId",label:"Envelope ID"},{id:"envelopeUri"},{id:"status"},{id:"senderName"},{id:"senderEmail",displaytype:s},{id:"createdDateTime",displaytype:u},{id:"sendDateTime",displaytype:u},{id:"subject",label:"Subject"},{id:"is21CFRPart11",label:"Is21CFRPart11"},{id:"isSignatureProviderEnvelope",displaytype:c}],methods:{query:{url:"/v2/accounts/{{accountId}}/folders/{{folderId}}",verb:I,contentType:b,pathToContent:"folderItems"}},defaultConditions:[{sourcetype:"param",sourceparam:"accountId",name:"accountId",label:"Account ID",state:"filterableon",type:"fieldvalue",required:!0,value:""},{sourcetype:"param",sourceparam:"folderId",name:"folderId",label:"Folder ID",state:"filterableon",type:"fieldvalue",required:!0,value:""}]},Document:{idFields:["documentId"],nameField:"name",label:"Document",labelPlural:"Documents",fields:[{id:"documentId",label:"Document ID",displaytype:p},{id:"name"},{id:"type"},{id:"uri"},{id:"order"},{id:"pages"},{id:"display"},{id:"includeInDownload",displaytype:c},{id:"signerMustAwknowledge",displaytype:c}],methods:{query:{url:"/v2/accounts/{{accountId}}/envelopes/{{envelopeId}}/documents",verb:I,contentType:b,pathToContent:"envelopeDocuments"}},defaultConditions:[{sourcetype:"param",sourceparam:"accountId",name:"accountId",label:"Account ID",state:"filterableon",type:"fieldvalue",required:!0,value:""},{sourcetype:"param",sourceparam:"envelopeId",name:"envelopeId",label:"Envelope ID",state:"filterableon",type:"fieldvalue",required:!0,value:""}]},Folder:{idFields:["folderID"],nameField:"name",label:"Folder",labelPlural:"Folders",fields:[{id:"ownerUserName",label:"Folder Owner's User name"},{id:"ownerEmail",displaytype:s},{id:"ownerUserId",label:"Owner User ID",displaytype:p},{id:"type"},{id:"name"},{id:"uri"},{id:"folderId",label:"Folder ID",displaytype:p}],methods:{query:{url:"/v2/accounts/{{accountId}}/folders",verb:I,contentType:b,pathToContent:"folders"}},defaultConditions:[{sourcetype:"param",sourceparam:"accountId",name:"accountId",label:"Account ID",state:"filterableon",type:"fieldvalue",required:!0,value:""}]},Signer:{idFields:["userId"],nameField:"name",label:"Signer",labelPlural:"Signers",fields:[{id:"creationReason"},{id:"isBulkRecipient",displaytype:c},{id:"recipientSuppliesTab"},{id:"name",createable:!0},{id:"email",displaytype:s,createable:!0},{id:"recipientId",label:"Recipient ID",displaytype:p},{id:"recipientIdGuid",label:"GUID",displaytype:p},{id:"requiredIdLookup",label:"Required Lookedup"},{id:"userId",label:"User ID",displaytype:p},{id:"routingOrder",displaytype:y,createable:!0},{id:"note",displaytype:m,createable:!0},{id:"status"},{id:"declinedReason"},{id:"deliveryMethod"}],methods:{query:{url:"/v2/accounts/{{accountId}}/envelopes/{{envelopeId}}/recipients",verb:I,contentType:b,pathToContent:"signers"},insert:{url:"/v2/accounts/{{accountId}}/envelopes/{{envelopeId}}/recipients",verb:v,contentType:"application/json",pathToContent:"signers"}},defaultConditions:[{sourcetype:"param",sourceparam:"envelopeId",name:"envelopeId",label:"Envelope ID",state:"filterableon",type:"fieldvalue",required:!0,value:""},{sourcetype:"param",sourceparam:"accountId",name:"accountId",label:"Account ID",state:"filterableon",type:"fieldvalue",required:!0,value:""}]}}}})}(skuid)}});