!function(e){var t={};function i(o){if(t[o])return t[o].exports;var n=t[o]={i:o,l:!1,exports:{}};return e[o].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=t,i.d=function(e,t,o){i.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:o})},i.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=342)}({342:function(e,t,i){"use strict";!function(e){var t=e.$,i=e.snippet,o=i.register,n=e.utils,a="skuid__DataSourceType__ui",s="skuid__DataSource__ui",l=e.constants.SALESFORCE,r=n.capitalizeFirst,c=e.dataSource,d=e.ui.getRenderer,u=function(i){var o=i.field,n=i.value,a=i.entries,s=i.onChange;"edit"===o.mode?o.element.html(d("PICKLIST").edit({value:n,required:!0,onChange:function(e){o.model.updateRow(o.row,o.id,e,{initiatorId:o._GUID}),s&&i.onChange(e)},entries:a})):(t.each(a,function(){if(n===this.value)return n=this.label,!1}),e.ui.getFieldRenderer(o)[o.mode](o,n))},p=function(){var e={};return t.each(c.map(),function(t,i){var o=i.dataSourceType?i.dataSourceType.name:i.dataSourceTypeName;o&&(e[o]||(e[o]=[]),e[o].push(i))}),e},m=function(){var e=[];return t.each(c.map(),function(t,i){e.push(i)}),e};function g(i,o){o||(o={});var a=!1,s=n.generateUniqueId(),l=t("<div>").attr("id",s),r=!0!==o.quiet;return r&&(t.blockUI({message:l}),c("Generating Support Files for "+i.length+" Page(s): Initiating Deployment"),o.progressCallback=function(e){if(a)return;!0===e.done&&d(!0,"");r&&c("Generating Support Files: "+e.message)}),e.pageSupport.generateFiles(i,o).then(function(e){d(!0,e)},function(e){d(!1,e)});function c(e){l.text(e)}function d(e,i){a=!0,r&&(e?t.unblockUI({message:"Generating Support Files: "+i.numberComponentsDeployed+" deployed, "+i.numberComponentErrors+" errors",timeout:3e3}):(n.isString(i)||(i=i&&i.statusText||""),t.blockUI({message:"There was an error: "+i,timeout:5e3})))}}o("skuid.core.haveMultipleActiveDataSources",function(){return n.size(e.dataSource.map())>1}),o("skuid.core.actions.previewPage",function(){var e=arguments[0],t=i.get("skuid.builder.page.preview");t&&t({model:e.model,row:e.item?e.item.row:e.row})}),o("skuid.core.renderers.dataSourceType",function(){u({field:arguments[0],value:n.decodeHTML(arguments[1]),entries:t.map(p(),function(e,t){if("REST"!==t&&"Ui-Only"!==t)return{value:t,label:t}}).sort(function(e,t){return e.value===l?-1:r(e.label)>r(t.label)})})}),o("skuid.core.renderers.dataSource",function(){var e=p(),i=arguments[0],o=i.model.getFieldValue(i.row,a,!0)||Object.keys(e)[0];u({field:arguments[0],value:n.decodeHTML(arguments[1]),entries:t.map(e[o],function(e){var t=e.name;return{value:t,label:t===l?"Current Salesforce Org":t}}).sort(function(e,t){return e.value===l?-1:r(e.label)>r(t.label)})})}),o("skuid.core.renderers.dataSourceAll",function(){u({field:arguments[0],value:n.decodeHTML(arguments[1]),entries:m().map(function(e){var t=e.name;return{value:t,label:t===l?"Current Salesforce Org":t}}).sort(function(e,t){return e.value===l?-1:r(e.label)>r(t.label)})})}),o("skuid.core.snippets.newPageRenderStartingPoint",function(e){var i,o,n=e.updates&&e.updates.skuid__Type__c,a=e.model,s=e.row;n&&(i=a.getFieldValue(s,"skuid__Initial_State__c"),o=a.registeredFields,"Mobile"===n&&"masterpage"===i&&a.updateRow(s,{skuid__Initial_State__c:"none"}),t.each(o,function(){"skuid__Initial_State__c"===this.id&&this.render()}))}),o("skuid.core.snippets.newPageStartingPoint",function(i,o){if(i.options||(i.options={}),i.options.type="RADIO_BUTTONS",e.ui.getFieldRenderer(i)[i.mode](i,o),i.options.type="CUSTOM","edit"===i.mode){var n=i.model,a=i.row;if("Mobile"===n.getFieldValue(a,"skuid__Type__c"))i.element.find("div.nx-radiowrapper").each(function(){var e=t(this);"masterpage"===e.children('input[type="radio"]').val()&&e.hide()})}}),o("skuid.settings.snippets.regenSupportFiles",function(){var i=e.$M("stng__AllPages");return t.blockUI({message:"Querying Skuid Pages..."}),i.updateData().then(function(){return g(i.getRows())})}),o("skuid.pageList.snippets.regenSupportFiles",function(e){return g(e.list.getSelectedItems())}),o("skuid.pageList.snippets.regenPackSupportFiles",function(e){return g(e)}),o("skuid.pageBuilder.snippets.regenSupportFile",function(e){return g(e.model.getRows(),{relaxFieldChecks:!0})}),o("skuid.pageBuilder.snippets.regenSupportFileQuietly",function(e){return g(e.model.getRows(),{relaxFieldChecks:!0,quiet:!0})}),t(document.body).one("pageload",function(){var i=e.$M("pgs__NewPage"),r="skuid__Primary_Object__c",c='<skuidpage unsavedchangeswarning="yes" personalizationmode="server" useviewportmeta="true"';o("PrimaryObjectField",function(i){var o=i.model,n=i.row,l=p(),c=o.getFieldValue(n,r,!0);i.element.append(d("ENTITY").edit({dataSource:function(){var t=o.getFieldValue(n,a,!0)||Object.keys(l)[0],i=o.getFieldValue(n,s,!0);return i&&e.dataSource.getDataSource(i)||l[t][0]},getErrorContainer:function(){var e=i.element.find(".nx-error-inline");return e.length||(e=t("<div>").addClass("nx-error-inline").appendTo(i.element)),e},onChange:function(e){o.updateRow(n,r,e,{initiatorId:i._GUID})},value:c}))});if(o("skuid.pageList.buildLayoutFromTemplate",function(){!function(i){i||(i={});var o,d,u,p,m=i.model,g=i.row,b=m.getFieldValue(g,"skuid__Initial_State__c",!0)||"none",f=m.getFieldValue(g,"skuid__Page_Template__c",!0)||"tab-page",v=m.getFieldValue(g,r,!0)||"",h=m.getFieldValue(g,a,!0)||l,_=m.getFieldValue(g,s,!0)||l,w=e.dataSource.getDataSource(_),y=w.getCachedEntityMetadata(v),k=_===l&&h===l,S=m.getFieldValue(g,"skuid__Type__c",!0)||"Desktop",M=function(){h===l&&t.inArray(v,["Contact","Lead","User"])>-1?(u=["FirstName","LastName"],"Lead"===v&&u.push("Company")):(u=[],(p=w.getNameField(v))&&u.push(p))};if(""!==v&&"none"!==b)d=v.replace("__c","").replace(/_/g,""),"tab-page"===f?(M(),o="Mobile"===S?c+"><models>":c+' showsidebar="true" showheader="true" '+(k?'tabtooverride="'+v+'"':"")+"><models>",o+='<model id="'+d+'" limit="100" query="true" createrowifnonefound="false" datasourcetype="'+h+'" datasource="'+_+'" sobject="'+v+'">',o+="<fields>",t.each(u,function(e,t){y.getField(t)&&(o+='<field id="'+t+'"/>')}),y.getField("CreatedDate")&&(o+='<field id="CreatedDate"/>'),o+="</fields>",o+="<conditions/></model></models><components>","Desktop"===S?(o+='<pagetitle model="'+d+'"><maintitle><template>{{Model.labelPlural}}</template></maintitle><subtitle><template>Home</template></subtitle><actions><action type="savecancel"/></actions></pagetitle>',o+='<skootable showconditions="true" showsavecancel="false" searchmethod="server" searchbox="true" showexportbuttons="false" pagesize="10"  createrecords="true" model="'+d+'" mode="read" allowcolumnreordering="true"><fields>',t.each(u,function(e,t){y.getField(t)&&(o+='<field id="'+t+'" hideable="true" allowordering="true" uniqueid="'+n.generateUniqueId({prefix:"fi"})+'"/>')}),y.getField("CreatedDate")&&(o+='<field id="CreatedDate" hideable="true" allowordering="true" uniqueid="'+n.generateUniqueId({prefix:"fi"})+'"/>'),o+='</fields><rowactions><action type="edit"/><action type="delete"/></rowactions><massactions usefirstitemasdefault="true"><action type="massupdate"/><action type="massdelete"/></massactions><views><view type="standard"/></views></skootable>'):"Mobile"===S&&(o+="<skuidmobile>",o+="<mobilepanels>",o+='<mobilepanel uniqueid="main" minwidth="400">',o+="<components>",o+='<mobiledeck showsavecancel="true" searchmethod="server" searchbox="true" tokenizesearch="true" createrecords="true" precision="6" minwidth="300" model="'+d+'" mode="read">',o+="<components>",t.each(u,function(e,t){y.getField(t)&&(o+='<mobilefield id="'+t+'"/>')}),y.getField("CreatedDate")&&(o+='<mobilefield id="CreatedDate"/>'),o+="</components>",o+="<title>{{Model.labelPlural}}</title>",o+="<cardtitle>",t.each(u,function(e,t){o+=(0!==e?" ":"")+"{{"+t+"}}"}),o+="</cardtitle>",o+="</mobiledeck>",o+="</components>",o+="</mobilepanel>",o+="</mobilepanels>",o+="<mobilenavs>",o+='<mobilenav uniqueid="header">',o+="<components>",o+='<mobilegrid precision="6" minwidth="50">',o+="<divisions>",o+='<division size="1">',o+="<components>",o+='<mobilebutton label="" style="nav" icon="fa-bars">',o+="<actions>",o+='<action type="setMainPanel" panel="main"/>',o+="</actions>",o+="</mobilebutton>",o+="</components>",o+="</division>",o+='<division size="4">',o+="<components>",o+="<mobiletitle>",o+="<contents>{{$Model."+d+".labelPlural}}</contents>",o+="</mobiletitle>",o+="</components>",o+="</division>",o+='<division size="1">',o+="<components>",o+='<mobilebutton label="" style="nav" icon="fa-th">',o+="<actions>",o+='<action type="toggleSetupMenu"/>',o+="</actions>",o+="</mobilebutton>",o+="</components>",o+="</division>",o+="</divisions>",o+="</mobilegrid>",o+="</components>",o+="<interactions>",o+='<interaction type="doubletap">',o+="<actions>",o+='<action type="toggleSetupMenu"/>',o+="</actions>",o+="</interaction>",o+='<interaction type="swipedown">',o+="<actions>",o+='<action type="toggleSetupMenu"/>',o+="</actions>",o+="</interaction>",o+="</interactions>",o+="</mobilenav>",o+="</mobilenavs>",o+="</skuidmobile>"),o+="</components><resources><labels/><css/><javascript/></resources></skuidpage>"):"detail-page"===f?(M(),o="Mobile"===S?c+"><models>":c+' showsidebar="true" showheader="true" '+(k?'tabtooverride="'+v+'"':"")+"><models>",o+='<model id="'+d+'" limit="1" query="true" createrowifnonefound="false" datasourcetype="'+h+'" datasource="'+_+'" sobject="'+v+'">',o+="<fields>",t.each(u,function(e,t){y.getField(t)&&(o+='<field id="'+t+'"/>')}),y.getField("CreatedDate")&&(o+='<field id="CreatedDate"/>'),o+="</fields>",o+='<conditions><condition type="param" enclosevalueinquotes="true" operator="=" field="Id" value="id"/></conditions>',o+="</model></models><components>","Desktop"===S?(o+='<pagetitle model="'+d+'"><maintitle><template>',t.each(u,function(e,t){y.getField(t)&&(o+=(0!==e?" ":"")+"{{"+t+"}}")}),o+="</template></maintitle><subtitle><template>{{Model.label}}</template></subtitle><actions>"+(k?'<action type="delete"/><action type="clone"/><action type="share"/>':"")+'<action type="savecancel" window="self"/></actions></pagetitle>',o+='<basicfieldeditor showsavecancel="false" showheader="true" model="'+d+'" mode="read"><columns>',o+='<column width="50%"><sections>',o+='<section title="Basics"><fields>',t.each(u,function(e,t){y.getField(t)&&(o+='<field id="'+t+'"/>')}),o+="</fields></section>",o+="</sections></column>",o+='<column width="50%"><sections>',o+='<section title="System Info"><fields>'+(y.getField("CreatedDate")?'<field id="CreatedDate"/>':"")+"</fields></section>",o+="</sections></column>",o+="</columns></basicfieldeditor>"):"Mobile"===S&&(o+="<skuidmobile>",o+="<mobilepanels>",o+='<mobilepanel uniqueid="main" minwidth="400">',o+="<components>",o+='<mobiledeck showsavecancel="true" searchmethod="server" searchbox="false" tokenizesearch="false" createrecords="false" precision="1" minwidth="200" model="'+d+'" mode="read">',o+="<components>",t.each(u,function(e,t){y.getField(t)&&(o+='<mobilefield id="'+t+'"/>')}),y.getField("CreatedDate")&&(o+='<mobilefield id="CreatedDate"/>'),o+="</components>",o+="<title>{{Model.label}}</title>",o+="<cardtitle>",t.each(u,function(e,t){y.getField(t)&&(o+=(0!==e?" ":"")+"{{"+t+"}}")}),o+="</cardtitle>",o+="</mobiledeck>",o+="</components>",o+="</mobilepanel>",o+="</mobilepanels>",o+="<mobilenavs>",o+='<mobilenav uniqueid="header">',o+="<components>",o+='<mobilegrid precision="6" minwidth="50">',o+="<divisions>",o+='<division size="1">',o+="<components>",o+='<mobilebutton label="" style="nav" icon="fa-bars">',o+="<interactions>",o+='<interaction type="tap">',o+="<actions>",o+='<action type="setMainPanel" panel="main"/>',o+="</actions>",o+="</interaction>",o+="</interactions>",o+="</mobilebutton>",o+="</components>",o+="</division>",o+='<division size="4">',o+="<components>",o+="<mobiletitle>",o+="<contents>{{$Model."+d+".label}}</contents>",o+="</mobiletitle>",o+="</components>",o+="</division>",o+='<division size="1">',o+="<components>",o+='<mobilebutton label="" style="nav" icon="fa-th">',o+="<interactions>",o+='<interaction type="tap">',o+="<actions>",o+='<action type="toggleSetupMenu"/>',o+="</actions>",o+="</interaction>",o+="</interactions>",o+="</mobilebutton>",o+="</components>",o+="</division>",o+="</divisions>",o+="</mobilegrid>",o+="</components>",o+="<interactions>",o+='<interaction type="doubletap">',o+="<actions>",o+='<action type="toggleSetupMenu"/>',o+="</actions>",o+="</interaction>",o+='<interaction type="swipedown">',o+="<actions>",o+='<action type="toggleSetupMenu"/>',o+="</actions>",o+="</interaction>",o+="</interactions>",o+="</mobilenav>",o+="</mobilenavs>",o+="</skuidmobile>"),o+="</components><resources><labels/><css/><javascript/></resources></skuidpage>"):"new-page"===f&&(M(),o="Mobile"===S?c+"><models>":c+' showsidebar="true" showheader="true" '+(k?'tabtooverride="'+v+'"':"")+"><models>",o+='<model id="'+d+'" limit="1" query="false" createrowifnonefound="true" datasourcetype="'+h+'" datasource="'+_+'" sobject="'+v+'">',o+="<fields>",t.each(u,function(e,t){y.getField(t)&&(o+='<field id="'+t+'"/>')}),o+="</fields>",o+="</model></models><components>","Desktop"===S?(o+='<pagetitle model="'+d+'"><maintitle><template>New {{Model.label}}</template></maintitle><subtitle><template>{{Model.labelPlural}}</template></subtitle><actions><action type="savecancel" '+(k?'afterCancel="/{{Model.KeyPrefix}}/o" ':"")+(k?'afterSave="/{{Id}}" ':"")+'rollbackonanyerror="true"/></actions></pagetitle>',o+='<basicfieldeditor showsavecancel="false" showheader="true" model="'+d+'" mode="edit"><columns>',o+='<column width="50%"><sections>',o+='<section title="Basics"><fields>',t.each(u,function(e,t){y.getField(t)&&(o+=(0!==e?" ":"")+'<field id="'+t+'"/>')}),o+="</fields></section>",o+="</sections></column>",o+='<column width="50%"><sections>',o+='<section title="Additional Info"><fields/></section>',o+="</sections></column>",o+="</columns></basicfieldeditor>"):"Mobile"===S&&(o+="<skuidmobile>",o+="<mobilepanels>",o+='<mobilepanel uniqueid="main" minwidth="400">',o+="<components>",o+='<mobiledeck showsavecancel="true" searchmethod="client" searchbox="false" tokenizesearch="false" createrecords="true" precision="1" minwidth="200" model="'+d+'" mode="edit">',o+="<components>",t.each(u,function(e,t){y.getField(t)&&(o+='<mobilefield id="'+t+'"/>')}),o+="</components>",o+="<title>{{Model.label}}</title>",o+="<cardtitle>",t.each(u,function(e,t){y.getField(t)&&(o+=(0!==e?" ":"")+"{{"+t+"}}")}),o+="</cardtitle>",o+="</mobiledeck>",o+="</components>",o+="</mobilepanel>",o+="</mobilepanels>",o+="<mobilenavs>",o+='<mobilenav uniqueid="header">',o+="<components>",o+='<mobilegrid precision="6" minwidth="50">',o+="<divisions>",o+='<division size="1">',o+="<components>",o+='<mobilebutton label="" style="nav" icon="fa-bars">',o+="<interactions>",o+='<interaction type="tap">',o+="<actions>",o+='<action type="setMainPanel" panel="main"/>',o+="</actions>",o+="</interaction>",o+="</interactions>",o+="</mobilebutton>",o+="</components>",o+="</division>",o+='<division size="4">',o+="<components>",o+="<mobiletitle>",o+="<contents>New {{$Model."+d+".label}}</contents>",o+="</mobiletitle>",o+="</components>",o+="</division>",o+='<division size="1">',o+="<components>",o+='<mobilebutton label="" style="nav" icon="fa-th">',o+="<interactions>",o+='<interaction type="tap">',o+="<actions>",o+='<action type="toggleSetupMenu"/>',o+="</actions>",o+="</interaction>",o+="</interactions>",o+="</mobilebutton>",o+="</components>",o+="</division>",o+="</divisions>",o+="</mobilegrid>",o+="</components>",o+="<interactions>",o+='<interaction type="doubletap">',o+="<actions>",o+='<action type="toggleSetupMenu"/>',o+="</actions>",o+="</interaction>",o+='<interaction type="swipedown">',o+="<actions>",o+='<action type="toggleSetupMenu"/>',o+="</actions>",o+="</interaction>",o+="</interactions>",o+="</mobilenav>",o+="</mobilenavs>",o+="</skuidmobile>"),o+="</components><resources><labels/><css/><javascript/></resources></skuidpage>");else if("masterpage"===b)o='<skuidpage unsavedchangeswarning="yes" useviewportmeta="true"><models/><pageregioncontents/><components/><resources><labels/><css/><javascript/></resources></skuidpage>';else if("from-xml"===b||"from-xml-file"===b){var F=m.getFieldValue(g,"skuid__Page_XML__c",!0);return void(F&&n.writeXmlToPageLayoutFields(F,m,g))}o||(o="Mobile"===S?c+"><models/><components><skuidmobile><mobilepanels/><mobilenavs/></skuidmobile></components><resources><labels/><javascript/><css/></resources></skuidpage>":c+' showsidebar="true" showheader="true"><models/><components/><resources><labels/><javascript/><css/></resources></skuidpage>'),n.writeXmlToPageLayoutFields(o,m,g)}({model:i,row:arguments[0].row})}),n._ie<9&&t(".sk-header-skuidlogo img").attr("src",e.utils.getStaticResourceUrl("SkuidLogoCustomHeaderPNG","skuid",void 0,e.version.date)),n._ie<10){t(".nx-page").addClass("sk-ie-legacy");var u=t(".sk-master-grid-division-rightside");u.eq(0).prev().after(u.toArray().reverse())}}),t(document.body).one("pageload",function(){var t,i=e.$M("pgs__NewPage"),o=e.$M("master__DataSourceReassign");i.subscribe("row.updated",function(){var n=i.getRows()[0],a=m().map(function(e){return e.name}),s=[];if(n.skuid__Page_XML__c!==t){var l=e.utils.makeXMLDoc(n.skuid__Page_XML__c);o.emptyData(),l.find("[datasource]").each(function(){var e=this.getAttribute("datasource");-1===a.indexOf(e)&&-1===s.indexOf(e)&&(o.adoptRow({currentName:e}),s.push(e))}),t=n.skuid__Page_XML__c}}),e.snippet.register("after-xml-file-upload",function(e){var t=i.getRows()[0];i.updateRow(t,{fileName:e.component.fileName})})}),e.snippet.register("newpage-before-save-xml",function(){var t=e.$M("pgs__NewPage"),i=e.$M("master__DataSourceReassign"),o=t.getRows()[0];if(i.getRows().length){var n=e.utils.makeXMLDoc(o.skuid__Page_XML__c);i.getRows().forEach(function(e){n.find('[datasource="'+e.currentName+'"]').attr("datasource",e.newName||e.currentName)}),t.updateRow(o,{skuid__Page_XML__c:n[0].outerHTML})}i.cancel()})}(skuid)}});