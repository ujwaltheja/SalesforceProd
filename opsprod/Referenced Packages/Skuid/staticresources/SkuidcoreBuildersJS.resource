!function(e){var t={};function n(a){if(t[a])return t[a].exports;var o=t[a]={i:a,l:!1,exports:{}};return e[a].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:a})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=414)}({26:function(e,t,n){"use strict";!function(e){var t=e.$,n=e.utils,a=n.hasObjectProperty;e.componentType.register("image",{render:function(a,o,i){a.addClass((e.mobile?"sm":"sk")+"-image-wrapper");var r,l,s,d,p,c,u,h,m,b=i.context,f=i._getCPI(),g=o.attr("source"),v=o.attr("datasource")||o.attr("dataSource")||e.platform.getDefaultDataSourceName(),y=e.dataSource.get(v),w=y&&y.getImageSource(g),C=w&&(w.needsRecordContext||w.optionalRecordContext),x=function(){return null},k=i.get("imageElement"),S=!1;k&&a.empty(),b&&(h=b.model,m=b.row),C&&(r=o.attr("model"),s=e.$M(r),u=i.createConditionsFromXml(o,b),w.needsFieldContext&&(l=o.attr("field"))),!s&&b&&(s=b.model),s?x=h?h===s?function(){return m}:function(){return s.getRows(u,b)[0]}:function(){return s.getFirstRow()}:h&&(s=h,x=function(){return m||s.getFirstRow()}),c=o.children("interactions"),d=o.attr("behavior"),k=t("<img>").addClass("sm-image").attr("alt",o.attr("alt")?o.attr("alt"):""),"link"===d?(S=!0,p=t('<a href="#">').append(k),a.click(function(e){e.preventDefault()})):"button"===d?(S=!0,p=t("<button>").append(k)):p=k,S&&c.length&&!a.parent().hasClass("nx-pagebuilder-component-body")&&(e.interactions.disableInteractions(a),e.interactions.enableInteractions(a,{interactionsDef:c,component:i})),k.css("visibility","hidden"),a.append(p),i.set({behavior:d,contextModel:h,contextRow:m,field:l,getRow:x,imageElement:k,imageSource:w,model:s}),f.draw(),C&&f.subscribeToEvents(),n.processStylesNode(o.children("styles").first(),k)},cpi:{draw:function(){var e=this,t=this.get("getRow")(),n=this.get("field"),a=this.get("imageSource"),o=this.get("imageElement"),i={},r=this.get("model");r&&(i.model=r),t&&(i.row=t),a&&a.getSrc&&a.getSrc({context:i,mergeSettings:{createFields:!1},dataSource:a.dataSource,fileField:n,xmlDef:e.xmlDefinition}).then(function(t){o.attr("src",t).css({display:"",visibility:"visible"}),e.publish("loaded")},function(){o.attr("src","").css({display:"none",visibility:"visible"}),e.publish("loaded")})},subscribeToEvents:function(){var e=this,t=e.get("model"),n=e.get("contextModel"),a=e.get("getRow"),o=a&&a(),i=[];function r(){var t;a&&(t=a()),t!==o&&e._getCPI().draw()}t&&i.push(t),n&&n!==t&&i.push(n),i.forEach(function(t){["cancelled","loaded","row.created","saved"].forEach(function(n){e.storeSubscription(t.subscribe(n,r))}),e.storeSubscription(t.subscribe("row.updated",function(t){e._getCPI().handleRowUpdates(t)}))})},handleRowUpdates:function(t){var n,o,i,r=this._getCPI().draw,l=this.get("getRow"),s=this.get("field");l&&t.row===l()&&(s?(o=(i=t.modelId&&e.$M(t.modelId))&&i.getField(s),i&&i.isRelationshipField(s)&&(n=i.getReferenceFieldNameFromRelationshipField(s)),(a(t.updates,s)||o.rel&&a(t.updates,o.rel)||n&&a(t.updates,n))&&r()):r())}}})}(skuid)},390:function(e,t,n){"use strict";!function(e){var t=e.builder.core,n=e.builder.desktop,a=e.utils.makeXMLDoc;t.registerBuilder(new t.Builder({id:"skuidheader",name:"Header",isGlobalComponent:!1,makeDraggable:!1,hideFromComponentsList:!0,hideWrapper:!0,isTransparent:!0,description:"The Header component allows for a content area at the top of the page. Predefined templates are available, or you can drag drop Skuid components into this component.",componentRenderer:function(a){var o=a.state.children("components").first(),i=a.body;a.element.addClass("nx-pagebuilder-header-component");var r=new n.ComponentAcceptor(o,void 0,void 0,a.mode),l=a.state.children("styles");e.utils.processStylesNode(l,a.element,{whitelist:t.builderSafeBackgroundProperties,removeInlineStyles:!0}),e.utils.processStylesNode(l,i,{whitelist:t.builderSafePositionProperties}),i.append(r.element),a.headerWrapper.append('<div class="nx-page-builder-hiddenheader-title">Header</div>')},propertiesRenderer:function(e,n){e.setTitle("Skuid Header Properties");var o=n.state,i=[];i.push({name:"Basic",props:[t.coreProps.uniqueIdProp({component:n,onChange:function(){n.refresh()}}),t.coreProps.cssClassProp(),{id:"sticky",label:"Sticky",type:"boolean",helptext:'If checked, this header will "stick" to the top of the page',onChange:function(e){e||(o.removeAttr("sticky"),n.save())}}]}),o.children("styles").first().length||(o.append(a("<styles/>")),n.save()),i.push({name:"Styles",tree:t.getStandardStyleTree({component:n,standardStyleSections:["background","border"]})},t.getRenderingCategory({component:n,propViewer:e})),e.applyPropsWithCategories(i,o)},defaultStateGenerator:function(){return a('<skuidheader sticky="true"/>').append(a("<components/>"))}})),t.registerBuilder(new t.Builder({id:"skuidfooter",name:"Footer",isGlobalComponent:!1,makeDraggable:!1,hideFromComponentsList:!0,isTransparent:!0,hideWrapper:!0,description:"The Footer component allows for a content area at the top of the page. Predefined templates are available, or you can drag drop Skuid components into this component.",componentRenderer:function(a){var o=a.state.children("components").first(),i=a.body;a.element.addClass("nx-pagebuilder-footer-component");var r=new n.ComponentAcceptor(o,void 0,void 0,a.mode),l=a.state.children("styles");e.utils.processStylesNode(l,a.element,{whitelist:t.builderSafeBackgroundProperties}),e.utils.processStylesNode(l,i,{whitelist:t.builderSafePositionProperties}),i.append(r.element),a.headerWrapper.append('<div class="nx-page-builder-hiddenheader-title">Footer</div>')},propertiesRenderer:function(e,n){e.setTitle("Skuid Footer Properties");var o=n.state,i=[];i.push({name:"Basic",props:[t.coreProps.uniqueIdProp({component:n,onChange:function(){n.refresh()}}),t.coreProps.cssClassProp(),{id:"sticky",label:"Sticky",type:"boolean",helptext:'If checked, this footer will "stick" to the bottom of the page',onChange:function(e){e||(o.removeAttr("sticky"),n.save())}}]}),o.children("styles").first().length||(o.append(a("<styles/>")),n.save()),i.push({name:"Styles",tree:t.getStandardStyleTree({component:n,standardStyleSections:["background","border"]})},t.getRenderingCategory({component:n,propViewer:e})),e.applyPropsWithCategories(i,o)},defaultStateGenerator:function(){return a('<skuidfooter sticky="true"/>').append(a("<components/>"))}}))}(skuid)},391:function(e,t,n){"use strict";!function(e){var t=e.$,n=e.builder.core,a=e.builder.desktop,o=e.utils.makeXMLDoc,i=!1,r=!1,l=!1;n.registerBuilder(new n.Builder({id:"pageregion",name:"Page Region",icon:"sk-bi-panelset",isJSCreateable:!0,isTransparent:!0,description:function(){return'The Page Region component allows for predefined component areas. It is used to define sections of a Master Page where the Child Page(s) can be customzied.<br><br>For additional information, see the <a href="'+("https://docs.skuid.com/v"+e.version.number+"/en/skuid/pages/master-child-pages.html")+'">Master and Child Pages tutorial</a>.'},componentRenderer:function(s){var d=s.state,p=d.attr("label"),c=d.attr("uniqueid");if(s.element.addClass("nx-pagebuilder-region"),i=!0===n.pageModel.getFieldValue(n.pageRow,"skuid__IsMaster__c"),r=null!==n.masterPage,l=n.pageModel.getFieldValue(n.pageRow,"skuid__Pages__r.totalSize")>0,i&&l){var u=s.actionItems&&s.actionItems.removeButton;u&&u.remove()}var h=new n.Builder({id:"pageregioncontent",name:"Region Content",hideWrapper:!0,isTransparent:!0,addChildComponent:function(e,t){return!!e.acceptor.canAcceptComponent(t)&&(e.acceptor.addComponent(t),!0)},componentRenderer:function(e){var t=e.acceptor=new a.ComponentAcceptor(e.state.children("components"));e.body.append(t.element)},propertiesRenderer:function(e,o){e.setTitle("Region Content Properties");var i=[n.coreProps.uniqueIdProp({component:s}),a.cssClassProp];i.push({id:"regionid",type:"picklist",label:"Default Page Region",helptext:"Identifies which Page Region this content should be loaded into by default",picklistEntries:n.getPageRegions().map(function(e){var n=t(e),a=n.attr("uniqueid");return{label:n.attr("label")||a,value:a}})}),e.applyPropsWithCategories([{name:"Basic",props:i},n.getRenderingCategory({component:o,model:null,propViewer:e})],o.state)},defaultStateGenerator:function(e){var t=o("<pageregioncontent/>"),n=e.regionId;return n&&t.attr("regionid",n),t.append(o("<components/>"))}});s.setTitle(s.builder.name+(p?" - "+p:"")),e.component.factory({element:s.body,definition:d,context:{inBuilder:!0}});var m=s.state.children("styles");if(e.utils.processStylesNode(m,s.element,{whitelist:n.builderSafeBackgroundProperties}),!0===r&&n.isInMasterPage(d)){var b=n.getPageXML(),f=b.children("pageregioncontents");f.length||(f=o("<pageregioncontents/>").appendTo(b));var g=f.children('pageregioncontent[regionid="'+c+'"]');g.length||(g=h.getDefaultState({regionId:c},{setUniqueId:!0}).appendTo(f));var v=n.componentFactory(g,h,!1);e.utils.processStylesNode(m,v.element,{whitelist:n.builderSafePositionProperties.concat(n.builderSafeFormatProperties)}),s.body.append(v.element)}else if(!0===i){var y=t("<div>").html("Edit Content on Child Page(s)").addClass("").css({"text-align":"center",background:"rgba(255, 255, 255, 0.50)",padding:"8px",margin:"4px",color:"rgb(0,0,0,0.5)"});e.utils.processStylesNode(m,y,{whitelist:n.builderSafePositionProperties.concat(n.builderSafeFormatProperties)}),s.body.append(y)}},propertiesRenderer:function(e,t){e.setTitle("Page Region Properties");var a=t.state,o=n.coreProps,r={id:"label",type:"text",label:"Label",helptext:"(Optional) This property gives this Page Region an easy to recognize name. If blank, the Unique Id will be used instead.",onChange:function(e){t.header.text(t.builder.name+(e?" - "+e:""))}},s=o.uniqueIdProp({component:t});i&&l&&a.attr("uniqueid")&&(s.mode="readonly"),e.applyPropsWithCategories([{name:"Basic",props:[r,s,o.cssClassProp()]},{name:"Styles",tree:n.getStandardStyleTree({component:t,standardStyleSections:["background"]})},n.getRenderingCategory({component:t,model:null,propViewer:e})],t.state)},defaultStateGenerator:function(){return o("<pageregion/>")}}))}(skuid)},392:function(e,t,n){"use strict";!function(e){if(e.platform.getName()!==e.constants.NATIVE){var t=e.builder.core;t.registerBuilder(new t.Builder({id:"social",name:"Chatter Feed",icon:"sk-bi-chatter",isJSCreateable:!1,isVFOnly:!0,description:'Displays a Chatter feed for the records in a Model, and optionally an area for adding Topics. For instance, if you have a Model on the Contact object, this component would show all Chatter data for the Contact requested by that Model.<br/><br/>More information: <a href="http://help.skuidify.com/s/tutorials/m/components/l/102569-chatter-feed" target="SkuidBuilderHelp">Chatter Feed Component Tutorial</a><br/><br/>Note: The Chatter Feed Component is only supported in the Visualforce and Lightning Experience runtimes.',handleStateEvent:function(e,n,a){t.handleModelRemove(e,n,{component:a}),t.handleModelIdChange(e,n)},componentRenderer:function(e){e.setTitle(e.builder.name)},propertiesRenderer:function(e,n){e.setTitle("Chatter Feed Properties");var a,o=n.state,i=o.attr("feedtype"),r=!!i&&o.attr("model"),l=[{id:"feedtype",label:"Feed Type",type:"picklist",defaultValue:"",picklistEntries:[{value:"",label:"Feed for Model's first row"},{value:"newsfeed",label:"News Feed for running user"}],onChange:function(){n.save().rebuildProps()}}],s={linkedComponent:n,name:"After-Post Actions",label:"After-Post Actions",props:[{type:"helptext",html:"Actions to run whenever a user adds a Post or Comment to the Feed.<br/><br/>For instance, if a user uses the Feed to Log a Call, you may want to re-query a Skuid Model that is showing Completed Tasks.<br/><br/>After-Post Actions are not currently supported in Lightning."}]};r&&(s.useModelName=r),a=[{name:"Feed",props:l},t.getActionsCategory(s)],"newsfeed"!==i&&l.push({id:"model",type:"model",label:"Model to show Feed for",helptext:"E.g. a Contact model with one row. Skuid will automatically pull in all Chatter data related to the record in this Model.",onChange:function(){n.updateAutoCreatedEditorCondition()}},{id:"showtopics",type:"boolean",label:"Show Topics for Object",helptext:"If true, and if this Model's object has Topics enabled, then an area will be added above the Chatter Feed allowing you to view and add Topics to the record in this Model. This feature is not currently supported in native Lightning apps."},{id:"showfollowers",type:"boolean",defaultValue:!0,label:"Show Followers",helptext:"Defaults to true. If false, then the Followers panel of this Feed will not be shown. This feature is not currently supported in native Lightning apps."}),l.push(t.coreProps.uniqueIdProp({component:n}),t.coreProps.cssClassProp()),e.applyPropsWithCategories(a,o)},defaultStateGenerator:function(){var n=t.getLastSelectedModelComponent(),a=n&&n.state?n.state.attr("id"):null;return e.utils.makeXMLDoc("<social/>").attr({model:a})}}))}}(skuid)},393:function(e,t,n){"use strict";!function(e){var t=e.builder,n=t.core,a=t.desktop;n.registerBuilder(new n.Builder({id:"includepanel",name:"Page Include",icon:"sk-bi-pageinclude",description:function(){return'Loads in the content of another Skuid Page.<br/><br/>For more information, see the <a href="'+("https://docs.skuid.com/v"+e.version.number+"/en/skuid/components/page-include/")+'">Page Include component tutorial</a>.'},hideFromComponentsList:!1,isJSCreateable:!0,isVFOnly:!0,componentRenderer:function(t){t.GUID=e.utils.generateGUID(),t.setTitle(t.builder.name),t.element.addClass("sk-pageinclude-builder");var n=t.state,a=n.attr("type"),o=n.attr("pagename"),i=n.attr("module"),r=n.attr("actiontype"),l=n.attr("objecttype"),s="";"visualforce"===a?s=o?"&lt;Content of Visualforce Page <strong>"+o+"</strong>&gt;":"Please select a Visualforce Page.":"skuid"===a?o?(s="&lt;Content of Skuid Page <strong>"+o+"</strong>&gt;&nbsp;&nbsp;",s+='<small><a href="'+e.platform.getPageComposeUrlByName(o,i)+'" target="_blank">(Edit Page)</a></small>'):s="Please select a Skuid Page.":"assignment"===a&&(s=r&&l?"&lt;Content of Skuid Page determined by running Page Assignments for the <strong>"+r+"</strong> Action on the <strong>"+l+"</strong> Object&gt;":"Please select an Object Type and Action Type."),t.body.css({padding:"8px","word-wrap":"break-word"}).html(s)},propertiesRenderer:function(t,o){t.setTitle("Page Include Properties");var i=[n.coreProps.uniqueIdProp({component:this,helptext:"Optional parameter that allows this Page Include Component to be referenced by other Components, such as Queues, or manipulated via JavaScript."}),n.coreProps.cssClassProp(),{id:"lazyload",type:"boolean",label:"Lazy Load",helptext:"If true, this Page Include will not load immediately. This is useful when you have a Queue that will load content into this Page Include later, or when you have a Page Include in a Tab, in which case the Tab, when activated, can be configured to load the Page Include's contents. You can also load Page Includes via JavaScript, e.g. with skuid.component.getById('MyPageInclude').load();"}];e.utils.inPlatform([e.constants.VISUALFORCE,e.constants.LIGHTNING])&&i.push({id:"showloading",type:"boolean",defaultValue:!0,label:"Show Loading Indicator",helptext:"If true, this Page Include will not display a Loading... indicator"}),t.applyPropsWithCategories([{name:"Basic",props:a.getIncludePanelProperties(o,o.state)},{name:"Advanced",props:i},n.getRenderingCategory({component:o,model:null,propViewer:t})],o.state)},defaultStateGenerator:function(){return e.utils.makeXMLDoc('<includepanel type="skuid"/>')}}))}(skuid)},394:function(e,t,n){"use strict";!function(e){var t=e.builder.core,n=e.builder.desktop;t.registerBuilder(new t.Builder({id:"custom",name:"Custom",icon:"sk-bi-custom",description:function(){return'This component will build itself based on rules defined by javascript provided to this page.<br/><br/>For more information, see the <a href="'+("https://docs.skuid.com/v"+e.version.number+"/en/skuid/javascript/create-custom-comp.html")+'">Custom component tutorial</a>.'},isJSCreateable:!0,hideFromComponentsList:!1,componentRenderer:function(e){e.header.text("Custom Component: "+e.state.attr("name"))},propertiesRenderer:function(e,a){e.setHeaderText("Custom Component: "+a.state.attr("name"));var o=[{id:"name",type:"string",label:"Component Type",onChange:function(){a.save().refresh()}}];o.push(t.coreProps.uniqueIdProp({component:this}),n.cssClassProp),e.applyPropsWithCategories([{name:"Basic",props:o},t.getRenderingCategory({component:a,model:null,propViewer:e})],a.state)},defaultStateGenerator:function(){return e.utils.makeXMLDoc('<custom name=""/>')}}))}(skuid)},395:function(e,t,n){"use strict";!function(e){var t=e.builder,n=t.core,a=e.$,o=e.utils.makeXMLDoc;n.registerBuilder(new n.Builder({id:"template",name:"Template",icon:"sk-bi-template",description:function(){return'A Merge-Field area.<br/><br/>More information: <ul><li><a href="https://docs.skuid.com/latest/en/skuid/models/template-fields.html" target="SkuidBuilderHelp">Create Template Fields</a></li><li><a href="https://docs.skuid.com/latest/en/tutorials/pages/highlight-critical-data-management-dashboard.html" target="SkuidBuilderHelp">Highlighting Critical Data using Templates and Custom Components</a></li></ul>For more information, see the <a href="'+("https://docs.skuid.com/v"+e.version.number+"/en/skuid/components/template/")+'">Template component tutorial</a>.'},hideFromComponentsList:!1,isJSCreateable:!0,isTransparent:!0,handleStateEvent:function(e,t,a){n.handleModelRemove(e,t,{component:a}),n.handleModelIdChange(e,t)},componentRenderer:function(t){var n=t.state,i=n.children("contents").first();if(!i.length){var r=n.text();i=o("<contents/>"),r&&i.text(r),n.empty().append(i),t.save()}var l=a("<div>").css({padding:"0.5em"}).appendTo(t.body);function s(){var t="true"===n.attr("allowhtml"),o=i.text();if(t){var r=a("<div>").html(o);a("iframe",r).replaceWith(a('<div class="sk-iframe-placeholder">')),a("script",r).replaceWith(a('<div class="sk-script-placeholder">')),a("style",r).replaceWith(a('<div class="sk-style-placeholder">')),l.empty().append(r)}else l.html(e.utils.nl2br(a("<div>").text(o).html()))}t.setTitle(t.builder.name),t.element.css({background:"none"}),t.body.css({padding:"0"}),t.refreshText=s,s()},propertiesRenderer:function(e,a){e.setTitle("Template Properties");var o,i=a.state;o=[{id:"model",type:"model",label:"Model",required:!1,onChange:function(){a.updateAutoCreatedEditorCondition&&a.updateAutoCreatedEditorCondition(),a.save().rebuildProps()}},{id:"contents",type:"template",label:"Template",location:"node",helptext:"The text or HTML to display in this area. Can contain global Merge-Fields, e.g. {{$Model.Contact.data.0.First_Name__c}}, as well as row/model merge fields (e.g. {{Name}}, {{CreatedDate}}) if you have selected a Model. Row merge fields can be easily added using the Merge-Field Picker to the right.",onChange:function(){a.refreshText()}},{id:"allowhtml",type:"boolean",label:"Allow HTML",defaultValue:!1,onChange:function(){a.refreshText()}}],i.attr("model")&&o.push({id:"multiple",type:"boolean",label:"Do not run template on each row",defaultValue:!1,helptext:"Normally, row-based template-rendering logic will be applied, so that the specified template will be run for all data rows in the selected Model. If this property is checked, however, the template will only be run once, in a Model context."}),o.push(n.coreProps.uniqueIdProp({component:a}),t.cssClassProp),e.applyPropsWithCategories([{name:"Basic",props:o},n.getRenderingCategory({component:a,model:null,propViewer:e}),n.getContextCategory({propViewer:e,state:i,model:i.attr("model")})],i)},defaultStateGenerator:function(){return o('<template multiple="false"/>').append(o("<contents/>"))}}))}(skuid)},396:function(e,t,n){"use strict";!function(e){var t=e.$,n=e.builder,a=n.core,o=n.desktop,i=e.utils,r=i.makeXMLDoc,l=e.events.publish,s=n.listHelper,d=s.exportPropertiesBuilder(),p=new a.Builder({id:"skootable",name:"Table",icon:"sk-bi-table",isJSCreateable:!0,givesContext:!0,supportsMultipleContextRows:!0,description:function(){return'The Table component allows for viewing and inline-editing lists of records.<br/><br/>For more information, see the <a href="'+("https://docs.skuid.com/v"+e.version.number+"/en/skuid/components/table/")+'">Table component tutorial</a>.'},actions:[{value:"changeMode",label:"Change Edit/Read Mode",props:[{id:"mode",label:"Mode",type:"picklist",picklistEntries:[{value:"toggle",label:"Toggle Mode"},{value:"edit",label:"Edit Mode"},{value:"read",label:"Read Mode"}]}]}],handleStateEvent:function(e,n,o){var r=e.attr("model"),s="model.idChange"===n.type,d="model.remove"===n.type,p="model.field.remove"===n.type,c="model.field.metadataChange"===n.type,u=!1,h=!1,m=void 0!==n.parentChildRelationship;if(!m||n.parentChildRelationship===e.attr("model")){if(d&&a.handleModelRemove(e,n,{component:o}),s&&a.handleModelIdChange(e,n),s||d||p){var b=e.find('fields > field > filters > filter[type="modelmerge"][model="'+(s?n.oldId:n.modelId)+'"]');b.length&&b.each(function(){d?(u=!0,t(this).remove()):s?(u=!0,t(this).attr("model",n.newId)):p&&t(this).attr("mergefield")===n.fieldId&&(u=!0,t(this).remove())})}if(s&&n.oldId===r&&(h=!0),(p||c)&&!m){if(e.attr("model")===n.modelId){var f,g="field[";n.fieldName?g+='name="'+i.escapeSelector(n.fieldName):g+='id="'+i.escapeSelector(n.fieldId),g+='"]',(f=e.children("fields").first().children(g)).length&&(p?(f.each(function(){t(this).remove()}),u=!0,h=!0):f.each(function(){var e=a.getComponentFromState(t(this));e&&e.refresh()}))}n.parentChildRelationship}if(d||s){e.children("fields").first().children('field[optionmodel="'+i.escapeSelector(d?n.modelId:n.oldId)+'"]').each(function(){d?t(this).removeAttr("optionmodel"):t(this).attr("optionmodel",n.newId),u=!0})}u&&l("skuidBuilderNeedSave"),h&&o&&l("skuidBuilderComponentNeedsRefresh",[o])}},propertiesRenderer:function(o,l){o.setTitle("Skuid Table Properties");var p,u,h,m,b,f,g,v,y,w,C,x,k,S,P,T,A,F,I,R=l.state,M=R.attr("model"),B=a.getModelFromModelName(M);function L(){R.attr({showsavecancel:"false",createrecords:"false"}),R.children("rowactions").children('[type="edit"],[type="delete"]').remove(),R.children("massactions").children('[type="massupdate"],[type="massedit"],[type="massdelete"]').remove(),R.children("actions").children('[type="createrow"]').remove()}function E(){R.attr({showsavecancel:"true",createrecords:"true"}),R.children("rowactions").append(r('<action type="edit"/>'),r('<action type="delete"/>')),R.children("massactions").append(r('<action type="massupdate"/>'),r('<action type="massdelete"/>'))}B&&(p=B&&"aggregate"===B.attr("type"),u=e.dataSource.getDataSource(B.attr("datasource")),h=u&&u.dataSourceType),""===R.attr("pagesize")&&R.attr("pagesize","all"),R.find("fields > field").each(function(e,n){var a=t(n);a.attr("uniqueid")||a.attr("uniqueid",i.generateUniqueId({prefix:"fi"}))}),g={id:"model",type:"model",label:"Model",required:!0,onChange:function(n){var o,i,r,s,d=!1,c=!1,u=!1,m=!1,b=a.getModelFromModelName(n),f=!0,g=!0,v=!0,y=l.body.find(".nx-pagebuilder-acceptor").data("object");b&&(o="aggregate"===b.attr("type"),i=b.children("fields,groupby").children(),f=!(s=(r=e.dataSource.getDataSource(b.attr("datasource")))&&r.dataSourceType)||!1!==s.prop("canServerSearch"),g=!s||!1!==s.prop("showSearchFields"),v=!h||!1!==h.prop("showSearchFields")),y.accept='.nx-pagebuilder-field[data-model="'+n+'"], .nx-pagebuilder-componenttag[data-ctype=template]',l.body.find(".nx-dropzone.ui-droppable").droppable("option","accept",y.accept),l.updateAutoCreatedEditorCondition(),f||"client"!==R.attr("searchmethod")&&(R.attr("searchmethod","client"),c=!0,u=!0,d=!0,m=!0),v!==g&&(c=!0,u=!0,m=!0),R.children("fields").children().each(function(){var e=t(this),n=e.attr("id"),a=e.attr("name");i.filter('[id="'+n+'"],[name="'+a+'"]').length||(e.remove(),d=!0,u=!0)}),o!==p&&(o?(R.attr("mode","readonly"),L()):p&&(R.attr("mode","read"),E()),d=!0,c=!0,u=!0),d&&l.save(),c&&l.rebuildProps(),u&&l.refresh(),m&&l.renderProperties&&l.renderProperties()}},v=s.propertiesFactory.pageSize(),y=s.propertiesFactory.alwaysResetPagination(),C={id:"mode",type:"picklist",label:"Default Mode",defaultValue:"read",helptext:"When this page is first loaded, should all of the table's rows be in Read mode with Inline Edit capabilities, permanent Edit mode, or Read-Only mode?",picklistEntries:[],onChange:function(e,t){"readonly"===e?(L(),l.save().refresh().rebuildProps()):t&&"readonly"===t&&(E(),l.save().refresh().rebuildProps())}},w={id:"heading",type:"text",label:"Title",onChange:function(e){l.heading.text(e)}},p||C.picklistEntries.push({label:"Read with Inline-Editing",value:"read"},{label:"Edit",value:"edit"}),C.picklistEntries.push({label:"Read-Only",value:"readonly"}),x={id:"createrecords",type:"boolean",label:"Allow Inline Record Creation",helptext:"If true, then users will be able to add new records to the table inline, without leaving the page, by clicking a green plus icon.",onChange:function(){l.handleOptionChange()}},k={id:"showsavecancel",type:"boolean",label:"Show Save/Cancel",helptext:"If true, then Save/Cancel buttons will be rendered above the table to allow changes to be saved/canceled. These buttons can alternatively be added to a Page Title component.",onChange:function(){l.handleOptionChange(),l.rebuildProps()}},S={id:"hideheader",type:"boolean",label:"Hide Header",helptext:"If checked, the table header (Table Title, Save, Cancel, Searchbox, Table Settings, and Mass Actions) does not display.",onChange:function(){l.handleOptionChange(),l.rebuildProps()}},P={id:"hidefooter",type:"boolean",label:"Hide Footer",helptext:"If checked, the table footer (Export, Pagination, and number of visible rows) does not display. ",onChange:function(){l.handleOptionChange(),l.rebuildProps()}},T={id:"showexportbuttons",type:"boolean",label:"Show Export Button",helptext:"If true, then users will see a button in this table's footer which will allow them to export its data to CSV (which can be opened in Excel, Numbers, etc.).",onChange:function(e){var t=l.state.children("exportproperties").first();e?(t=d.defaultStateGenerator(),l.state.append(t),l.exportComponent=a.componentFactory(t,d),l.footerWrapper.append(l.exportComponent.element)):(t.remove(),l.exportComponent&&l.exportComponent.remove(!0),delete l.exportComponent),l.save(),l.handleOptionChange()}},A={id:"allowcolumnreordering",type:"boolean",label:"Allow Users to Reorder Columns",onChange:function(){l.handleOptionChange(),l.rebuildProps()}},F={id:"responsive",type:"boolean",label:"Make Table Mobile Responsive"},I={id:"sortonclient",type:"boolean",label:"Sort Columns Client-side"},b=[g,C,w],"readonly"!==R.attr("mode")&&b.push(x),"true"!==R.attr("hideheader")&&"readonly"!==R.attr("mode")&&b.push(k),"true"!==R.attr("hidefooter")&&b.push(T),b.push(A,F,I,S,P),f=[{id:"buttonposition",type:"picklist",label:"Button Position",defaultValue:"",helptext:"Choose where save and cancel buttons as well as the search bar should be positioned horizontally, relative to the table",picklistEntries:[{label:"Left",value:"left"},{label:"Right",value:""}],onChange:function(){l.refresh()}},a.coreProps.uniqueIdProp({component:l}),n.cssClassProp,{id:"createrecordsicon",type:"icon",label:"Add New Records Icon",defaultValue:"sk-icon-add",onChange:function(){l.refresh()}}].concat(c(R)?[{id:"configicon",type:"icon",label:"Table Settings Button Icon",defaultValue:"sk-icon-configure",onChange:function(){l.refresh()}}]:[]).concat("true"===R.attr("showsavecancel")?[{id:"saveicon",type:"icon",label:"Save Icon",defaultValue:"sk-icon-save",onChange:function(){l.refresh()}},{id:"cancelicon",type:"icon",label:"Cancel Icon",defaultValue:"sk-icon-cancel",onChange:function(){l.refresh()}}]:[]),m=[{name:"Basic",props:b},a.getListSearchPropsCategory({component:l,modelName:M,hideOrderingOptions:!0}),{name:"Display",tree:[{label:"Pagination",linkedComponent:l,deleteable:!1,props:[v,y]},{label:"Scrolling",linkedComponent:l,deleteable:!1,propsFunction:function(e){var t=[{id:"allowscrollbars",type:"boolean",label:"Allow Scroll Bars",onChange:function(){e.rebuildProps()}}],n={id:"tablescrollheight",type:"csssize",label:"Max Table Height (Optional)",onChange:function(){e.rebuildProps()}};return"true"===e.state.attr("allowscrollbars")&&t.push(n,{id:"floatheader",type:"boolean",label:"Keep Header Visible"},{id:"freezeleftcolumns",type:"boolean",label:"Freeze Left Columns",helptext:"Note: This feature works best in Chrome or Firefox. Also, it is not compatible with table drawers."},{id:"columnstofreeze",type:"string",label:"# of Columns To Freeze"}),t}},{label:"Errors",linkedComponent:l,deleteable:!1,propsFunction:function(e){return a.getErrorBehaviorProperties(e)}},{label:"Advanced",linkedComponent:l,deleteable:!1,props:f}]},a.getRenderingCategory({component:l,model:null,propViewer:o}),a.getContextCategory({propViewer:o,state:R,model:M})],o.applyPropsWithCategories(m,l.state)},createFromModel:function(e,n){var o="aggregate"===e.attr("type"),i=a.getComponentFromState(e),r=s.fieldBuilder(i),l=p.getDefaultState(n,{setUniqueId:!0}),d=e.attr("id"),c=[],u="read";return o?u="readonly":"true"===e.attr("createrowifnonefound")&&(u="edit"),l.attr({model:d,mode:u}),t.each(e.children("fields, groupby").children(),function(){var e=t(this),n=a.getMetadataForField(a.getComponentFromState(e)),o=r.getDefaultState({fieldId:e.attr("id"),fieldName:e.attr("name"),isChildRelationship:"childRelationship"===e.attr("type"),relationshipName:n&&n.relationshipName});c.push(o)}),l.children("fields").append(c),l},defaultStateGenerator:function(){var t,n,o=a.getLastSelectedModelComponent(),i=o?o.state:a.getFirstModel(),l=i?i.attr("id"):null,s=!!i&&"aggregate"===i.attr("type"),d=r("<rowactions/>"),p=r('<massactions usefirstitemasdefault="true"/>'),c=!0;return s||(d.append(r('<action type="edit"/>'),r('<action type="delete"/>')),p.append(r('<action type="massupdate"/>'),r('<action type="massdelete"/>'))),i&&(t=(n=e.dataSource.getDataSource(i.attr("datasource")))&&n.dataSourceType)&&!1===t.prop("canServerSearch")&&(c=!1),r("<skootable/>").attr({showconditions:"true",showsavecancel:s?"false":"true",showerrorsinline:"true",searchmethod:c?"server":"client",searchbox:"true",showexportbuttons:"false",hideheader:"false",hidefooter:"false",pagesize:"10",alwaysresetpagination:"false",createrecords:s?"false":"true",model:l,buttonposition:"",mode:s?"readonly":"read",allowcolumnreordering:"true",responsive:"true"}).append(r("<fields/>"),d,p,r('<views><view type="standard"/></views>'))},componentRenderer:function(i){var r=i.state,l=s.actionBuilder(i),p=s.viewBuilder(i),u=s.globalActionsButtonBuilder(i),h=s.fieldBuilder(i,{hideable:!0,useUniqueId:!0,showLengthCounter:!0}),m=s.massActionsButtonBuilder(i);i.handleOptionChange||(i.handleOptionChange=function(){var e="false"!==r.attr("createrecords"),t=r.children("rowactions").children().length>0,n="false"!==r.attr("searchbox"),a="false"!==r.attr("showsavecancel"),o="true"===r.attr("showexportbuttons"),l=i.buttonsWrapper,s="true"===r.attr("hideheader"),d="true"===r.attr("hidefooter");i.actionsWrapper.toggle(e||t),i.searchbox.toggle(n),i.createBtn.toggle(e),l.toggle(a||n),a?l.children(".ui-button").css("display",""):l.children(".ui-button").hide(),o?i.footerWrapper.show():i.footerWrapper.hide(),s?f.hide():f.show(),d?i.footerWrapper.hide():i.footerWrapper.show(),c(r)?i.configIcon.show():i.configIcon.hide()}),i.setTitle(i.builder.name),i.body.css("padding","8px").addClass("nx-pagebuilder-table");var b=r.children("fields"),f=t("<div>").addClass("clearfix nx-editor-header nx-table-header"),g=t("<div>").addClass("nx-table-body"),v=r.attr("buttonposition")||"right";i.buttonsWrapper=t("<div>").addClass("nx-pagebuilder-buttonwrapper").css("float",v).append(t("<div>").text(e.label.read("save")).css({marginLeft:"4px"}).skooButton({icon:r.attr("saveicon")||"sk-icon-save"}).addClass("nx-pagebuilder-savebtn").button("disable"),t("<div>").text(e.label.read("cancel")).css({marginLeft:"4px"}).skooButton({icon:r.attr("cancelicon")||"sk-icon-cancel"}).addClass("nx-pagebuilder-cancelbtn").button("disable")),i.searchbox=t("<input>").prop("disabled",!0).addClass("searchbox").css({color:"#DDD","margin-top":"1px","margin-left":"4px"}),i.buttonsWrapper.append(i.searchbox),i.updateSearchBox||(i.updateSearchBox=function(){var t=i.state.attr("searchplaceholdertext");if(!t){var n=a.getModelFromModelName(i.state.attr("model")),o=a.getDataSourceFromModel(n),r=n?n.attr("sobject"):null,l=r?o.getCachedEntityMetadata(r):null,s=l?l.getLabelPlural():null;t=e.$L("search")+" "+(s||"")}i.searchbox.attr("placeholder",t),i.searchbox.toggle("false"!==i.state.attr("searchbox"))}),i.updateSearchBox(),i.filterWrapper=t("<div>").addClass("nx-conditioncontainer"),"left"===v&&i.filterWrapper.css({float:"left","margin-left":"4px"}),i.globalAndMassWrapper=t("<div>").css("float","left"),i.actionsWrapper=t("<div>").addClass("nx-table-fieldwrapper"),i.headerActions=t("<div>").addClass("nx-field-label nx-headeractions").appendTo(i.actionsWrapper),i.rowActionsWrapper=t("<div>").addClass("nx-rowactions-wrapper").appendTo(i.actionsWrapper),i.createBtn=t(e.ui.createIcon(r.attr("createrecordsicon")||"sk-icon-add")).css("display","inline-block").addClass("newbutton createbtn").skootip("Create Records Enabled").appendTo(i.headerActions),i.footerWrapper=t("<div>").addClass("nx-table-footer");var y=r.children("exportproperties").first();y.length?(i.exportComponent=a.componentFactory(y,d),i.footerWrapper.append(i.exportComponent.element)):"true"===i.state.attr("showexportbuttons")&&(y=d.defaultStateGenerator(),r.append(y),i.exportComponent=a.componentFactory(y,d),i.footerWrapper.append(i.exportComponent.element)),i.configIcon=t('<div style="float:'+v+'; padding:5px;">').append(t(e.ui.createIcon(r.attr("configicon")||"sk-icon-configure"))),i.heading=t("<h2>").addClass("nx-editor-header-heading"),i.heading.text(r.attr("heading")||""),f.append(i.heading),"left"===v?f.append(i.globalAndMassWrapper,i.filterWrapper,i.buttonsWrapper,i.configIcon):f.append(i.globalAndMassWrapper,i.configIcon,i.buttonsWrapper,i.filterWrapper),g.append(i.actionsWrapper),i.body.append(f,g,i.footerWrapper),i.handleOptionChange(),i.buildRowActionsPreview=function(){i.rowActionsWrapper.empty(),r.children("rowactions").children().each(function(){var n=t(this),a=n.attr("type"),o=n.attr("icon");if(!o)switch(a){case"delete":case"edit":o="sk-icon-"+a;break;default:o="sk-icon-magic"}i.rowActionsWrapper.append(t(e.ui.createIcon(o,{additionalClass:"inline nx-rowaction"})).data("state",n))}),i.rowActionsWrapper.on("click dblclick",".nx-rowaction",function(e){s.actionOnClickHandler({action:t(this),event:e,getModelName:function(){return r.attr("model")}})})};var w=new o.ComponentAcceptor(b,h,'.nx-pagebuilder-field[data-model="'+i.state.attr("model")+'"], .nx-pagebuilder-componenttag[data-ctype=template]',i.mode);w.element.css({border:"0px solid white",display:"inline-block",margin:"0px"}).addClass("nx-pagebuilder-acceptor-inline"),g.append(w.element);var C=i.state.children("actions").first(),x=C.children(),k=i.state.children("massactions").first(),S=k.children(),P=i.state.children("rowactions").first().children(),T=i.state.children("views").first().children(),A=i.state.children("filters").first().children(),F=t("<div>").css({"margin-top":"20px",clear:"both"}).appendTo(g),I=s.getSection(i,{addItemFunction:function(){i.addFeatureActions.addRowAction()},label:"Row Actions",tip:"Add Row Action",parentStateSelector:"skootable > rowactions"}),R=s.getSection(i,{addItemFunction:function(){i.addFeatureActions.addGlobalAction()},label:"Global Actions",tip:"Add Global Action",parentStateSelector:"skootable > actions"}),M=s.getSection(i,{addItemFunction:function(){i.addFeatureActions.addMassAction()},label:"Mass Actions",tip:"Add Mass Action",parentStateSelector:"skootable > massactions"}),B=s.getSection(i,{addItemFunction:function(){i.addFeatureActions.addView()},label:"Views",tip:"Add View",parentStateSelector:"skootable > views"}),L=I.section,E=M.section,N=R.section,D=B.section,W=I.container,V=M.container,G=R.container,O=B.container;if(F.append(L,N,E,D),F.appendTo(g),C.length){var q=a.componentFactory(C,u).element;i.globalActionsBtn=q,i.globalAndMassWrapper.append(q)}if(k.length){var z=a.componentFactory(k,m).element;i.massActionsBtn=z,i.globalAndMassWrapper.append(z)}i.globalActionsBtn&&i.globalActionsBtn.hide(),i.massActionsBtn&&i.massActionsBtn.hide(),x&&x.length&&i.globalActionsBtn.show(),S&&S.length&&i.massActionsBtn&&i.massActionsBtn.show(),T.each(function(){var e=a.componentFactory(t(this),p);O.append(e.element)}),x.each(function(){var e=a.componentFactory(t(this),l);e.globalContext=!0,G.append(e.element)}),S.each(function(){var e=a.componentFactory(t(this),l);V.append(e.element)}),P&&P.length&&(t.each(P,function(){var e=a.componentFactory(t(this),l);W.append(e.element)}),i.buildRowActionsPreview()),A&&A.length&&A.each(function(){var e=a.componentFactory(t(this),a.getBuilder("filter"));e.element.css("display","inline-block"),i.filterWrapper.append(e.element)}),i.filterWrapper.sortableComponent({axis:"x",component:i,parentStateSelector:"skootable > filters"});var U=i.addFeatureActions=s.addFeatureActions(i,{views:!0,massActions:!0,globalActions:!0,rowActions:!0,filters:!0,viewsContainer:O,massActionsContainer:V,globalActionsContainer:G,rowActionsContainer:W}),H=[{text:"Add View",icon:"sk-bi-view-add",action:U.addView},{text:"Add Mass Action",icon:"sk-bi-mass-action-add",action:U.addMassAction},{text:"Add Global Action",icon:"sk-bi-global-action-add",action:U.addGlobalAction},{text:"Add Row Action",icon:"sk-bi-row-action-add",action:U.addRowAction},{text:"Add Table Filter",icon:"sk-bi-filter-add",action:U.addFilter}];i.addActionGroup(H,"Add Features"),i.addActionGroup(n.makeAddFieldActionButton({component:i,fieldBuilder:h}),"Add Field(s)","sk-bi-field-pick")}});function c(e){var n="true"===e.attr("allowcolumnreordering"),a=e.children("fields").first().children().toArray().reduce(function(e,n){return e||"true"===t(n).attr("hideable")},!1);return n||a}a.registerBuilder(p)}(skuid)},397:function(e,t,n){"use strict";!function(e){var t=e.builder,n=t.core,a=e.$,o=e.utils.makeXMLDoc,i=e.ui.getRenderer;n.registerBuilder(new n.Builder({id:"richtext",name:"Rich Text",icon:"sk-bi-richtext",description:function(){return'A Rich Text Merge-Field area.<br/><br/>For more information, see the <a href="'+("https://docs.skuid.com/v"+e.version.number+"/en/skuid/components/rich-text/")+'">Rich Text component tutorial</a>.'},hideFromComponentsList:!1,isJSCreateable:!0,isTransparent:!0,handleStateEvent:function(e,t,a){n.handleModelRemove(e,t,{component:a}),n.handleModelIdChange(e,t)},onSelect:function(e){e._eventHandlers.selected()},afterDelete:function(e){a(window).off("mousedown."+e._GUID)},componentRenderer:function(t){var r=t.state,l=r.children("contents").first();if(!l.length){var s=r.text();l=o("<contents/>"),s&&l.text(s),r.empty().append(l),t.save()}var d,p,c=a("<div>").css({padding:"0.5em"}).on("mousedown click",function(e){e.stopPropagation()}).appendTo(t.body);t.setTitle(t.builder.name),t.element.css({background:"none"}),t.body.css({padding:"0"});var u,h,m=r.attr("model"),b=n.getModelFromModelName(m);b&&b.length>0&&(u={text:"Insert Field(s)",icon:"sk-bi-field-pick",action:function(){e.builder.showModelFieldPicker({allowModelFieldAdds:!0,isMultiselect:!0,model:b,addFieldsHandler:C})}},t.addActionItem(u),h=u.element.hide());var f,g=l.text(),v=a("#sk-wrapper-toolbar-pocket"),y="sk-wrapper-toolbar-"+e.utils.generateGUID(),w=n.fonts.web.concat(n.fonts.standard).join(";");function C(e){if(e&&a.isArray(e)){var t=r.attr("model"),o=t?n.getModelFromModelName(t):null;if(o){var i=!!o&&"aggregate"===o.attr("type"),l=e.reduce(function(e,t){return e+(i?"{{{"+t+"}}}":"{{"+t+"}}")},"");p.insertText(l)}}}0===v.length&&(v=a('<div id="sk-wrapper-toolbar-pocket">').appendTo("body").hide()),t.toolbarWrapper=a('<div id="'+y+'" data-for-component="'+t._GUID+'">').appendTo(v),f={value:g,config:{disallowedContent:"",allowedContent:!0,toolbar:"Template",font_names:w,sharedSpaces:{top:y}},onCreated:function(e){d=(p=e).focusManager,p.on("focus",function(){t.select({focus:!1}),h&&h.show()})},onChange:function(e){g=e,l.text(g),t.save()}},i("RICHTEXT").edit(f).appendTo(c.empty()),e.events.subscribe("skuid.builder.themeChanged",function(){f.font_names=n.fonts.web.concat(n.fonts.standard).join(";"),t.refresh(),i("RICHTEXT").edit(f).appendTo(c.empty())}),a(window).on("mousedown."+t._GUID,function(e){p&&(a(e.target).closest(".cke_toolbox").length>0||(a.contains(document,t.element[0])?(d.blur(),c.find("div[contenteditable]").blur()):a(window).off("mousedown."+t._GUID)))}),t._eventHandlers={selected:function(){p||f.initialize()}}},propertiesRenderer:function(e,o){e.setTitle("Template Properties");var i,r=o.state;i=[{id:"model",type:"model",label:"Model",required:!1,onChange:function(){o.updateAutoCreatedEditorCondition&&o.updateAutoCreatedEditorCondition(),o.save().rebuildProps().refresh()}}],r.attr("model")&&i.push({id:"multiple",type:"boolean",label:"Do not run template on each row",defaultValue:!1,helptext:"Normally, row-based template-rendering logic will be applied, so that the specified template will be run for all data rows in the selected Model. If this property is checked, however, the template will only be run once, in a Model context."}),e.applyPropsWithCategories([{name:"Basic",props:i,afterPropsRendered:function(e){a('<div class="nx-basicfieldeditor-item nx-pagebuilder-property-item">').append(a("<div>").addClass("nx-field").css({width:"100%"}).append(o.toolbarWrapper.remove())).appendTo(e)}},{name:"Advanced",props:[n.coreProps.uniqueIdProp({component:o}),t.cssClassProp]},n.getRenderingCategory({component:o,model:null,propViewer:e})],r)},defaultStateGenerator:function(){return o('<richtext multiple="false"/>').append(o("<contents/>"))}}))}(skuid)},398:function(e,t,n){"use strict";!function(e){var t=e.$,n=e.utils,a=e.builder,o=a.core,i=a.desktop,r=n.makeXMLDoc;o.registerBuilder(new o.Builder({id:"queue",name:"Queue",icon:"sk-bi-queue",description:function(){return'Queues can list items from your models in a vertical layout. Within the Properties pane, use the Display tab to customize the appearance of each queue item.  To configure the actions taken when Queue item is selected, use the Interactions tab.<br><br>For more information, see the <a href="'+("https://docs.skuid.com/v"+e.version.number+"/en/skuid/components/queue/")+'">Queue component tutorial</a>.'},isJSCreateable:!0,givesContext:!0,handleStateEvent:function(e,t,n){o.handleModelRemove(e,t,{component:n}),o.handleModelIdChange(e,t)},componentRenderer:function(n){var a=n.state,i="false"!==a.attr("searchbox");n.setTitle(n.builder.name),n.element.addClass("nx-queuebuilder"),n.searchWrapper=t("<div>"),n.searchbox=t("<input>").attr("placeholder","Search").prop("disabled",!0).addClass("searchbox").css({color:"#DDD","margin-bottom":"7px","box-sizing":"border-box","-moz-box-sizing":"border-box",width:"100%"}),n.searchWrapper.append(n.searchbox),n.filterWrapper=t("<div>").addClass("nx-conditioncontainer"),i&&(n.body.append(n.searchWrapper),n.updateSearchBox||(n.updateSearchBox=function(){var t=a.attr("searchplaceholdertext");if(!t){var r=o.getModelFromModelName(a.attr("model")),l=r?r.attr("sobject"):null,s=l?o.getDataSourceFromModel(r).getCachedEntityMetadata(l):null,d=s?s.getLabelPlural():null;t=e.$L("search")+" "+(d||"")}n.searchbox.attr("placeholder",t),n.searchbox.toggle(i)}),n.updateSearchBox()),"true"===a.attr("hideheader")&&n.searchWrapper.hide(),n.handleOptionChange||(n.handleOptionChange=function(){"true"===a.attr("hideheader")?n.searchWrapper.hide():n.searchWrapper.show()}),n.body.append(n.filterWrapper);var l=a.children("filters").first().children();l&&l.length&&l.each(function(){var e=o.componentFactory(t(this),o.getBuilder("filter"));n.filterWrapper.append(e.element)}),n.filterWrapper.sortableComponent({axis:"y",component:n,parentStateSelector:"queue > filters"});var s=[{text:"Add Queue Filter",icon:"sk-bi-filter-add",action:function(){0===a.children("filters").length&&(a.append(r("<filters/>")),n.save());var e,t=o.getBuilder("filter"),i=t.getDefaultState();a.children("filters").first().append(i),e=o.componentFactory(i,t),n.save(),n.filterWrapper.append(e.element),e.select()}}];n.addActionGroup(s,"Add Features")},propertiesRenderer:function(e,t){e.setHeaderText("Queue Properties");var n=t.state,a=n.attr("model"),l={id:"tagrendertype",type:"picklist",label:"Item Renderer Type",defaultValue:"template",picklistEntries:[{label:"Template",value:"template"},{label:"Snippet",value:"snippet"}],onChange:function(){t.rebuildProps()}},s={id:"rendertemplate",type:"template",label:"Render Template"},d={id:"hideheader",type:"boolean",label:"Hide Header",helptext:"If checked, the queue header (Queue Title and Searchbox) does not display.",onChange:function(){t.handleOptionChange(),t.rebuildProps()}},p={id:"hidefooter",type:"boolean",label:"Hide Footer",helptext:"If checked, the queue footer (number of visible rows) does not display.",onChange:function(){t.rebuildProps()}},c=[],u=[{id:"model",type:"model",label:"Model",required:!0,onChange:function(){t.save(),t.updateAutoCreatedEditorCondition(),t.rebuildProps()}},{id:"title",type:"string",label:"Title"},o.coreProps.uniqueIdProp({component:t}),i.cssClassProp,d,p],h=[l];"template"===n.attr("tagrendertype")?h.push(s,{id:"itemicon",type:"icon",label:"Icon"}):"snippet"===n.attr("tagrendertype")&&h.push({id:"rendersnippet",type:"string",label:"Render Snippet"},s),void 0===n.attr("tokenizesearch")&&n.attr("tokenizesearch","true"),c.push({name:"List",props:u},o.getListSearchPropsCategory({component:t,modelName:a,hideOrderingOptions:!0,additionalBehaviorProps:[{id:"showsearchbydefault",type:"boolean",label:"Show Filters and Search by default"}]}),{name:"Item Display",props:h},o.getInteractionsCategory({useModelName:a,linkedComponent:t,additionalActionOptions:[i.getDrawerActionOption({getContextModelName:function(){return a},useModelName:a,linkedComponent:t}),{value:"updateIncludePanel",label:"Update Page Include"}]})),function(e){var t,n,a=e.attr("clickactiontype"),o=e.children("actions").first();o.length>0?((n=r(o[0].outerHTML.replace(/^<actions/,"<interaction").replace(/<\/actions>$/,"</interaction>"))).attr("type","tap"),0===e.children("interactions").length&&e.append(r("<interactions/>")),(t=e.children("interactions").first()).append(n),o.remove()):0===e.children("interactions").length&&(t=r("<interactions/>"),n=r("<interaction/>").appendTo(t),"redirect"===a?(n.append(r("<action/>").attr({type:"redirect",window:e.attr("window"),url:e.attr("actionurl")})),e.append(t),e.removeAttr("window actionurl")):"snippet"===a?(n.append(r("<action/>").attr({type:"custom",snippet:e.attr("actionsnippet")})),e.append(t),e.removeAttr("actionsnippet")):"updatepanel"===a&&(n.append(r("<action/>").attr({type:"updateIncludePanel",pagename:e.attr("pagename"),panelid:e.attr("actionpanel"),querystring:e.attr("querystring"),module:e.attr("module"),parameter:e.attr("defaultitemparameter")})),t.append(r('<interaction type="onrender"/>').append(r("<action/>").attr({type:"loadIncludePanel",pagename:e.attr("pagename"),panelid:e.attr("actionpanel"),defaultitemparameter:e.attr("defaultitemparameter")}))),e.append(t),e.removeAttr("actionpanel pagename defaultitemparameter"))),e.removeAttr("clickactiontype")}(n),c.push(o.getRenderingCategory({component:t,model:null,propViewer:e}),o.getContextCategory({propViewer:e,state:n,model:a})),e.applyPropsWithCategories(c,n)},defaultStateGenerator:function(){var e=o.getLastSelectedModelComponent(),t=e&&e.state?e.state.attr("id"):null,a=e?n.getNameField(e.state.attr("sobject")):"Name";return r("<queue/>").attr({model:t,tagrendertype:"template",searchbox:"true",tokenizesearch:"true",showsearchbydefault:"true",hideheader:"false",hidefooter:"false"}).append(r("<rendertemplate>{{"+a+"}}</rendertemplate>")).append(r('<interactions><interaction type="tap"><action  type="updateIncludePanel" querystring="id={{Id}}"/></interaction></interactions>'))}}))}(skuid)},399:function(e,t,n){"use strict";!function(e){var t=e.$,n=e.builder,a=n.core,o=n.desktop,i=e.utils,r=e.label.read,l=i.makeXMLDoc,s=e.constants.SALESFORCE;a.registerBuilder(new a.Builder({id:"pagetitle",name:"Page Title",icon:"sk-bi-pagetitle",isJSCreateable:!0,givesContext:!0,description:function(){return'The Page Title component provides an easy way to display a title and subtitle for an object. Typically, this component is used on detail pages to show the main context of the page. Buttons such as save, cancel, share, clone and delete are also provided in this component.<br><br>For more information, see the <a href="'+("https://docs.skuid.com/v"+e.version.number+"/en/skuid/components/page-title/")+'">Page Title component tutorial</a>.'},handleStateEvent:function(n,o,i){var r="model.idChange"===o.type,l="model.remove"===o.type,s=!1;l&&a.handleModelRemove(n,o,{component:i}),r&&a.handleModelIdChange(n,o),(l||r)&&n.children("actions").first().children('action[type="savecancel"]').each(function(){t(this).children("models").first().children("model").each(function(){var e=t(this).text();l&&e===o.modelId?(t(this).remove(),s=!0):r&&e===o.oldId&&(t(this).text(o.newId),s=!0)})}),s&&e.events.publish("skuidBuilderNeedSave")},propertiesRenderer:function(e,n){var i=n.state;e.setHeaderText("Page Title Properties");var r=[{id:"model",type:"model",label:"Model",required:!0,onChange:function(e){if(a.getDataSourceTypeFromModelName(e).name!==s){var o=n.state.find("action"),i=!1;o.each(function(e,n){-1!==["share","clone","sfdcweblink"].indexOf(t(n).attr("type"))&&(o[e].remove(),i=!0)}),i&&n.save().refresh()}n.updateAutoCreatedEditorCondition()}},{id:"maintitle",type:"template",label:"Title",onChange:function(e){n.body.find(".nx-pagetitle-maintitle").text(e||"Title")}},{id:"subtitle",type:"template",label:"Subtitle",onChange:function(e){n.body.find(".nx-pagetitle-subtitle").text(e||"Subtitle")}}];e.applyPropsWithCategories([{name:"Basic",props:r},{name:"Advanced",props:[a.coreProps.uniqueIdProp({component:n}),o.cssClassProp]},a.getRenderingCategory({component:n,model:null,propViewer:e}),a.getContextCategory({propViewer:e,state:i,model:i.attr("model")})],i)},componentRenderer:function(e){e.setTitle(e.builder.name);var n=o.makeCustomButtonBuilder({parentLabel:"Page Title",getContextModelName:function(){return e.state.attr("model")},customTypes:[{label:"Save / Cancel",value:"savecancel"}],componentRendererCallback:function(e,n){switch(e.state.attr("type")){case"savecancel":var a=e.state;n.button.text(a.attr("cancelLabel")||r("cancel")).skooButton({icon:a.attr("cancelicon")||"sk-icon-cancel"}),t("<div>").css({marginLeft:"4px",opacity:"0.35"}).text(a.attr("saveLabel")||r("save")).skooButton({icon:a.attr("saveicon")||"sk-icon-save"}).appendTo(e.body)}},customTypeOnChangeCallback:function(e,t){"savecancel"===t&&e.state.removeAttr("label")},customTypePropertiesCallback:function(t,n){var o=n.predefinedProps;n.basicPropsList.savecancel=[o.typeProp,o.modelsProp,o.rollbackOnErrorProp],n.advancedPropsList.savecancel=[o.afterSaveProp,o.afterCancelProp,o.saveLabel,o.cancelLabel,o.windowProp,o.saveIcon,o.cancelIcon],"savecancel"===t.state.attr("type")&&n.categorizedProps.push(a.getHotkeysCategory({id:"savehotkeys",label:"Save Hotkeys",linkedComponent:e}),a.getHotkeysCategory({id:"cancelhotkeys",label:"Cancel Hotkeys",linkedComponent:e}))}}),i=new o.ComponentAcceptor(e.state.children("actions"),n,".sk-pagetitle-button",e.mode);i.element.css({margin:"8px",float:"right",border:"0px solid white"}).addClass("nx-pagebuilder-acceptor-inline-small").appendTo(e.body),e.addActionItem("Add Button","sk-bi-action-add",function(){var t=n.getDefaultState({elementType:"action"}),o=e.state.children("actions");0===o.length&&(o=l("<actions/>").appendTo(e.state)),o.append(t);var r=a.componentFactory(t,n,!0);i.addComponent(r),e.save()});var s=t("<div>").css("margin","6px"),d=e.state.children("subtitle").first().text()||"Subtitle",p=t("<div>").addClass("nx-pagetitle-subtitle").text(d),c=e.state.children("maintitle").first().text()||"Title",u=t("<div>").addClass("nx-pagetitle-maintitle").text(c);s.append(p),s.append(u),e.body.append(s)},defaultStateGenerator:function(){var e=a.getLastSelectedModelComponent(),t=e&&e.state?e.state.attr("id"):null,n=e?i.getNameField(e.state.attr("sobject")):"Name";return l("<pagetitle/>").attr({model:t}).append(l("<maintitle><template>{{"+n+"}}</template></maintitle>"),l("<subtitle><template>{{Model.label}}</template></subtitle>"),l("<actions/>"))}}))}(skuid)},400:function(e,t,n){"use strict";!function(e){var t=e.$,n=e.builder.core,a=e.utils.makeXMLDoc;n.registerBuilder(new n.Builder({id:"image",name:"Image",icon:"sk-bi-image",isJSCreateable:!0,isTransparent:!0,description:function(){return'The Image component displays an image on a Skuid page, which you can then use as a link or a button.  Within the Properties pane, set the Interactions tab to set custom actions that are taken when the Image is clicked or swiped.<br><br>For more information, see the <a href="'+("https://docs.skuid.com/v"+e.version.number+"/en/skuid/components/image/")+'">Image component tutorial</a>.'},componentRenderer:function(n){n.setTitle(n.builder.name);var a=t("<div>").appendTo(n.body);n.imageComponent?(n.imageComponent.element.removeAttr("style"),n.imageComponent.render(),n.imageComponent.element.appendTo(n.body)):n.imageComponent=e.component.factory({element:a,xmlDefinition:n.state,options:{ignoreConditionalRendering:!0}})},mobileRenderer:function(e){var t=e.state.attr("uniqueid");e.setTitle(e.builder.name+(t?" - "+t:""))},propertiesRenderer:function(e,t){e.setTitle("Image Properties");var a=t.state,o=n.getImageProperties({component:t,propViewer:e}),i=t.currentImageSource;!function(e){void 0===e.attr("behavior")&&e.attr("behavior","none")}(a),o.push({id:"alt",label:"Alternative Text",type:"template",location:"attribute"},{id:"behavior",label:"Behavior",type:"picklist",options:[{value:"none",label:"None"},{value:"link",label:"Link"},{value:"button",label:"Button"}],onChange:function(){t.refresh().rebuildProps()}});var r=[];r.push({name:"Basic",props:o},{name:"Advanced",props:[n.coreProps.uniqueIdProp({component:t,onChange:function(){t.refresh()}}),n.coreProps.cssClassProp()]}),"none"!==a.attr("behavior")&&r.push(n.getInteractionsCategory({linkedComponent:t})),r.push({name:"Styles",tree:n.getStandardStyleTree({component:t,standardStyleSections:["itemsize","border"]})},n.getRenderingCategory({component:t,model:a.attr("model"),propViewer:e})),i&&(i.needsRecordContext||i.optionalRecordContext)&&r.push(n.getContextCategory({propViewer:e,state:a,modelprop:"model",onChange:function(){t.refresh().rebuildProps()}})),e.applyPropsWithCategories(r,a)},defaultStateGenerator:function(){return a('<image source="staticresource"/>')}}))}(skuid)},401:function(e,t,n){"use strict";var a,o,i,r,l,s;skuid,a=skuid.$,o=skuid.builder.core,i=skuid.builder.desktop,r=skuid.utils,l=skuid.builder.listHelper,s=r.makeXMLDoc,o.registerBuilder(new o.Builder({id:"filterset",name:"Filter Set",icon:"sk-bi-filters",isJSCreateable:!0,givesContext:!0,description:function(){return'The Filter Set component serves as a container for one or more filters. The set is connected to a specific model; the filters can affect the data within any components connected to that model. Additionally, there are several layout options for filters, as well as standard filter functionality and conditional rendering options.<br><br>For more information, see the <a href="https://docs.skuid.com/v'+skuid.version.number+'/en/skuid/components/filter-set/">Filter Set component tutorial</a>.'},handleStateEvent:function(e,t,n){o.handleModelRemove(e,t,{component:n}),o.handleModelIdChange(e,t)},componentRenderer:function(e){e.setTitle(e.builder.name);var t=e.state,n=e.body,i=t.children(":first").children(),r=t.attr("layout"),s=t.attr("position");e.filterWrapper=a('<div class="sk-filterset">').addClass(r?"sk-filterset-vertical":"").css("float",!r&&s?"right":"none"),function(e,t,n){t&&t.length&&(o.appendComponents(e,t,{customBuilder:o.getBuilder("filter"),makeDraggable:!1,isGlobalComponent:!1}),e.children().addClass("sk-filterset-item").css("display",n?"block":"inline-block"))}(e.filterWrapper,i,r),e.addActionItem("Add Filter","sk-bi-action-add",l.addFeatureActions(e,{filters:!0,filterSetFocus:!0}).addFilter),e.handleOptionChange=function(){},e.filterWrapper.sortableComponent({axis:r?"y":"x",component:e,parentStateSelector:"filters"}),n.append(e.filterWrapper)},propertiesRenderer:function(e,t){e.setHeaderText("Filter Set Properties");var n=t.state,a=n.attr("model"),r=[];r.push({id:"model",type:"model",label:"Model",required:!0,onChange:function(){t.save().rebuildProps()}},{id:"layout",type:"picklist",label:"Layout",picklistEntries:[{label:"Horizontal",value:""},{label:"Vertical",value:"vertical"}],onChange:function(){t.rebuildProps().refresh()}},{id:"position",type:"picklist",label:"Position",picklistEntries:[{label:"Left",value:""},{label:"Right",value:"right"}],onChange:function(){t.rebuildProps().refresh()}}),e.applyPropsWithCategories([{name:"Basic",props:r},o.getListSearchPropsCategory({component:t,modelName:a,hideOrderingOptions:!0}),{name:"Advanced",props:[o.coreProps.uniqueIdProp({component:t}),i.cssClassProp]},o.getRenderingCategory({component:t,model:null,propViewer:e}),o.getContextCategory({propViewer:e,state:n,model:a})],n)},defaultStateGenerator:function(){var e=o.getLastSelectedModelComponent(),t=e?e.state:o.getFirstModel(),n=t?t.attr("id"):null;return s("<filterset/>").attr({model:n,searchmethod:"server",searchbox:"true"}).append(s("<filters/>"))}}))},402:function(e,t,n){"use strict";!function(e){var t=e.$,n=e.utils,a=e.builder,o=a.core,i=e.constants.FIELD_TYPES,r=a.desktop,l=n.makeXMLDoc,s=e.events.publish,d="columns",p="fields",c="field";function u(n,a,o){if(o)n&&n.each(function(){e.responsive.prepareDivision(t(this),{behavior:"flex",minWidth:"300px",relativeSize:"1"})}),a.removeAttr("width"),a.attr("ratio","1"),a.attr("minwidth","300px"),a.attr("behavior","flex");else{var i=Math.floor(1e3/a.length)/10+"%";n&&n.each(function(){e.responsive.prepareDivision(t(this),{behavior:"specified",width:i})}),a.removeAttr("minwidth ratio behavior"),a.attr("width",i)}e.events.publish("skuidBuilderSave")}function h(e){var t=l("<"+c+' uniqueid="'+n.generateUniqueId()+'"/>');if(e)if(e.fieldId&&t.attr("id",e.fieldId),e.fieldName&&t.attr("name",e.fieldName),"TEXTAREA"===e.fieldDisplayType&&t.attr("showlengthcounter","true"),"template"===e.componentId||e.isChildRelationship){var a=o.getBuilder("template").defaultStateGenerator();a.removeAttr("model multiple");var r=e.relationshipName;r&&(r=o.prettyPrintAPIName(r)),t.prepend(l("<label/>").text(r||"Template Field")),e.isChildRelationship?(t.attr("type","CHILDREL").append(a),t.attr("limit","100")):t.attr("type","COMBO").append(a)}else"image"===e.componentId&&t.prepend(l("<label/>").text("Image")).attr("type",i.IMAGE);return t}var m=new o.Builder({id:"basicfieldeditor",name:"Field Editor",icon:"sk-bi-fieldeditor",isJSCreateable:!0,givesContext:!0,description:function(){return'The Field Editor component is similar to page layouts in standard salesforce.  It provides for editing and viewing fields on a single record.<br><br>For more information, see the <a href="'+("https://docs.skuid.com/v"+e.version.number+"/en/skuid/components/field-editor/")+'">Field Editor component tutorial</a>.'},actions:[{value:"changeMode",label:"Change Edit/Read Mode",props:[{id:"mode",label:"Mode",type:"picklist",picklistEntries:[{value:"toggle",label:"Toggle Mode"},{value:"edit",label:"Edit Mode"},{value:"read",label:"Read Mode"}]}]}],handleStateEvent:function(e,a,i){var r=e.attr("model"),l="model.idChange"===a.type,d="model.remove"===a.type,p="model.field.remove"===a.type,c="model.field.metadataChange"===a.type,u=!1,h=!1,m=void 0!==a.parentChildRelationship;if(d&&o.handleModelRemove(e,a,{component:i}),l&&o.handleModelIdChange(e,a),l||d||p){var b=e.find('fields > field > filters > filter[type="modelmerge"][model="'+(l?a.oldId:a.modelId)+'"]');b.length&&b.each(function(){d?(t(this).remove(),u=!0):l?(u=!0,t(this).attr("model",a.newId)):p&&t(this).attr("mergefield")===a.fieldId&&(u=!0,t(this).remove())})}if(l&&a.oldId===r&&(h=!0),(p||c)&&!m){if(e.attr("model")===a.modelId){var f,g="field[";a.fieldName?g+='name="'+n.escapeSelector(a.fieldName):g+='id="'+n.escapeSelector(a.fieldId),g+='"]',(f=e.find(g)).length&&(p?(f.each(function(){t(this).remove()}),u=!0,h=!0):f.each(function(){var e=o.getComponentFromState(t(this));e&&e.refresh()}))}a.parentChildRelationship}if(u&&s("skuidBuilderNeedSave"),h&&i&&s("skuidBuilderComponentNeedsRefresh",[i]),p)return!1},propertiesRenderer:function(e,n){var a=n.state;e.setTitle("Field Editor Properties");var i=[{id:"model",type:"model",label:"Model",required:!0,onChange:function(e){var a='.nx-pagebuilder-field[data-model="'+e+'"], .nx-pagebuilder-componenttag[data-ctype=template]';n.body.find(".nx-pagebuilder-acceptor").each(function(){t(this).data("object").accept=a}),n.body.find(".nx-dropzone.ui-droppable").droppable("option","accept",a),n.updateAutoCreatedEditorCondition(),n.rebuildProps()}},{id:"showsavecancel",type:"boolean",label:"Show Save/Cancel",onChange:function(e){var t=n.body.find(".nx-fieldeditor-header");e?t.show():t.hide(),n.rebuildProps()}},{id:"buttonposition",type:"picklist",label:"Button Position",defaultValue:"",helptext:"Choose where save and cancel buttons should be positioned horizontally, relative to the field editor",picklistEntries:[{label:"Left",value:"left"},{label:"Right",value:""}],onChange:function(){n.refresh()}},{id:"mode",type:"picklist",label:"Default Mode",defaultValue:"read",picklistEntries:[{label:"Read with Inline-Edit",value:"read"},{label:"Edit",value:"edit"},{label:"Read-Only",value:"readonly"}]}],l={id:"layout",type:"picklist",label:"Field Layout",defaultValue:"",picklistEntries:[{label:"Label Beside Field",value:""},{label:"Label Above Field",value:"above"}],onChange:function(){n.refresh()}},s=a.children("columns").first();e.applyPropsWithCategories([{name:"Basic",props:i},{name:"Display",tree:[{label:"Field Layout",linkedComponent:n,deleteable:!1,props:[l]},{label:"Column Layout",linkedComponent:n,state:s,deleteable:!1,propsFunction:function(e){var t=[{id:"layoutmode",label:"Column Layout Mode",type:"picklist",defaultValue:"fixed",compatText:"responsive"==n.state.children().attr("layoutmode")?"Responsive is not compatibile with IE 9 and below":"",picklistEntries:[{value:"fixed",label:"Fixed Width"},{value:"responsive",label:"Responsive"}],onChange:function(t){var a="responsive"===t;a?(e.state.attr("columngutter","4px"),e.state.attr("rowgutter","4px")):e.state.removeAttr("columngutter rowgutter"),e.rebuildProps(),u(null,e.state.children(),a),n.refresh()}}];return"responsive"===s.attr("layoutmode")&&(t=t.concat(o.getGridProperties(n))),t}},{label:"Errors",linkedComponent:n,deleteable:!1,propsFunction:function(e){return o.getErrorBehaviorProperties(e)}},{label:"Advanced",linkedComponent:n,deleteable:!1,props:[o.coreProps.uniqueIdProp({component:this}),r.cssClassProp].concat("true"===a.attr("showsavecancel")?[{id:"saveicon",type:"icon",label:"Save Icon",defaultValue:"sk-icon-save",onChange:function(){n.refresh()}},{id:"cancelicon",type:"icon",label:"Cancel Icon",defaultValue:"sk-icon-cancel",onChange:function(){n.refresh()}}]:[])}]},o.getRenderingCategory({component:n,model:null,propViewer:e}),o.getContextCategory({component:n,propViewer:e,state:a,model:a.attr("model")})],a)},componentRenderer:function(s){s.setTitle();var m=s.state;s.body.addClass("nx-basicfieldeditor");var b=t("<div>").addClass("nx-fieldeditor-header nx-editor-header").css("height","35px").prependTo(s.body).hide(),f=t("<div>").css("float",m.attr("buttonposition")||"right").appendTo(b);t("<div>").html(e.label.read("cancel")).css({marginLeft:"4px"}).skooButton({icon:m.attr("cancelicon")||"sk-icon-cancel"}).addClass("nx-pagebuilder-savebtn").prependTo(f).button("disable"),t("<div>").html(e.label.read("save")).css({marginLeft:"4px"}).skooButton({icon:m.attr("saveicon")||"sk-icon-save"}).addClass("nx-pagebuilder-cancelbtn").prependTo(f).button("disable"),"true"===m.attr("showsavecancel")&&b.show();var g=function(e,n){var a=e.find(".sk-section-collapse-icon"),o="open"===n,i="collapsed"===n;"no"===n&&a?a.remove():(o||i)&&(a&&a.length||(a=t("<div>").addClass("sk-section-collapse-icon ui-icon ").prependTo(e)),a.toggleClass("ui-icon-triangle-1-s",o).toggleClass("ui-icon-triangle-1-e",i))},v=new o.Builder({id:"section",name:"Section",componentRenderer:function(e){var u=e.state,b=t("<div>").addClass("nx-basicfieldeditor-section-wrapper"),f=t("<div>").addClass("nx-basicfieldeditor-section").css({margin:"0"}).appendTo(b),y="false"!==u.attr("showheader")&&t("<div>").addClass("nx-basicfieldeditor-section-header").text(u.attr("title")).appendTo(f),x=t("<div>").addClass("nx-basicfieldeditor-section-body").appendTo(f),k=u.children(p);y&&g(y,u.attr("collapsible")),e.sectionHeader=y,k.length||(k=l("<"+p+"/>"),u.append(k));var S=function(e){var a=e.editorComponent,r=e.columnSetBuilder;return new o.Builder({id:c,name:"Field",icon:"sk-bi-field",componentRenderer:function(l){if(l.state.is(d))return r.componentRenderer(l,e),void l.element.removeClass("nx-pagebuilder-component-hidewrapper");l.element.addClass("nx-pagebuilder-field").attr("data-model",a.state.attr("model")),l.body.addClass("nx-basicfieldeditor-item").css("background","inherit").css("border-bottom","1px solid #f2f2f2").css("padding","0px 8px").css("overflow","hidden");var s,c,u=a.state.attr("model"),h=l.state.attr("id"),m=l.state.attr("name"),b=a.state.attr("layout")?"nx-layout-"+a.state.attr("layout"):"",f=l.state.attr("type");if(l.body.removeClass(l.body.attr("data-layout")).addClass(b).attr("data-layout",b),f===i.COMBO||f===i.IMAGE)s=l.state.children("label").text(),c=t("<div>").addClass("nx-basicfieldeditor-item-label").text(s),l.body.append(c),l.body.append(t('<div class="nx-field"><div class="nx-fieldtext">'+(f===i.COMBO?"TEMPLATE":i.IMAGE)+"</div></div>"));else{var g,v=o.getFieldInfoFromCache(u,h);if(m){var y=o.getModelFromModelName(u);if(y){var w=y.children(p).first().children('[name="'+n.escapeSelector(m)+'"]').first();w&&(g=w.attr("function"))}}s=l.state.children("label").length?l.state.children("label").text():g?g.toUpperCase()+"("+h+")":v?v.label:"Unknown Field",c=t("<div>").addClass("nx-basicfieldeditor-item-label").append(s),l.body.append(c);var C=l.state.attr("showhelp");if(C=void 0===C||"true"===C,v&&v.inlineHelpText&&C){var x=t("<div>").addClass("sk-icon sk-icon-help inline").css({"vertical-align":"top","margin-left":"4px"});x.skootip(v.inlineHelpText),c.append(x)}l.body.append(t('<div class="nx-field"><div class="nx-fieldtext">'+(v&&v.displaytype?v.displaytype:h)+"</div></div>"))}l.addActionItem("","sk-icon-delete",function(){l.remove()})},propertiesRenderer:function(e,t){if(t.state.is(d))r.propertiesRenderer(e,t);else{e.setTitle("Field Properties");var n=o.getFieldProperties(t,a.state.attr("model"),a.builderId);e.applyPropsWithCategories(n,t.state)}},defaultStateGenerator:h,hideWrapper:!0,dragHandle:".nx-pagebuilder-component"})}({editorComponent:s,columnSetBuilder:w,sectionBuilder:v,columnBuilder:C}),P=new r.ComponentAcceptor(k,S,'.nx-pagebuilder-field[data-model="'+s.state.attr("model")+'"], .nx-pagebuilder-componenttag[data-ctype=template]');P.element.css({border:"0px solid white",margin:"0"}),x.append(P.element),e.body.append(b),e.addActionItem("","sk-bi-section-delete",function(){e.remove()},"Remove Section"),e.addActionGroup(a.makeAddFieldActionButton({component:e,modelName:function(){return m.attr("model")},fieldBuilder:S}).concat([{text:"Column Set",icon:"sk-bi-column-add",action:function(){var t=w.defaultStateGenerator();o.componentFactory(t,w).element.appendTo(P.element),k.append(t),e.save().refresh()}}]),"Add...","sk-bi-field-pick")},onSelect:function(e){e.element.animate({"min-height":"130px"})},onUnSelect:function(e){e.element.animate({"min-height":"0px"})},propertiesRenderer:function(e,t){e.setTitle("Section Properties");var n=t.state,a=m.attr("model"),i=[{id:"showheader",type:"boolean",defaultValue:!0,label:"Show Section Header",onChange:function(){t.save().refresh().rebuildProps()}}];"false"!==n.attr("showheader")&&i.push({id:"title",type:"template",location:"attribute",modelname:a,label:"Section Title",onChange:function(e){var a=t.sectionHeader;a&&(a.text(e),g(a,n.attr("collapsible")))}},{id:"collapsible",type:"picklist",defaultValue:"no",label:"Collapsible?",picklistEntries:[{label:"No",value:"no"},{label:"Yes - initially open",value:"open"},{label:"Yes - initially collapsed",value:"collapsed"}],onChange:function(e){g(t.sectionHeader,e)}}),i.push(o.coreProps.cssClassProp()),e.applyPropsWithCategories([{name:"Basic",props:i},o.getRenderingCategory({component:t,model:a,propViewer:e})],n)},defaultStateGenerator:function(e){var t=!e||e.showHeader,a=l('<section title="New Section" collapsible="no" uniqueid="'+n.generateUniqueId()+'"/>').append(l("<"+p+"/>"));return t||a.attr("showheader","false"),a},hideWrapper:!0}),y=function(e,t){t=t||{};var n,a=e.state,i=C.defaultStateGenerator({addSection:!0,showSectionHeader:a.parent().is("basicfieldeditor"),isResponsive:t.isResponsive}),r=o.componentFactory(i,C);a.append(i),n=a.children(),r.element.appendTo(e.body);var l=e.body.children(".nx-pagebuilder-component");u(l,n,t.isResponsive),l.children(".column-body").sortableComponent({component:e,parentStateSelector:"sections",grandparentStateSelector:">column",connectWith:e.body.find(".column-body")})},w=new o.Builder({id:d,name:"Column Set",hideWrapper:function(e){return e.state.parent().is("basicfieldeditor")},componentRenderer:function(n){var a=n.state,i=n.body,r="responsive"===a.attr("layoutmode");n.element.css({"margin-left":"0","margin-right":"0","overflow-x":"hidden"}),a.children().each(function(){var e=t(this),a=o.getComponentFromState(e);a?a.refresh():a=o.componentFactory(e,C),a.element.appendTo(n.body)}),r?(i.addClass("sk-grid"),e.responsive.prepareGrid(i,{columnGutter:a.attr("columngutter"),rowGutter:a.attr("rowgutter")})):(i.removeClass("sk-grid"),i.css("margin","")),n.body.children().children(".column-body").sortableComponent({component:n,parentStateSelector:"sections",grandparentStateSelector:">column",connectWith:n.body.find(".column-body")}),a.parent().is("basicfieldeditor")||n.addActionItem(e.label.read("remove"),"sk-icon-delete",function(){n.remove()}),n.addActionItem("Add Column","sk-bi-column-add",function(){y(n,{isResponsive:r})})},onSelect:function(e){var t=e.state.parent();if(t.is("basicfieldeditor"))return o.getComponentFromState(t).select(),{cancelSelect:!0}},propertiesRenderer:function(e,t){e.setTitle("Column Set Properties");var n=t.state,a=[{id:"layoutmode",label:"Column Layout Mode",type:"picklist",defaultValue:"fixed",picklistEntries:[{value:"fixed",label:"Fixed Width"},{value:"responsive",label:"Responsive"}],onChange:function(e){var a="responsive"===e;n.attr("columngutter","4px"),n.attr("rowgutter","4px"),t.rebuildProps(),u(null,n.children(),a),t.refresh()}}];"responsive"===n.attr("layoutmode")&&(a=a.concat(o.getGridProperties(t))),e.applyPropsWithCategories([{name:"Basic",props:a}],n)},defaultStateGenerator:function(){return l("<"+d+"/>").append(C.defaultStateGenerator({addSection:!0,showSectionHeader:!1}).attr("width","100%"))}}),C=new o.Builder({id:"column",name:"Column",hideWrapper:!0,componentRenderer:function(n){var a=n.state,i=n.element,r=a.parent(),l=r.attr("columngutter"),s=r.attr("rowgutter"),d="responsive"===r.attr("layoutmode");i.css({float:"left",height:"100%",margin:"0","box-sizing":"border-box","-moz-box-sizing":"border-box","-webkit-box-sizing":"border-box"}),a.children("sections").first().children().each(function(){var e=t(this),a=o.getComponentFromState(e);a?a.refresh():a=o.componentFactory(e,v),a.element.appendTo(n.body)}),n.headerWrapper.append('<div class="nx-page-builder-hiddenheader-title">Column</div>'),d?(i.addClass("sk-grid-division"),e.responsive.prepareDivision(i,{behavior:a.attr("behavior"),width:a.attr("width"),minWidth:a.attr("minwidth"),relativeSize:a.attr("ratio"),verticalAlign:a.attr("verticalalign"),columnGutter:l,rowGutter:s})):(i.removeClass("sk-grid-division"),e.responsive.prepareDivision(i,{behavior:"specified",width:a.attr("width")})),n.body.css({border:"1px dashed #ddd",margin:"7px"}).addClass("column-body"),n.addActionItem("","sk-bi-column-delete",function(){var e=i.siblings(".nx-pagebuilder-component"),t=n.state.parent();n.remove(),u(e,t.children(),d)},"Remove Column"),n.addActionItem("Add Section","sk-bi-section-add",function(){var e=v.defaultStateGenerator();o.componentFactory(e,v).element.appendTo(n.body),n.state.children("sections").first().append(e),n.save()})},propertiesRenderer:function(e,t){e.setTitle("Column Properties");var n=[];(n="responsive"===t.state.parent().attr("layoutmode")?o.getDivisionProperties(t,s):[{id:"width",type:"csssize",label:"Column Width",onChange:function(e){t.element.css("width",e)}},o.getDivisionReOrderProp(t,s)]).push(o.coreProps.cssClassProp()),e.applyPropsWithCategories([{name:"Basic",props:n},o.getRenderingCategory({component:t,model:s.state.attr("model"),propViewer:e})],t.state)},defaultStateGenerator:function(e){var t=!e||e.addSection,a=!e||e.showSectionHeader,o=!e||e.isResponsive;return l("<column "+(o?'behavior="flex"':'width=""')+' uniqueid="'+n.generateUniqueId()+'"/>').append(l("<sections/>").append(t?v.defaultStateGenerator({showHeader:a}):[]))}});m.children("section, "+d).each(function(){var e,n=t(this);e=n.is("section")?v:w,o.componentFactoryWithCache(n,e).element.appendTo(s.body)}),s.addActionItem("Add Column","sk-bi-column-add",function(){var e,t=m.children(d).first();t&&t.length||(t=l("<"+d+"/>").appendTo(m)),(e=o.getComponentFromState(t))||(e=o.componentFactory(t,w)).element.appendTo(s.body),y(e,{isResponsive:"responsive"===t.attr("layoutmode")})})},createFromModel:function(e,n){var a="aggregate"===e.attr("type"),i=m.getDefaultState(n,{setUniqueId:!0}),r=e.attr("id"),s=[],d="read";return a?d="readonly":"true"===e.attr("createrowifnonefound")&&(d="edit"),i.attr({model:r,mode:d}),t.each(e.children("fields, groupby").children(),function(){var e=t(this),n=o.getMetadataForField(o.getComponentFromState(e)),a=h({fieldId:e.attr("id"),fieldName:e.attr("name"),isChildRelationship:"childRelationship"===e.attr("type"),relationshipName:n&&n.relationshipName});s.push(a)}),i.children("columns").first().children("column").first().children("sections").first().children("section").first().append(l("<fields/>").append(s)),i},defaultStateGenerator:function(){var e=o.getLastSelectedModelComponent(),t=e?e.state:o.getFirstModel(),a=t?t.attr("id"):null,i=!!t&&"aggregate"===t.attr("type"),r=l("<basicfieldeditor/>").attr({showheader:"true",showsavecancel:i?"false":"true",showerrorsinline:"true",model:a,buttonposition:""}),s=l("<"+d+"/>").appendTo(r);return s.append(l('<column width="50%" uniqueid="'+n.generateUniqueId()+'"/>').append(l("<sections/>").append(l('<section title="Section A" uniqueid="'+n.generateUniqueId()+'"/>')))),s.append(l('<column width="50%" uniqueid="'+n.generateUniqueId()+'"/>').append(l("<sections/>").append(l('<section title="Section B" uniqueid="'+n.generateUniqueId()+'"/>')))),r}});o.registerBuilder(m)}(skuid)},403:function(e,t,n){"use strict";!function(e){var t=e.builder,n=t.core,a=t.desktop,o=e.utils,i=o.makeXMLDoc,r=e.$,l=t.listHelper,s=["multi","massdelete","popup","custom"],d=[{id:"vert_img",previewurl:'data:image/svg+xml;,<?xml version="1.0" encoding="UTF-8"?><svg width="71px" height="98px" viewBox="0 0 71 98" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\x3c!-- Generator: Sketch 46.2 (44496) - http://www.bohemiancoding.com/sketch --\x3e<title>Artboard Copy</title><desc>Created with Sketch.</desc><defs></defs><g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="Artboard-Copy" fill-rule="nonzero" fill="#231F20"><g id="card-92px-vertical-with-image" transform="translate(3.000000, 3.000000)"><rect id="Rectangle-path" x="10" y="45" width="45" height="2"></rect><rect id="Rectangle-path" x="10" y="55" width="45" height="1"></rect><rect id="Rectangle-path" x="10" y="64" width="45" height="1"></rect><rect id="Rectangle-path" x="10" y="9" width="45" height="28"></rect><rect id="Rectangle-path" x="10" y="81" width="11" height="1"></rect><rect id="Rectangle-path" x="29" y="81" width="11" height="1"></rect><path d="M0,0 L0,92 L65,92 L65,0 L0,0 Z M63,90 L2,90 L2,2 L63,2 L63,90 Z" id="Shape"></path></g></g></g></svg>',name:"Vertical with image",description:"Product/Profile Template: image, title, field editor, action buttons",def:'<root> \t\t\t\t\t\t<grid> \t\t\t\t\t\t\t<divisions> \t\t\t\t\t\t\t\t<division behavior="flex" minwidth="100px" ratio="1"> \t\t\t\t\t\t\t\t\t<components> \t\t\t\t\t\t\t\t\t\t<image source="resource" datasource="{{$Template.DataSourceName}}" behavior="none" model="{{$Template.ModelName}}" /> \t\t\t\t\t\t\t\t\t\t<pagetitle model="{{$Template.ModelName}}"> \t\t\t\t\t\t\t\t\t\t\t<maintitle> \t\t\t\t\t\t\t\t\t\t\t\t<template>{{#$Template.MergeVar}}Name{{/$Template.MergeVar}}</template> \t\t\t\t\t\t\t\t\t\t\t</maintitle> \t\t\t\t\t\t\t\t\t\t\t<subtitle /> \t\t\t\t\t\t\t\t\t\t</pagetitle> \t\t\t\t\t\t\t\t\t\t<basicfieldeditor model="{{$Template.ModelName}}" showsavecancel="false" mode="readonly" layout="above" buttonposition=""> \t\t\t\t\t\t\t\t\t\t\t<columns> \t\t\t\t\t\t\t\t\t\t\t\t<column width="100%"> \t\t\t\t\t\t\t\t\t\t\t\t\t<sections> \t\t\t\t\t\t\t\t\t\t\t\t\t\t<section showheader="false"> \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<fields /> \t\t\t\t\t\t\t\t\t\t\t\t\t\t</section> \t\t\t\t\t\t\t\t\t\t\t\t\t</sections> \t\t\t\t\t\t\t\t\t\t\t\t</column> \t\t\t\t\t\t\t\t\t\t\t</columns> \t\t\t\t\t\t\t\t\t\t</basicfieldeditor> \t\t\t\t\t\t\t\t\t\t<buttonset model="{{$Template.ModelName}}" position="left"> \t\t\t\t\t\t\t\t\t\t\t<buttons> \t\t\t\t\t\t\t\t\t\t\t\t<button type="multi" label="Utility 1" icon="sk-icon-important"/> \t\t\t\t\t\t\t\t\t\t\t\t<button type="multi" label="Utility 2" icon="sk-icon-important"/> \t\t\t\t\t\t\t\t\t\t\t</buttons> \t\t\t\t\t\t\t\t\t\t</buttonset> \t\t\t\t\t\t\t\t\t</components> \t\t\t\t\t\t\t\t</division> \t\t\t\t\t\t\t</divisions> \t\t\t\t\t\t</grid> \t\t\t\t\t</root>'},{id:"vert",previewurl:'data:image/svg+xml;,<?xml version="1.0" encoding="UTF-8"?><svg width="71px" height="98px" viewBox="0 0 71 98" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\x3c!-- Generator: Sketch 46.2 (44496) - http://www.bohemiancoding.com/sketch --\x3e<title>Artboard</title><desc>Created with Sketch.</desc><defs></defs><g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="Artboard" fill-rule="nonzero" fill="#231F20"><g id="card-92px-vertical-text-only" transform="translate(3.000000, 3.000000)"><rect id="Rectangle-path" x="10" y="10" width="45" height="2"></rect><rect id="Rectangle-path" x="10" y="20" width="45" height="1"></rect><rect id="Rectangle-path" x="10" y="29" width="45" height="1"></rect><rect id="Rectangle-path" x="10" y="38" width="45" height="1"></rect><rect id="Rectangle-path" x="10" y="47" width="45" height="1"></rect><rect id="Rectangle-path" x="10" y="56" width="45" height="1"></rect><path d="M0,0 L0,92 L65,92 L65,0 L0,0 Z M63,90 L2,90 L2,2 L63,2 L63,90 Z" id="Shape"></path><rect id="Rectangle-path" x="10" y="81" width="11" height="1"></rect><rect id="Rectangle-path" x="29" y="81" width="11" height="1"></rect></g></g></g></svg>',name:"Vertical without image",description:"Product/Profile Template: title, field editor, action buttons",def:'<root> \t\t\t\t\t\t<grid> \t\t\t\t\t\t\t<divisions> \t\t\t\t\t\t\t\t<division behavior="flex" minwidth="100px" ratio="1"> \t\t\t\t\t\t\t\t\t<components> \t\t\t\t\t\t\t\t\t\t<pagetitle model="{{$Template.ModelName}}"> \t\t\t\t\t\t\t\t\t\t\t<maintitle > \t\t\t\t\t\t\t\t\t\t\t\t<template>{{#$Template.MergeVar}}Name{{/$Template.MergeVar}}</template>  \t\t\t\t\t\t\t\t\t\t\t</maintitle> \t\t\t\t\t\t\t\t\t\t\t<subtitle /> \t\t\t\t\t\t\t\t\t\t</pagetitle> \t\t\t\t\t\t\t\t\t\t<basicfieldeditor model="{{$Template.ModelName}}" showsavecancel="false" mode="readonly" layout="above" buttonposition=""> \t\t\t\t\t\t\t\t\t\t\t<columns> \t\t\t\t\t\t\t\t\t\t\t\t<column width="100%"> \t\t\t\t\t\t\t\t\t\t\t\t\t<sections> \t\t\t\t\t\t\t\t\t\t\t\t\t\t<section showheader="false"> \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<fields /> \t\t\t\t\t\t\t\t\t\t\t\t\t\t</section> \t\t\t\t\t\t\t\t\t\t\t\t\t</sections> \t\t\t\t\t\t\t\t\t\t\t\t</column> \t\t\t\t\t\t\t\t\t\t\t</columns> \t\t\t\t\t\t\t\t\t\t</basicfieldeditor> \t\t\t\t\t\t\t\t\t\t<buttonset model="{{$Template.ModelName}}" position="left"> \t\t\t\t\t\t\t\t\t\t\t<buttons> \t\t\t\t\t\t\t\t\t\t\t\t<button type="multi" label="Utility 1" icon="sk-icon-important"/> \t\t\t\t\t\t\t\t\t\t\t\t<button type="multi" label="Utility 2" icon="sk-icon-important"/> \t\t\t\t\t\t\t\t\t\t\t</buttons> \t\t\t\t\t\t\t\t\t\t</buttonset> \t\t\t\t\t\t\t\t\t</components> \t\t\t\t\t\t\t\t</division> \t\t\t\t\t\t\t</divisions> \t\t\t\t\t\t</grid> \t\t\t\t\t</root>'},{id:"horiz_img",previewurl:'data:image/svg+xml;,<?xml version="1.0" encoding="UTF-8"?><svg width="98px" height="98px" viewBox="0 0 98 98" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\x3c!-- Generator: Sketch 46.2 (44496) - http://www.bohemiancoding.com/sketch --\x3e<title>Artboard Copy 3</title><desc>Created with Sketch.</desc><defs></defs><g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="Artboard-Copy-3" fill-rule="nonzero" fill="#231F20"><g id="card-92px-horizontal-with-image" transform="translate(3.000000, 21.000000)"><path d="M0,0 L0,53 L92,53 L92,0 L0,0 Z M90,51 L2,51 L2,2 L90,2 L90,51 Z" id="Shape"></path><rect id="Rectangle-path" x="38" y="20" width="44" height="1"></rect><rect id="Rectangle-path" x="38" y="29" width="44" height="1"></rect><rect id="Rectangle-path" x="38" y="10" width="44" height="2"></rect><rect id="Rectangle-path" x="10" y="42" width="11" height="1"></rect><rect id="Rectangle-path" x="29" y="42" width="12" height="1"></rect><rect id="Rectangle-path" x="10" y="10" width="20" height="20"></rect></g></g></g></svg>',name:"Horizontal with image",description:"Contact/Account Template: image/avatar/logo, name w/ label, field editor, action buttons",def:'<root> \t\t\t\t\t\t<grid> \t\t\t\t\t\t\t<divisions> \t\t\t\t\t\t\t\t<division behavior="flex" minwidth="100px" ratio="1"> \t\t\t\t\t\t\t\t\t<components> \t\t\t\t\t\t\t\t\t\t<image source="resource" datasource="{{$Template.DataSourceName}}" behavior="none" model="{{$Template.ModelName}}"/> \t\t\t\t\t\t\t\t\t</components> \t\t\t\t\t\t\t\t</division> \t\t\t\t\t\t\t\t<division behavior="flex" minwidth="300px" ratio="1"> \t\t\t\t\t\t\t\t\t<components> \t\t\t\t\t\t\t\t\t\t<pagetitle model="{{$Template.ModelName}}"> \t\t\t\t\t\t\t\t\t\t\t<maintitle> \t\t\t\t\t\t\t\t\t\t\t\t<template>{{#$Template.MergeVar}}Name{{/$Template.MergeVar}}</template> \t\t\t\t\t\t\t\t\t\t\t</maintitle> \t\t\t\t\t\t\t\t\t\t\t<subtitle /> \t\t\t\t\t\t\t\t\t\t</pagetitle> \t\t\t\t\t\t\t\t\t\t<basicfieldeditor model="{{$Template.ModelName}}" showsavecancel="false" mode="readonly" layout="above" buttonposition=""> \t\t\t\t\t\t\t\t\t\t\t<columns> \t\t\t\t\t\t\t\t\t\t\t\t<column width="33%"> \t\t\t\t\t\t\t\t\t\t\t\t\t<sections> \t\t\t\t\t\t\t\t\t\t\t\t\t\t<section showheader="false"> \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<fields /> \t\t\t\t\t\t\t\t\t\t\t\t\t\t</section> \t\t\t\t\t\t\t\t\t\t\t\t\t</sections> \t\t\t\t\t\t\t\t\t\t\t\t</column> \t\t\t\t\t\t\t\t\t\t\t\t<column width="33%"> \t\t\t\t\t\t\t\t\t\t\t\t\t<sections> \t\t\t\t\t\t\t\t\t\t\t\t\t\t<section showheader="false"> \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<fields /> \t\t\t\t\t\t\t\t\t\t\t\t\t\t</section> \t\t\t\t\t\t\t\t\t\t\t\t\t</sections> \t\t\t\t\t\t\t\t\t\t\t\t</column> \t\t\t\t\t\t\t\t\t\t\t\t<column width="33%"> \t\t\t\t\t\t\t\t\t\t\t\t\t<sections> \t\t\t\t\t\t\t\t\t\t\t\t\t\t<section showheader="false"> \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<fields /> \t\t\t\t\t\t\t\t\t\t\t\t\t\t</section> \t\t\t\t\t\t\t\t\t\t\t\t\t</sections> \t\t\t\t\t\t\t\t\t\t\t\t</column> \t\t\t\t\t\t\t\t\t\t\t</columns> \t\t\t\t\t\t\t\t\t\t</basicfieldeditor> \t\t\t\t\t\t\t\t\t</components> \t\t\t\t\t\t\t\t</division> \t\t\t\t\t\t\t\t<division behavior="specified" width="100%"> \t\t\t\t\t\t\t\t\t<components> \t\t\t\t\t\t\t\t\t\t<buttonset model="{{$Template.ModelName}}" position="left"> \t\t\t\t\t\t\t\t\t\t\t<buttons> \t\t\t\t\t\t\t\t\t\t\t\t<button type="multi" label="Utility 1" icon="sk-icon-important" /> \t\t\t\t\t\t\t\t\t\t\t\t<button type="multi" label="Utility 2" icon="sk-icon-important" /> \t\t\t\t\t\t\t\t\t\t\t</buttons> \t\t\t\t\t\t\t\t\t\t</buttonset> \t\t\t\t\t\t\t\t\t</components> \t\t\t\t\t\t\t\t</division> \t\t\t\t\t\t\t</divisions> \t\t\t\t\t\t</grid> \t\t\t\t\t</root>'},{id:"horiz",previewurl:'data:image/svg+xml;,<?xml version="1.0" encoding="UTF-8"?><svg width="98px" height="98px" viewBox="0 0 98 98" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\x3c!-- Generator: Sketch 46.2 (44496) - http://www.bohemiancoding.com/sketch --\x3e<title>Artboard Copy 2</title><desc>Created with Sketch.</desc><defs></defs><g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="Artboard-Copy-2" fill-rule="nonzero" fill="#231F20"><g id="card-92px-horizontal-text-only" transform="translate(3.000000, 21.000000)"><path d="M0,0 L0,53 L92,53 L92,0 L0,0 Z M90,51 L2,51 L2,2 L90,2 L90,51 Z" id="Shape"></path><rect id="Rectangle-path" x="10" y="20" width="72" height="1"></rect><rect id="Rectangle-path" x="10" y="29" width="72" height="1"></rect><rect id="Rectangle-path" x="10" y="10" width="72" height="2"></rect><rect id="Rectangle-path" x="10" y="42" width="11" height="1"></rect><rect id="Rectangle-path" x="29" y="42" width="12" height="1"></rect></g></g></g></svg>',name:"Horizontal without image",description:"Contact/Account Template: name w/ label, field editor, action buttons",def:'<root> \t\t\t\t\t\t<grid> \t\t\t\t\t\t\t<divisions> \t\t\t\t\t\t\t\t<division behavior="flex" minwidth="300px" ratio="1"> \t\t\t\t\t\t\t\t\t<components> \t\t\t\t\t\t\t\t\t\t<pagetitle model="{{$Template.ModelName}}"> \t\t\t\t\t\t\t\t\t\t\t<maintitle> \t\t\t\t\t\t\t\t\t\t\t\t<template>{{#$Template.MergeVar}}Name{{/$Template.MergeVar}}</template> \t\t\t\t\t\t\t\t\t\t\t</maintitle> \t\t\t\t\t\t\t\t\t\t\t<subtitle/> \t\t\t\t\t\t\t\t\t\t</pagetitle> \t\t\t\t\t\t\t\t\t\t<basicfieldeditor model="{{$Template.ModelName}}" showsavecancel="false" mode="readonly" layout="above" buttonposition="" > \t\t\t\t\t\t\t\t\t\t\t<columns> \t\t\t\t\t\t\t\t\t\t\t\t<column width="33%"> \t\t\t\t\t\t\t\t\t\t\t\t\t<sections> \t\t\t\t\t\t\t\t\t\t\t\t\t\t<section showheader="false"> \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<fields/> \t\t\t\t\t\t\t\t\t\t\t\t\t\t</section> \t\t\t\t\t\t\t\t\t\t\t\t\t</sections> \t\t\t\t\t\t\t\t\t\t\t\t</column> \t\t\t\t\t\t\t\t\t\t\t\t<column width="33%"> \t\t\t\t\t\t\t\t\t\t\t\t\t<sections> \t\t\t\t\t\t\t\t\t\t\t\t\t\t<section showheader="false"> \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<fields/> \t\t\t\t\t\t\t\t\t\t\t\t\t\t</section> \t\t\t\t\t\t\t\t\t\t\t\t\t</sections> \t\t\t\t\t\t\t\t\t\t\t\t</column> \t\t\t\t\t\t\t\t\t\t\t\t<column width="33%"> \t\t\t\t\t\t\t\t\t\t\t\t\t<sections> \t\t\t\t\t\t\t\t\t\t\t\t\t\t<section showheader="false"> \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<fields /> \t\t\t\t\t\t\t\t\t\t\t\t\t\t</section> \t\t\t\t\t\t\t\t\t\t\t\t\t</sections> \t\t\t\t\t\t\t\t\t\t\t\t</column> \t\t\t\t\t\t\t\t\t\t\t</columns> \t\t\t\t\t\t\t\t\t\t</basicfieldeditor> \t\t\t\t\t\t\t\t\t\t<buttonset model="{{$Template.ModelName}}" position="left" > \t\t\t\t\t\t\t\t\t\t\t<buttons> \t\t\t\t\t\t\t\t\t\t\t\t<button type="multi" label="Utility 1" icon="sk-icon-important"/> \t\t\t\t\t\t\t\t\t\t\t\t<button type="multi" label="Utility 2" icon="sk-icon-important"/> \t\t\t\t\t\t\t\t\t\t\t</buttons> \t\t\t\t\t\t\t\t\t\t</buttonset> \t\t\t\t\t\t\t\t\t</components> \t\t\t\t\t\t\t\t</division> \t\t\t\t\t\t\t</divisions> \t\t\t\t\t\t</grid> \t\t\t\t\t</root>'}];n.registerBuilder(new n.Builder({id:"deck",name:"Deck",icon:"sk-bi-deck",givesContext:!0,description:function(){return'The Deck component displays selected model data in a “card” format to visually highlight that information. Decks can be filtered or searched, and actions can be added that are triggered when individual cards are selected.<br><br>For more information, see the <a href="'+("https://docs.skuid.com/v"+e.version.number+"/en/skuid/components/deck/")+'">Deck component tutorial</a>.'},isJSCreateable:!0,compatText:'The "Deck" component is not compatibile with IE 10 and below',handleStateEvent:function(e,t,a){n.handleModelRemove(e,t,{component:a}),n.handleModelIdChange(e,t)},addChildComponent:function(e,t){return!!e.acceptor.canAcceptComponent(t)&&(e.acceptor.addComponent(t),!0)},componentRenderer:function(t){var p,c=t.state,u=t.body,h=l.actionBuilder(t,{permittedMassActions:s}),m=l.interactionBuilder(t),b=l.globalActionsButtonBuilder(t),f=l.massActionsButtonBuilder(t),g=c.attr("filtersposition"),v=c.attr("filterswidth"),y=t.state.attr("model"),w="true"===c.attr("hideheader");t.handleOptionChange||(t.handleOptionChange=function(){var e="false"!==c.attr("searchbox"),n="false"!==c.attr("showsavecancel"),a=t.buttonsWrapper,o="true"===c.attr("hideheader");t.searchbox.toggle(e),a.toggle(n||e),n?a.children(".ui-button").css("display",""):a.children(".ui-button").hide(),o?C.hide():C.show()});var C=r("<div>").addClass("clearfix nx-editor-header nx-table-header"),x=c.attr("buttonposition")||"right";t.buttonsWrapper=r("<div>").addClass("nx-pagebuilder-buttonwrapper").css("float",x).append(r("<div>").text(e.label.read("save")).css({marginLeft:"4px"}).skooButton({icon:"sk-icon-save"}).addClass("nx-pagebuilder-savebtn").button("disable"),r("<div>").text(e.label.read("cancel")).css({marginLeft:"4px"}).skooButton({icon:"sk-icon-cancel"}).addClass("nx-pagebuilder-cancelbtn").button("disable")),"false"!==c.attr("showsavecancel")?t.buttonsWrapper.children(".ui-button").css("display",""):t.buttonsWrapper.children(".ui-button").hide(),t.searchbox=r("<input>").prop("disabled",!0).addClass("searchbox").css({color:"#DDD","margin-top":"1px","margin-left":"4px"}),t.buttonsWrapper.append(t.searchbox),t.updateSearchBox||(t.updateSearchBox=function(){var a=t.state.attr("searchplaceholdertext");if(!a){var o=n.getModelFromModelName(t.state.attr("model")),i=n.getDataSourceFromModel(o),r=o?o.attr("sobject"):null,l=r?i.getCachedEntityMetadata(r):null,s=l?l.getLabelPlural():null;a=e.$L("search")+" "+(s||"")}t.searchbox.attr("placeholder",a),t.searchbox.toggle("false"!==t.state.attr("searchbox"))}),t.updateSearchBox(),p=t.filterWrapper=r("<div>").addClass("nx-conditioncontainer"),"left"===x&&t.filterWrapper.css({float:"left","margin-left":"4px"}),t.globalAndMassWrapper=r("<div>").css("float","left"),t.setTitle(t.builder.name),t.getContextModelName=function(){return t.state.attr("model")},t.state.children("components").length||t.state.append(i("<components/>"));var k=t.acceptor=new a.ComponentAcceptor({componentsXML:t.state.children("components"),reject:".sk-pageinclude-builder",emptyStateOptions:{childTemplates:d,modelName:y,dataSourceName:n.getDataSourceFromModelName(y).name}}),S=t.state.children("styles");o.processStylesNode(S,k.element),t.heading=r("<h2>").addClass("nx-editor-header-heading"),t.heading.text(c.attr("heading")||"");var P,T,A=[t.globalAndMassWrapper,t.buttonsWrapper],F=r("<div>");switch(g){case"top":"left"===x?A.splice(1,0,p):A.push(p);break;case"bottom":p.css("float","none"),F.append(p);break;case"left":case"right":P=i("<panelset/>").attr("type","standard").append(i("<panels/>").append(i("<panel/>"),i("<panel/>").attr({type:g,width:v}))),T=e.$("<div>").panelSet(P,t),"left"===g||"right"===g?p.css({float:"left","text-align":"left"}):p.css({float:"right","text-align":"right"})}C.append(t.heading),C.append(A),u.append(C,k.element,F).addClass("sk-pagebuilder-deck"),w&&C.hide(),void 0!==T&&(T.find(".nx-panel-fluid .nx-panel").append(u.children()),T.find(".nx-panel-left-inner, .nx-panel-right-inner").append(p),u.append(T));var I=t.state.children("actions").first(),R=I.children(),M=t.state.children("massactions").first(),B=M.children(),L=t.state.children("interactions").first().children(),E=t.state.children("filters").first().children(),N=r("<div>").css({"margin-top":"20px",clear:"both"}).appendTo(u),D=l.getSection(t,{addItemFunction:function(){t.addFeatureActions.addInteraction()},label:"Interactions",tip:"Add Interaction",parentStateSelector:"skootable > interactions",width:"33.33%"}),W=l.getSection(t,{addItemFunction:function(){t.addFeatureActions.addGlobalAction()},label:"Global Actions",tip:"Add Global Action",parentStateSelector:"skootable > actions",width:"33.33%"}),V=l.getSection(t,{addItemFunction:function(){t.addFeatureActions.addMassAction()},label:"Mass Actions",tip:"Add Mass Action",parentStateSelector:"skootable > massactions",width:"33.33%"}),G=V.section,O=W.section,q=D.section,z=V.container,U=W.container,H=D.container;if(N.append(q,O,G),N.appendTo(u),I.length){var j=n.componentFactory(M,b).element;t.globalActionsBtn=j,t.globalAndMassWrapper.append(j)}if(M.length){var $=n.componentFactory(M,f).element;t.massActionsBtn=$,t.globalAndMassWrapper.append($)}t.globalActionsBtn&&t.globalActionsBtn.hide(),t.massActionsBtn&&t.massActionsBtn.hide(),R&&R.length&&t.globalActionsBtn.show(),B&&B.length&&t.massActionsBtn&&t.massActionsBtn.show(),R.each(function(){var e=n.componentFactory(r(this),h);e.globalContext=!0,U.append(e.element)}),B.each(function(){var e=n.componentFactory(r(this),h);z.append(e.element)}),L.each(function(){var e=n.componentFactory(r(this),m);H.append(e.element)}),E&&E.length&&E.each(function(){var e=n.componentFactory(r(this),n.getBuilder("filter"));"top"!==g&&"bottom"!==g||e.element.css("display","inline-block"),t.filterWrapper.append(e.element)}),t.filterWrapper.sortableComponent({axis:"x",component:t,parentStateSelector:"skootable > filters"});var _=t.addFeatureActions=l.addFeatureActions(t,{massActions:!0,globalActions:!0,interactions:!0,filters:!0,massActionsContainer:z,globalActionsContainer:U,interactionsContainer:H,permittedMassActions:s}),X=[{text:"Add Mass Action",icon:"sk-bi-mass-action-add",action:_.addMassAction},{text:"Add Global Action",icon:"sk-bi-global-action-add",action:_.addGlobalAction},{text:"Add Interaction",icon:"sk-bi-row-action-add",action:_.addInteraction},{text:"Add Filter",icon:"sk-bi-filter-add",action:_.addFilter}];t.addActionGroup(X,"Add Features")},propertiesRenderer:function(e,t){e.setTitle("Deck Properties");var a,o=t.state,i=o.attr("model"),s=[{id:"model",type:"model",label:"Model",required:!0,onChange:function(){t.save(),t.rebuildProps(),t.refresh(),t.updateAutoCreatedEditorCondition()}},{id:"heading",type:"text",label:"Title",onChange:function(e){t.heading.text(e)}}];r.each(n.getGridProperties(t),function(e,t){s.push(t)}),s.push({id:"hideheader",type:"boolean",label:"Hide Header",helptext:"If checked, the deck header (Deck Title, Save, Cancel and Searchbox) does not display.",onChange:function(){t.handleOptionChange(),t.rebuildProps()}},{id:"hidefooter",type:"boolean",label:"Hide Footer",helptext:"If checked, the deck footer (Pagination and number of visible rows) does not display.",onChange:function(){t.handleOptionChange(),t.rebuildProps()}},l.propertiesFactory.pageSize(),l.propertiesFactory.alwaysResetPagination()),"true"!==o.attr("hideheader")&&s.push({id:"showsavecancel",type:"boolean",label:"Show Save/Cancel",helptext:"If true, then Save/Cancel buttons will be rendered above the deck to allow changes to be saved/canceled. These buttons can alternatively be added to a Page Title component.",onChange:function(){t.handleOptionChange()}},{id:"buttonposition",type:"picklist",label:"Button Position",defaultValue:"",helptext:"Choose where save and cancel buttons as well as the search bar should be positioned horizontally, relative to the table",picklistEntries:[{label:"Left",value:"left"},{label:"Right",value:""}],onChange:function(){t.refresh()}}),(a=n.getDivisionProperties(t,t,{addReorderProp:!1,hideDivisionBehavior:!0,hideFlexRatio:!0})).push({id:"setmaxwidth",type:"picklist",label:"Set Maximum Width",picklistEntries:[{label:"Automatically",value:""},{label:"Manually",value:"manual"}],onChange:function(){t.rebuildProps()}}),"manual"===o.attr("setmaxwidth")&&a.push({id:"maxwidth",type:"csssize",label:"Maximum Width",defaultValue:"300px"}),e.applyPropsWithCategories([{name:"Basic",props:s},{name:"Card",props:a},{name:"Card Styles",tree:n.getStandardStyleTree({component:t,propViewer:e,standardStyleSections:["border"]})},n.getListSearchPropsCategory({component:t,modelName:i,hideOrderingOptions:!0,showFiltersPosition:!0}),{name:"Advanced",props:[n.coreProps.uniqueIdProp({component:t}),n.coreProps.cssClassProp()]},n.getRenderingCategory({component:t,model:null,propViewer:e}),n.getContextCategory({propViewer:e,state:o,model:o.attr("model")})],o)},defaultStateGenerator:function(){var e=n.getLastSelectedModelComponent(),t=e?e.state:n.getFirstModel(),a=t?t.attr("id"):null;return i("<deck />").attr({searchmethod:"server",searchbox:!0,columngutter:".75em",rowgutter:".75em",model:a,filtersposition:"top",filterswidth:"150px",showsavecancel:"false",behavior:"flex",verticalalign:"top",ratio:"1",minwidth:"350px",hideheader:"false",hidefooter:"false"}).append(i("<components />"),i("<massactions />"),i("<interactions />"),i("<actions />"))}}))}(skuid)},404:function(e,t,n){"use strict";!function(e){var t=e.$,n=e.utils,a=e.builder,o=a.core,i=a.desktop,r=n.makeXMLDoc;o.registerBuilder(new o.Builder({id:"skoocal",name:"Calendar",icon:"sk-bi-calendar",isJSCreateable:!0,description:function(){return'Builds a Month, Week, and/or Day-View Calendar that can show Events from one or more Sources<br><br>For more information, see the <a href="'+("https://docs.skuid.com/v"+e.version.number+"/en/skuid/components/calendar/")+'">Calendar component tutorial</a>.'},handleStateEvent:function(e,n,a){"model.remove"!==n.type&&"model.idChange"!==n.type||(e.children("sources").first().children().each(function(){o.handleModelRemove(t(this),n,{component:a}),o.handleModelIdChange(t(this),n)}),e.children("views").first().children().each(function(){o.handleModelRemove(t(this),n,{modelIdProp:"groupingmodel",component:a}),o.handleModelIdChange(t(this),n,"groupingmodel")}))},componentRenderer:function(n){n.setTitle(n.builder.name);var a=t("<div>").addClass("nx-componentsection").css("width","25%").append(t("<div>").text("Event Sources").addClass("nx-componentsection-header")),l=t("<div>").appendTo(a),s=t("<div>").addClass("nx-componentsection").css("width","75%").append(t("<div>").addClass("nx-componentsection-header").text("Views")),d=t("<div>").appendTo(s);n.body.addClass("nx-pagebuilder-table").append(a,s);var p=new o.Builder({id:"eventsource",name:"Source",hideWrapper:!0,componentRenderer:function(e){e.body.css("padding-top","6px");var n=t("<div>").addClass("nx-cal-event").css({float:"left",height:"20px",width:"20px"});e.state.attr("color")&&n.css("background-color",e.state.attr("color"));var a=t("<div>").addClass("nx-componentsection-body");a.text(e.state.attr("name")),e.body.append(n,a),e.addActionItem("","sk-icon-delete",function(){e.remove()})},propertiesRenderer:function(n,a){n.setTitle("Source Properties");var l,s,d,p,c,u,h,m,b,f,g,v,y,w=a.state,C=w.attr("model"),x=o.getModelFromModelName(C),k=x?e.dataSource.getType(x.attr("datasource")||x.attr("adapter")||e.platform.getDefaultDataSourceTypeName()):null;!w.children("eventtemplate").length&&w.text()&&(v="",t.each(w.contents(),function(){if(3==this.nodeType){var e=t(this);v+=e.text(),e.remove()}}),""!==v&&w.append(r("<eventtemplate/>").text(v))),void 0===w.attr("createable")&&w.attr("createable","true"),void 0===w.attr("updateable")&&w.attr("updateable","true"),void 0===w.attr("deleteable")&&w.attr("deleteable","true"),void 0===w.attr("eventclickhandler")&&w.attr("eventclickhandler","autopopup"),-1!==t.inArray(w.attr("eventclickhandler"),["custompopup","snippetthencustompopup"])&&(m=i.makePopupBuilder({title:"Event Source On-Click Popup Properties",customProps:function(e){var t=o.getPopupProperties(e);return t[0].props.push({id:"showdefaultbuttons",type:"boolean",defaultValue:!0,label:"Show Default Buttons in Popup"}),t}}),0===(b=w.children("onclickpopup")).length&&(b=m.defaultStateGenerator({id:"onclickpopup",title:"Edit Event"}),w.append(b)),void 0===b.attr("showdefaultbuttons")&&b.attr("showdefaultbuttons","true"),a.onClickPopupComponent=o.componentFactory(b,m,!0)),g=[{id:"name",type:"text",label:"Source Name",onChange:function(){a.refresh()}},{id:"model",type:"model",label:"Model",required:!0,onChange:function(){w.removeAttr("namefield startfield endfield mindatecondition maxdatecondition groupfield").empty(),a.save().refresh().rebuildProps()}},{id:"namefield",type:"field",addFieldToModel:!0,label:"Name Field",modelprop:"model"},{id:"startfield",type:"field",addFieldToModel:!0,label:"Start Field",modelprop:"model",displayTypeFilter:"DATETIME"},{id:"endfield",type:"field",addFieldToModel:!0,label:"End Field",modelprop:"model",displayTypeFilter:"DATETIME"},{id:"groupfield",type:"field",addFieldToModel:!0,label:"Grouping Field",modelprop:"model",displayTypeFilter:"REFERENCE",helptext:"This field is used with scheduling views.  This should be a reference on the grouping model specified in the Scheduling View."}],k&&!1===k.prop("canAutoGenerateConditionsFromFields")&&g.push({id:"mindatecondition",label:"Earliest Date Condition",type:"condition",modelName:C},{id:"maxdatecondition",label:"Latest Date Condition",type:"condition",modelName:C}),p=[{id:"eventtemplate",type:"template",label:"Event Template",modelprop:"model",helptext:"The fields on this Event Source's object to display in the Calendar, specified using Merge Field syntax, e.g. {{Subject}}."},{id:"color",type:"template",label:"Background Color",location:"attribute",modelprop:"model",helptext:"The background color for each instance of this Event Source. Can be any HTML color.",onChange:function(){a.refresh()}},{id:"rendersnippet",type:"string",label:"Render Snippet Name",helptext:"Optional: Run this snippet to add additional functionality to each event. The Snippet will be passed the event's DOM element, so that you could customize it as much as you want."}],l={none:[s={id:"createable",type:"boolean",defaultValue:!0,label:"Allow Creation of Events"},y={id:"updateable",type:"boolean",defaultValue:!0,label:"Allow Editing of Events"},c={id:"eventclickhandler",type:"picklist",label:"Event On-Click Behavior",defaultValue:"autopopup",picklistEntries:[{label:"None",value:"none"},{label:"Show default Popup",value:"autopopup"},{label:"Show custom Popup",value:"custompopup"},{label:"Run Snippet",value:"snippet"},{label:"Run Snippet then show custom Popup",value:"snippetthencustompopup"}],onChange:function(){a.refresh().rebuildProps()}},u={id:"ignoreconflicts",type:"boolean",label:"Ignore Conflicts when Positioning",helptext:"Skuid normally prevents events from hiding each other in the UI.  Check this box to override that functionality."}],autopopup:[s,y,d={id:"deleteable",type:"boolean",defaultValue:!0,label:"Allow Deletion of Events"},c,u],custompopup:[s,y,d,c,f={id:"onclickpopup",type:"customaction",label:"Configure On-Click Popup",icon:"sk-bi-popup",mode:"edit",customAction:function(){a.onClickPopupComponent.select()}},u],snippet:[s,y,d,c,h={id:"onclicksnippet",type:"string",label:"Snippet to Run On-Click"},u],snippetthencustompopup:[s,y,d,c,h,f,u]},n.applyPropsWithCategories([{name:"Basic",props:g},{name:"Event Display",props:p},{name:"Event Behavior",props:l[w.attr("eventclickhandler")]||[]}],a.state)},defaultStateGenerator:function(){var e=o.getLastSelectedModelComponent(),t=e&&e.state?e.state.attr("id"):null;return r("<eventsource/>").attr({name:"New Event Source",createable:"true",deleteable:"true",updateable:"true",eventclickhandler:"autopopup",showdefaultbuttons:"true",model:t})}}),c={dayscheduling:"day_scheduling_view",month:"month_view",week:"week_view"},u=new o.Builder({id:"eventview",name:"View",hideWrapper:!0,componentRenderer:function(a){a.body.css("padding-top","6px");var i=t("<div>").addClass("sk-icon sk-builder-icon sk-bi-calendar nx-componentsection-icon"),l=t("<div>").addClass("nx-componentsection-body"),s=a.state.attr("type"),d=c[s];if(d=d?e.$L(d):s,l.text(d),a.body.append(i,l),a.addActionItem("","sk-icon-delete",function(){a.remove()}),"dayscheduling"===s){var p=t("<div>").css("margin-top","20px"),u=t("<div>").addClass("nx-conditioncontainer"),h=t("<div>").css("float","right"),m=t("<input>").attr("placeholder","Search").prop("disabled",!0).addClass("searchbox").css({color:"#DDD"});h.append(m),"false"!==a.state.attr("searchbox")&&p.append(h),p.append(u),l.append(p);var b=a.state.children("filters").first().children();b&&b.length&&b.each(function(){var n=o.componentFactory(t(this),e.builder.getBuilder("filter"));n.element.css("display","inline-block"),u.append(n.element)}),u.sortableComponent({axis:"y",component:n,parentStateSelector:"eventview > filters"});var f=[{text:"Add Filter",icon:"sk-bi-filter-add",action:function(){0===a.state.children("filters").length&&(a.state.append(r("<filters/>")),a.save());var e=o.getBuilder("filter"),t=e.getDefaultState();a.state.children("filters").first().append(t);var n=o.componentFactory(t,e);a.save(),u.append(n.element),n.select()}}];a.addActionGroup(f,"Add Features")}},propertiesRenderer:function(n,a){n.setTitle("View Properties");var i,r=a.state,l=r.attr("type"),s=e.utils.getHourOptions(),d=r.attr("groupingmodel"),p=d?o.getModelFromModelName(d):null,c=!!p&&"aggregate"===p.attr("type"),u={id:"type",type:"picklist",defaultValue:"month",picklistEntries:[{label:e.$L("month_view"),value:"month"},{label:e.$L("week_view"),value:"week"},{label:e.$L("day_scheduling_view"),value:"dayscheduling"}],label:"View Type",onChange:function(){a.refresh().rebuildProps()}},h={id:"groupingtemplate",type:"template",label:"Grouping Template",modelprop:"groupingmodel"},m={id:"groupingmodel",type:"model",label:"Grouping Model",onChange:function(){a.refresh().rebuildProps()}},b={id:"groupingfield",type:"field",label:"Grouping Field",modelprop:"groupingmodel",helptext:'(Required) This property determines which field is used to separate lines of events into distinct rows within a day view. Commonly set to "event owner" or "event room" fields.',useAliasNamesIfAggregate:!0},f={id:"hideweekends",type:"boolean",label:"Hide Weekends"},g={id:"uselanes",type:"boolean",label:"Group with Lanes",onChange:function(){r.removeAttr("groupingmodel"),a.save().refresh().rebuildProps()}},v={id:"searchbox",type:"boolean",label:"Show Search Box",onChange:function(){a.refresh().rebuildProps()}},y={id:"searchmethod",type:"picklist",label:"Search Method",defaultValue:"client",helptext:"Calendar Search, by default, is client-side, searching on records already in the Grouping Model. Use Custom Search if you would like to implement search on your Event Source model data.",picklistEntries:[{label:"Client",value:"client"},{label:"Custom",value:"custom"}],onChange:function(){a.rebuildProps()}},w={id:"starthour",type:"picklist",label:"Default Start Hour",defaultValue:"8",picklistEntries:s},C={id:"endhour",type:"picklist",label:"Default End Hour",defaultValue:"18",picklistEntries:s},x={id:"divisionsperhour",type:"picklist",label:"Divisions Per Hour",defaultValue:"4",picklistEntries:t.map([1,2,3,4,6,8,12],function(e){return{label:""+e,value:""+e}})},k={dayscheduling:[u,m,h,{id:"pagesize",type:"picklist",label:"Visible Rows",defaultValue:"",picklistEntries:[{label:"5",value:"5"},{label:"10",value:"10"},{label:"25",value:"25"},{label:"50",value:"50"},{label:"Show All",value:""}]},v],week:[u,f,g],month:[u,{id:"dragdrop",type:"boolean",label:"Enable Dragging/Dropping of Events",defaultValue:!0},f]}[l]||[u],S={dayscheduling:[w,C,x],week:[w,C,x]}[l]||[];"week"===l&&"true"===r.attr("uselanes")&&(k.push(m,h),p&&c&&k.push(b)),"dayscheduling"===l&&(p&&c&&k.splice(3,0,b),"false"!==r.attr("searchbox")&&(k.push(y),"custom"===r.attr("searchmethod")&&k.push({id:"searchsnippet",type:"snippet",label:"Custom Search Snippet"}))),i=[{name:"Basic",props:k},{name:"Advanced",props:S}],n.applyPropsWithCategories(i,r)},defaultStateGenerator:function(){return r('<eventview type="dayscheduling" searchbox="true" searchmethod="client"/>')}});n.state.children("sources").children().each(function(){var e=o.componentFactory(t(this),p);l.append(e.element)}),n.state.children("views").children().each(function(){var e=o.componentFactory(t(this),u);d.append(e.element)}),n.addActionItem("Add Event Source","sk-bi-source-add",function(){var e,t=p.getDefaultState();n.state.children("sources").append(t),e=o.componentFactory(t,p),l.append(e.element),n.save()}),n.addActionItem("Add View","sk-bi-calendar-view-add",function(){var e,t=u.getDefaultState();n.state.children("views").append(t),e=o.componentFactory(t,u),d.append(e.element),n.save()})},propertiesRenderer:function(e,t){e.setTitle("Calendar Properties");var n=t.state,a={id:"rangemodel",type:"model",required:!1,label:"Valid Date Range Model",onChange:function(){n.removeAttr("rangestartfield rangeendfield"),t.rebuildProps()}};void 0===n.attr("rememberdate")&&n.attr("rememberdate","true"),void 0===n.attr("rememberview")&&n.attr("rememberview","true"),e.applyPropsWithCategories([{name:"Preferences",props:[{id:"rememberdate",type:"boolean",label:"Remember user's last Date",helptext:"If true, then, using the Personalization Framework, Skuid will store the last date a user was on, and will start out on that Date when the user returns to this page.",defaultValue:!0},{id:"rememberview",type:"boolean",label:"Remember user's last View",helptext:"If true, then, using the Personalization Framework, Skuid will store which Calendar View a user was last on (e.g. Month, Week), and if possible, will start out in that View when the user returns to this page.",defaultValue:!0}]},{name:"Valid Date Range",props:[a,{id:"rangestartfield",type:"field",addFieldToModel:!0,label:"Start Field",modelprop:"rangemodel",displayTypeFilter:"DATETIME"},{id:"rangeendfield",type:"field",addFieldToModel:!0,label:"End Field",modelprop:"rangemodel",displayTypeFilter:"DATETIME"}]},{name:"Advanced",props:[o.coreProps.uniqueIdProp({component:this}),i.cssClassProp]},o.getRenderingCategory({component:t,model:null,propViewer:e})],n)},defaultStateGenerator:function(){var e=r("<skoocal/>").attr({rememberdate:"true",rememberview:"true"}).append(r("<sources/>")),t=r("<views/>").append(r('<eventview type="month" />'),r('<eventview type="week" />'));return e.append(t)}}))}(skuid)},405:function(e,t,n){"use strict";!function(e){var t=e.$,n=e.builder.core,a=e.builder.desktop,o=e.utils,i=o.makeXMLDoc;n.registerBuilder(new n.Builder({id:"wrapper",name:"Wrapper",icon:"sk-bi-wrapper",isJSCreateable:!0,isTransparent:!0,description:function(){return'The Wrapper serves as a container for other components. Using the Wrapper, you can “wrap” other components to more easily control styling and conditional rendering.<br><br>For more information, see the <a href="'+("https://docs.skuid.com/v"+e.version.number+"/en/skuid/components/wrapper/")+'">Wrapper component tutorial</a>.'},addChildComponent:function(e,t){return!!e.acceptor.canAcceptComponent(t)&&(e.acceptor.addComponent(t),!0)},componentRenderer:function(e){e.setTitle(e.builder.name);var i=e.acceptor=new a.ComponentAcceptor(e.state.children("components"),void 0,void 0,e.mode),r=t("<div>").appendTo(e.body).append(i.element),l=e.state.children("styles");o.processStylesNode(l,e.element,{whitelist:n.builderSafeBackgroundProperties,removeInlineStyles:!0}),o.processStylesNode(l,r,{whitelist:n.builderSafePositionProperties})},mobileRenderer:function(e){var t=e.state.attr("uniqueid");e.setTitle(e.builder.name+(t?" - "+t:"")),e.renderChildren()},propertiesRenderer:function(e,t){e.setTitle("Wrapper Properties");var a=t.state;e.applyPropsWithCategories([{name:"Styles",tree:n.getStandardStyleTree({component:t,propViewer:e,standardStyleSections:["background","size","border"]})},{name:"Advanced",props:[n.coreProps.uniqueIdProp({component:t,onChange:function(){t.refresh()}}),n.coreProps.cssClassProp()]},n.getInteractionsCategory({linkedComponent:t}),n.getRenderingCategory({component:t,model:a.closest("[model]").attr("model"),propViewer:e})],a)},defaultStateGenerator:function(){return i('<wrapper><components /><styles><styleitem type="background" /><styleitem type="border" /><styleitem type="size" /></styles></wrapper>')}}))}(skuid)},406:function(e,t,n){"use strict";!function(e){var t=e.$,n=e.builder.core,a=e.builder.desktop,o=e.utils.makeXMLDoc,i=function(e){return t.map(e.children(),function(e){return t(e).attr("stepid")})},r=new n.Builder({id:"action",name:"Button",hideWrapper:!0,isJSCreateable:!0,dragHandle:".nx-pagebuilder-wizard-action",componentRenderer:function(e){e.element.css("float","left").addClass("nx-pagebuilder-wizard-action"),e.body.css("padding","0px").css("overflow","visible"),e.actionbar.addClass("nx-pagebuilder-actionbar-item");var n=t("<div>").css({marginLeft:"4px",opacity:"0.35"});n.text(e.state.attr("label")).skooButton({icon:e.state.attr("icon")}),e.addActionItem("","sk-icon-delete",function(){e.remove()}),e.body.append(n)},propertiesRenderer:function(e,a){e.setTitle("Button Properties");var o,i=a.state,r=i.attr("type"),l={id:"type",type:"picklist",label:"Action Type",defaultValue:"navigate",picklistEntries:[{label:"Run multiple actions",value:"multi"},{label:"Cancel",value:"cancel"},{label:"Custom",value:"custom"},{label:"Navigate",value:"navigate"},{label:"Save",value:"save"}],onChange:function(){a.refresh().rebuildProps()}},s={id:"label",type:"string",label:"Button Label",onChange:function(){a.refresh()}},d={id:"icon",type:"icon",label:"Button Icon",onChange:function(){a.refresh()}},p={id:"stepid",type:"combobox",label:"Step Id",entries:function(){return a.getStepEntries()}},c={id:"url",type:"string",label:"Redirect URL"},u={id:"window",type:"picklist",label:"Open URL in",defaultValue:"self",picklistEntries:[{label:"Current window",value:"self"},{label:"Blank window",value:"blank"},{label:"Parent window",value:"parent"}]},h={id:"models",location:"node",type:"multipicklist",storeAs:{type:"node",name:"model"},label:"Models to Save/Cancel",picklistEntries:[]};"save"===r&&(o={id:"rollbackonanyerror",label:"Roll back entire save on any error",helptext:"If true, then if there is any error while saving any of the selected Models, then the entire save operation will be rolled-back, as if no part of it ever occurred. ",type:"boolean",isNew:!0}),n.pageXML.children("models").children().each(function(){var e=t(this).attr("id");h.picklistEntries.push({value:e,label:e})});var m=[{name:"Basic",props:{navigate:[l,s,d,p,c,u],save:[l,s,d,h,o,p,c,u],cancel:[l,s,d,h,p,c,u],custom:[l,s,d,{id:"snippet",type:"string",label:"Name of Snippet to run"}],multi:[l,s,d]}[r||"navigate"]}];if("multi"===r){var b=n.getLastSelectedModelComponent();m.push(n.getActionsCategory({useModelName:b&&b.state?b.state.attr("id"):n.getFirstModel().attr("id"),linkedComponent:a,additionalActionOptions:[{value:"navigateToStep",label:"Navigate to Step",props:[{id:"stepid",type:"combobox",label:"Step Id",entries:function(){return a.getStepEntries()}}]}]}))}m.push(n.getHotkeysCategory({linkedComponent:a}),{name:"Advanced",props:[n.coreProps.domIdProp({id:"uniqueid"}),n.coreProps.cssClassProp(),{id:"secondary",type:"boolean",location:"attribute",label:"Is Secondary",helptext:'Purely stylistic. Will change the button style to match that of the standard "Cancel" button'}]},n.getRenderingCategory({component:a,model:null,propViewer:e,showEnableDisableConditions:!0})),e.applyPropsWithCategories(m,i)},defaultStateGenerator:function(){return o('<action type="navigate" label="New Button" stepid="step1"/>')}}),l=new n.Builder({id:"step",name:"Step",hideWrapper:!0,addChildComponent:function(e,t){return!!e.acceptor.canAcceptComponent(t)&&(e.acceptor.addComponent(t),!0)},componentRenderer:function(e){var t=e.acceptor=new a.ComponentAcceptor(e.state.children("components"),void 0,void 0,e.mode);e.element.append(t.element),r.afterAttach=function(t){t.getStepEntries=function(){return i(e.parentcomponent.state.children("steps"))}},e.actionacceptor=new a.ComponentAcceptor(e.state.children("actions"),r,".nx-pagebuilder-wizard-action",e.mode),e.actionacceptor.element.addClass("nx-pagebuilder-acceptor-inline-small").css({margin:"0px 8px",float:"right",border:"0px solid white"}),0!==e.state.index()&&e.addActionItem("Remove Step","sk-icon-delete",function(){e.parentcomponent.currentstep=e.state.index()-1,e.parentcomponent.stepscontainer.children().eq(e.parentcomponent.currentstep).show(),e.remove(),e.parentcomponent.select(),e.parentcomponent.drawstepnav()}),e.addActionItem("Add Button","sk-bi-button-add",function(){var t=r.getDefaultState();e.state.children("actions").append(t);var a=n.componentFactory(t,r,!0);e.actionacceptor.addComponent(a),e.save()})},propertiesRenderer:function(e,t){e.setTitle("Step Properties");e.applyProps([{id:"stepid",type:"string",label:"Step Id"},{id:"steplabel",type:"string",label:"Step Label"},{id:"loadlazypanels",type:"boolean",label:"Load Lazy Include Panels when Step is first shown",helptext:'When a user first navigates to this Step, load in any "lazy" Include Panels that have not yet been loaded.'}],t.state,{mode:e.mode})},onSelect:function(e){e.element.siblings().hide(),e.element.show()},defaultStateGenerator:function(t){var n,a,i,r,l,s,d,p;return t&&(a=t.stepId,i=t.stepLabel,r=t.addPreviousStepButton,l=t.addNextStepButton,s=t.previousStepId,d=t.nextStepId,p=t.wizardSteps),!1!==r&&(r=!0),!1!==l&&(l=!0),!a&&p&&p.length&&(n=p.length+1),n&&(a||(a="step"+n),i||(i="Step "+n),r&&!s&&n>1&&p&&p.length&&(s=p.eq(n-2).attr("stepid"))),o("<step/>").attr({stepid:a,steplabel:i}).append(o("<components/>"),o("<actions>"+(r?'<action uniqueid="'+e.utils.generateUniqueId()+'" type="navigate" '+(s?'stepid="'+s+'" ':"")+'label="Previous Step" icon="sk-icon-arrow-left" secondary="true"/>':"")+(l?'<action uniqueid="'+e.utils.generateUniqueId()+'" type="navigate" '+(d?'stepid="'+d+'" ':"")+'label="Next Step" icon="sk-icon-arrow-right"/>':"")+"</actions>"))}}),s={type:"object",data:{label:{type:"string"},id:{type:"string"}}};n.registerBuilder(new n.Builder({id:"wizard",name:"Wizard",icon:"sk-bi-wizard",isJSCreateable:!0,description:function(){return'Create a step-by-step process to move through screens in a specified order.<br><br>For more information, see the <a href="'+("https://docs.skuid.com/v"+e.version.number+"/en/skuid/components/wizard/")+'">Wizard component tutorial</a>.'},actions:[{value:"navigateToStep",label:"Navigate to Step",propsFunction:function(e){return[{id:"stepid",type:"combobox",label:"Step Id",entries:function(){return i(e.state.children("steps"))}}]}}],events:[{type:"skuid.wizard.stepChange",label:"Wizard: Step Change",data:{currentStep:s,formerStep:s}},{type:"skuid.wizard.stepContentLoaded",label:"Wizard: Step Change",data:{step:s}}],componentRenderer:function(e){e.setTitle(e.builder.name),e.currentstep=0,e.stepnav=t("<div>").addClass("nx-pagebuilder-wizard-stepnav").appendTo(e.body),e.actionscontainer=t("<div>").addClass("clearfix").appendTo(e.body),e.stepscontainer=t("<div>").appendTo(e.body),e.drawstepnav=function(){e.stepnav.empty(),e.state.children("steps").children().each(function(n){var a=t("<div>").addClass("nx-pagebuilder-wizard-stepnavitem");n===e.currentstep&&(a.addClass("nx-stepnavitem-selected"),e.actionscontainer.children().detach(),e.stepscontainer.children().eq(e.currentstep).data("object").actionacceptor.element.appendTo(e.actionscontainer)),a.append(t("<div>").addClass("nx-pagebuilder-component-actionicon sk-icon sk-builder-icon sk-bi-wizard-step"),t("<div>").addClass("nx-pagebuilder-component-actiontext").text(n+1)),a.click(function(n){e.currentstep=t(this).index(),e.stepscontainer.children().eq(e.currentstep).data("object").select(),e.drawstepnav(),n.stopPropagation()}),e.stepnav.append(a)})},e.addActionItem("Add New Step","sk-bi-wizard-step-add",function(){var t,a=e.state.children("steps"),o=l.getDefaultState({wizardSteps:a.children()});a.append(o),(t=n.componentFactory(o,l)).parentcomponent=e,e.stepscontainer.append(t.element),e.save(),t.select(),e.currentstep=t.element.index(),e.drawstepnav()}),e.state.children("steps").children().each(function(a){var o=n.componentFactory(t(this),l);o.parentcomponent=e,a===e.currentstep?o.element.show():o.element.hide(),e.stepscontainer.append(o.element)}),e.drawstepnav()},propertiesRenderer:function(e,t){e.setTitle("Wizard Properties");var o=[{id:"deferstepcontentsrendering",type:"boolean",label:"Defer Rendering of Step Contents",defaultValue:"false",helptext:"If checked, then only the first Step's contents will initially be rendered. Other Steps' contents will only be rendered when a user first navigates to a Step. This can dramatically speed up page load times for complex wizards with many steps and lots of components on each step."},{id:"buttonslocation",type:"picklist",label:"Buttons Location",defaultValue:"top",helptext:"Determines where this Wizard's buttons will be located vertically, relative to the Wizard's contents.",picklistEntries:[{label:"Top",value:"top"},{label:"Bottom",value:"bottom"}],onChange:function(){t.refresh()}},n.coreProps.uniqueIdProp({component:t}),a.cssClassProp];e.applyPropsWithCategories([{name:"Basic",props:o},n.getRenderingCategory({component:t,model:null,propViewer:e})],t.state)},defaultStateGenerator:function(){var e=o("<steps/>").append(l.getDefaultState({stepId:"step1",stepLabel:"Step 1",addPreviousStepButton:!1,nextStepId:"step2"}),l.getDefaultState({stepId:"step2",stepLabel:"Step 2",previousStepId:"step1"}));return o('<wizard deferstepcontentsrendering="false" buttonslocation="top"/>').append(e)}}))}(skuid)},407:function(e,t,n){"use strict";!function(e){var t=e.$,n=e.builder.core,a=e.builder.desktop,o=e.utils.makeXMLDoc;n.registerBuilder(new n.Builder({id:"tabset",name:"Tab Set",icon:"sk-bi-tabset",isJSCreateable:!0,description:function(){return'The Tab Set component creates tabs on a page.  You can add more components to tabs inside a tab set.<br><br>For more information, see the <a href="'+("https://docs.skuid.com/v"+e.version.number+"/en/skuid/components/tab-set/")+'">Tab Set component tutorial</a>.'},componentRenderer:function(i){i.setTitle(i.builder.name),i.tabsWrapper=t("<div>");var r=t("<ul>").appendTo(i.tabsWrapper),l=new n.Builder({id:"tab",name:"Tab",hideWrapper:!0,addChildComponent:function(e,t){return!!e.acceptor.canAcceptComponent(t)&&(e.acceptor.addComponent(t),!0)},componentRenderer:function(e){e.headerWrapper.css("position","static");var t=e.acceptor=new a.ComponentAcceptor(e.state.children("components"),void 0,void 0,e.mode);e.body.append(t.element).css("min-height","30px"),e.addActionItem("Remove Tab","sk-bi-tab-delete",function(){var t=e.element.parent(),n=r.children().eq(t.index()-1);e.remove(),t.remove(),n.remove(),i.tabsWrapper.tabs("refresh")})},propertiesRenderer:function(a,o){a.setTitle("Tab Properties");var r=[{name:"Basic",props:[{id:"name",type:"string",label:"Tab Label",onChange:function(e){i.tabsWrapper.children("ul").find('[href="#'+o.element.parent().prop("id")+'"]').children(".nx-tab-label").text(e)}},{id:"icon",type:"icon",label:"Icon",onChange:function(n){var a=i.tabsWrapper.children("ul").find('[href="#'+o.element.parent().prop("id")+'"]'),r=a.children(".nx-tab-icon");r.length&&r.remove(),n&&(r=t(e.ui.createIcon(n,{additionalClass:"nx-tab-icon inline"})),a.prepend(r))}}]},{name:"Advanced",props:[{id:"uniqueid",type:"string",label:"Tab panel Unique Id",helptext:"Optional parameter that allows this Tab's content panel to be reliably referenced via JavaScript, or set via a window.location.hash (e.g. apex/skuid__UI?page=AccountDetail#CasesTab)"},{id:"loadlazypanels",type:"boolean",defaultValue:!0,label:"Load Lazy Page Include components in this Tab when it is selected",helptext:'When this tab is selected, load in any "lazy" Page Include components that have not yet been loaded.'}]},{name:"Actions",tree:[n.getActionsTree({customNodeId:"oninitialshowactions",label:"When First Shown",linkedComponent:o,actionsIndent:1,props:[{type:"helptext",html:'"When First Shown" Actions will be run only when a User selects this Tab for the first time.'}]}),n.getActionsTree({customNodeId:"onshowactions",label:"Whenever Shown",linkedComponent:o,actionsIndent:1,props:[{type:"helptext",html:'"Whenever Shown" Actions will be run every time that a User selects this Tab.'}]})]},n.getRenderingCategory({component:o,model:null,propViewer:a})];a.applyPropsWithCategories(r,o.state)},defaultStateGenerator:function(){return o('<tab name="New Tab" loadlazypanels="true"/>').append(o("<components/>"))}}),s=function(a,o){var s=i._GUID+"-tab-"+o,d=t('<li><a href="#'+s+'"><div class="nx-tab-icon"></div><span class="nx-tab-label">'+a.attr("name")+"</span></a></li>"),p=t("<div>").prop("id",s),c=a.attr("icon"),u=d.find(".nx-tab-icon");c?u.replaceWith(e.ui.createIcon(c,{additionalClass:"inline nx-tab-icon"})):u.hide(),n.componentFactory(a,l,!0).element.appendTo(p),r.append(d),i.tabsWrapper.append(p)};i.body.append(i.tabsWrapper),i.addActionItem("Add Tab","sk-bi-tab-add",function(){var t=l.defaultStateGenerator(),n=i.state.children("tabs"),a=e.utils.generateGUID();n.append(t),s(t,a),i.tabsWrapper.tabs("refresh"),i.save()});var d=i.state.attr("renderas"),p=i.state.attr("sidebarwidth");"lefttabs"!==d&&"righttabs"!==d||(i.tabsWrapper.addClass("nx-"+d),p&&(r.css("width",p+"px"),i.tabsWrapper.children("div").css("margin-"+("lefttabs"===d?"left":"right"),p+"px"))),i.tabsWrapper.tabs({beforeActivate:function(e,t){var n;-1===t.newTab.index()?(e.preventDefault(),n=t.oldPanel):n=t.newPanel,-1!==t.oldTab.index()&&n.children(".nx-pagebuilder-component").data("object").select(),e.stopPropagation()},activate:function(e,t){t.newPanel.trigger("tabshow")},collapsible:!0});var c="x";"lefttabs"!=i.state.attr("renderas")&&"righttabs"!=i.state.attr("renderas")||(c="y"),i.tabsWrapper.find(".ui-tabs-nav").sortableComponent({axis:c,component:i,parentStateSelector:"tabs"}),i.state.children("tabs").children().each(function(e){s(t(this),e)}),i.tabsWrapper.tabs("refresh"),i.tabsWrapper.tabs("option","active",0)},propertiesRenderer:function(e,t){e.setTitle("Tab Set Properties");var o=t.state,i={id:"rememberlastusertab",type:"boolean",label:"Remember user's last tab",helptext:"If true, then Skuid's Personalization Framework will remember the last tab a user was on, and will automatically open that tab when that user returns to this page",defaultValue:!0},r={id:"defertabrendering",type:"boolean",label:"Defer rendering of tab contents (makes pages load faster)",helptext:"This option is HIGHLY recommended, so don't uncheck unless you have a good reason. If checked, then when your Tab Set is initially rendered on screen, only the first (or last-selected) Tab's contents are actually rendered/drawn (unless a given Tab is conditionally hidden) --- the contents of all other Tabs in this Tab Set will not be drawn until the User selects that Tab. Otherwise, ALL Tabs' contents are loaded immediately upon page load, which can slow down page loads for pages with complex Tab Sets."},l={id:"renderas",type:"picklist",label:"Tab Navigation",defaultValue:"",picklistEntries:[{label:"Tabs on Top",value:""},{label:"Left Tab Bar",value:"lefttabs"},{label:"Right Tab Bar",value:"righttabs"},{label:"Picklist",value:"picklist"},{label:"Radio Buttons",value:"radio"}],onChange:function(e){"picklist"!==e&&"radio"!==e&&t.state.removeAttr("label"),t.save().rebuildProps().refresh()}},s={id:"sidebarwidth",type:"string",label:"Tab Bar Width",onChange:function(){t.refresh()}},d=n.coreProps.uniqueIdProp({component:t}),p=a.cssClassProp,c={picklist:[l,i,{id:"label",type:"string",label:"Picklist Label",helptext:'Text displayed to the left of the Picklist, e.g. "Select an option..."'},r,d,p],radio:[l,i,{id:"label",type:"string",label:"Radio Buttons Label",helptext:'Text displayed to the left of the Radio Buttons, e.g. "Select an option..."'},r,d,p],lefttabs:[l,i,s,r,d,p],righttabs:[l,i,s,r,d,p]};o.attr("rememberlastusertab")||o.attr("rememberlastusertab","true"),e.applyPropsWithCategories([{name:"Basic",props:c[o.attr("renderas")]||[l,i,r,d,p]},n.getRenderingCategory({component:t,model:null,propViewer:e})],o)},defaultStateGenerator:function(){var e=o('<tabset rememberlastusertab="true" defertabrendering="true"/>');return o("<tabs/>").appendTo(e).append(o('<tab name="New Tab"/>').append(o("<components/>"))),e}}))}(skuid)},408:function(e,t,n){"use strict";!function(e){var t,n=e.$,a=e.builder.core,o=e.utils,i=o.makeXMLDoc,r=e.constants.DISPLAY_TYPES;function l(e){return{id:"action",icon:"sk-bi-row-action-add",deletetooltip:"Remove Row Action",indent:e.indent,labelFunction:function(e){return"Action: "+(e.attr("label")||"[No Label]")},invisibleParent:e.invisibleParent,defaultStateFunction:function(){return i("<action />")},propsFunction:function(e){return a.getIconLabelProps({component:e,refreshComponent:!0})},childrenFunction:function(t){return[a.getActionTreeNode({addtooltip:"Add Action Step",linkedComponent:e.linkedComponent,refreshLinkedComponent:!1,component:t,treeNode:{indent:e.childIndent||1,invisibleParent:"actions"}})]}}}t=new a.Builder({id:"search",name:"Search",icon:"sk-bi-search",isJSCreateable:!0,isTransparent:!0,description:function(){return'The Search Component creates a search box that allows the user to search through Salesforce data objects. Additionally, the user can perform any number of actions using the individual search results.<br><br>For more information, see the <a href="'+("https://docs.skuid.com/v"+e.version.number+"/en/skuid/components/search/")+'">Search component tutorial</a>.'},previewRenderer:function(e){e.setTitle(e.builder.name);var t=e.body,a=e.state,o=a.attr("placeholdertext"),i=a.attr("boxwidth")||"200px",r=n("<input>").prop("disabled",!0).appendTo(t);e.element.css({display:"inline-block"}),i&&r.css({"min-width":i}),o&&function(e){var t=e.searchBox,n=e.placeholderText||"Search";"placeholder"in document.createElement("input")?t.attr("placeholder",n):(t.addClass("unchanged").val(n),t.focus(function(){t.hasClass("unchanged")&&t.val("").removeClass("unchanged")}).blur(function(){""===t.val()&&t.val(n).addClass("unchanged")}))}({searchBox:r,placeholderText:o})},componentRenderer:function(e){e.setTitle(e.builder.name),e.element.css({display:""}),e.body.addClass("sk-search").append(n('<input type="text" disabled="true">').addClass("ui-autocomplete-input").css("min-width",e.state.attr("boxwidth")||"200px"))},propertiesRenderer:function(t,s){t.setTitle("Search Properties");var d,p=s.state,c=[];c.push({name:"Basic",props:[{id:"soslfields",type:"picklist",label:"Fields to Search",defaultValue:"Name Fields",picklistEntries:[{label:"Name Fields",value:"Name Fields"},{label:"All Text Fields",value:"All Fields"},{label:"Email Fields",value:"Email Fields"},{label:"Phone Fields",value:"Phone Fields"}]},{id:"placeholdertext",label:"Placeholder Text",type:"string",helptext:'(Optional) Custom text to display as a placeholder in the search box until the user starts typing. Defaults to "Search."'},{id:"boxwidth",type:"csssize",label:"Searchbox Min Width",helptext:"(Optional) Set the minimum width of the Search Box (defaults to 200px)",onChange:function(e){s.body.find(".ui-autocomplete-input").css("min-width",e)}},{id:"preventchange",type:"boolean",label:"Preserve search term",helptext:"When a user hovers over an item in the dropdown, the input value changes to the display template of that item. If this property is checked, the value will NOT be changed.",defaultValue:!1},{id:"limit",type:"integer",label:"Result Limit",helptext:"(Optional) Limit the number of results returned. If Return Objects are specified, the limit will be applied to each Object (e.g. LIMIT 5 means 5 Contacts, 5 Accounts...)"},a.coreProps.uniqueIdProp({component:s,onChange:function(){s.refresh()}}),a.coreProps.cssClassProp()]},{name:"Global Actions",tree:(d={linkedComponent:s},{id:"resultactions",label:"Result Actions",deleteable:!1,indent:d.indent,linkedComponent:d.linkedComponent,isChild:!0,children:[l({linkedComponent:d.linkedComponent})]})},a.getHotkeysCategory({id:"focushotkeys",label:"Focus Hotkeys",linkedComponent:s}),{name:"Return Objects",tree:{id:"objects",label:"Return Objects",deleteable:!1,linkedComponent:s,isChild:!0,addtooltip:"Add Return Object",children:[{id:"object",labelFunction:function(e){return e.attr("id")?e.attr("datasource")+": "+e.attr("id"):"[No Object Selected]"},linkedComponent:s,addtooltip:"Add Return Object",propsFunction:function(t){var a,l=t.state,d=l.children("fields").first(),p=e.dataSource.get(l.attr("datasource")).getDataSourceType(),c=e.dataSource.map(),u=l.attr("id"),h={id:"id",type:"sobject",label:"Entity",readonly:!1,dataSourceName:l.attr("datasource"),filter:function(){var t=e.dataSource.get(l.attr("datasource")),n=t.getDataSourceType();return t.getEntityList({dataSource:t}).then(function(e){return n.searchableEntities?n.searchableEntities({ignoreHidden:!0,dataSource:t}):e})},onChange:function(){t.refresh().rebuildProps()}},m={id:"id",type:"text",label:"URL Endpoint",onChange:function(){t.refresh()}},b={id:"pathtocontent",type:"field",ignorePathToContent:!0,displayTypeFilter:[r.OBJECT,r.ARRAY],modelname:u,isSearchObject:!0,dataSourceName:l.attr("datasource"),label:"Path to Contents",helptext:"The path through the result of this GET request to the desired contents of this Model.",onChange:function(e,t,a,i){l.children("fields").children().each(function(){var t,a=n(this),r=a.attr("id");e&&o.startsWith(r,e)?t=r.substring(e.length+1):!e&&i&&(t=i+"."+r),a.attr("id",t)}),s.save().refresh()}};return n.each(c,function(e,t){t.dataSourceType.prop("hasGlobalSearchEntities")||delete c[e]}),l.attr("datasource")||l.attr("datasource",e.platform.getDefaultDataSourceName()),a=[{id:"datasource",type:"picklist",picklistEntries:Object.keys(c).map(function(e){return{label:e,value:e}}),label:"Data Source",onChange:function(){t.refresh().rebuildProps()}},{id:"icon",type:"icon",label:"Icon",onChange:function(){s.refresh()}},{id:"headername",label:"Header Display Name",type:"text",helptext:"(Optional) This gives you the ability to have the header named something other than the name of the Data Source."},{id:"displaytemplate",label:"Display Template",type:"text",helptext:'(Optional) The fields from related records to display, specified using Merge syntax, e.g. "{{Name}} - {{Industry}}" would show the Name and Industry of related Accounts, if this is the AccountId field.'},{id:"fields",label:"Fields",type:"field",labelFunction:function(){return n.map(d.children(),function(e){return n(e).attr("id")}).join(", ")||"[No Fields Selected]"},isMultiselect:!0,modelname:u,sobject:u,isSearchObject:!0,dataSourceName:l.attr("datasource"),selectedFunction:function(e){return d.children('[id="'+o.escapeSelector(e)+'"]').length},onChange:function(e,t){if(!0===t){d.length||(d=i("<fields/>"),l.append(d));var n=i('<field id="'+e+'"/>').appendTo(d);d.append(n)}else d.children('[id="'+e+'"]').first().remove();s.save()}},{id:"orderby",type:"string",label:"Fields to order records by",helptext:"How to order the data records returned for this Return Object, e.g. 'LastName DESC, FirstName' would order by LastName going from Z to A, then by FirstName going from A to Z."},{id:"returnlimit",type:"integer",label:"Result Limit",helptext:"(Optional) Limit the number of results returned."}],p.searchProperties&&Array.prototype.push.apply(a,p.searchProperties(l).properties),a.some(function(e){return"id"===e.id})||("REST"===p.name?(a.splice(1,0,m),a.splice(5,0,b)):a.splice(1,0,h)),a},children:[l({linkedComponent:s,invisibleParent:"resultactions",indent:1,childIndent:2})]}]}},a.getActionsCategory({label:"Select Actions",customNodeId:"selectactions",linkedComponent:s,props:[{type:"helptext",html:"These actions will execute when you click on an item in the search result list. If no actions are added, the first action available for the selected object will be executed."}]})),t.applyPropsWithCategories(c,p)},defaultStateGenerator:function(){return i("<search/>")}}),a.registerBuilder(t)}(skuid)},409:function(e,t,n){"use strict";!function(e){var t=e.builder.core,n=e.builder.desktop,a=e.utils.makeXMLDoc,o=e.events;t.registerBuilder(new t.Builder({id:"grid",name:"Responsive Grid",icon:"sk-bi-grid",isGlobalComponent:!0,makeDraggable:!0,hideWrapper:!1,hideFromComponentsList:!1,description:function(){return'The Responsive Grid includes one (or more) divisions, which can, in turn, house other components. These divisions are responsive, adjusting to the size of the screen. Additionally, you can add side-by-side divisions that will then become a vertical stack when adjusting the size of the screen.<br><br>For more information, see the <a href="'+("https://docs.skuid.com/v"+e.version.number+"/en/skuid/components/responsive-grid/")+'">Responsive Grid component tutorial</a>.'},isTransparent:!0,isJSCreateable:!0,compatText:'The "Responsive Grid" component is not compatibile with IE 10 and below',componentRenderer:function(i){var r=i.state,l=i.body,s=i.element,d=new t.Builder({id:"division",name:"Division",hideWrapper:!0,isTransparent:!0,componentRenderer:function(t){var a=t.state,r=a.parent().parent(),l=r.attr("columngutter"),s=r.attr("rowgutter"),d=new n.ComponentAcceptor(t.state.children("components"),void 0,void 0,i.mode);t.element.addClass("sk-grid-division"),t.headerWrapper.append('<div class="nx-page-builder-hiddenheader-title">Division</div>'),e.responsive.prepareDivision(t.element,{behavior:a.attr("behavior"),width:a.attr("width"),minWidth:a.attr("minwidth"),relativeSize:a.attr("ratio"),verticalAlign:a.attr("verticalalign"),columnGutter:l,rowGutter:s}),t.body.append(d.element),t.addActionItem("","sk-bi-panel-delete",function(){t.remove(),i.save().refresh(),o.publish("builder.colorcheck")})},propertiesRenderer:function(e,a){e.setHeaderText("Division Properties");var o=t.getDivisionProperties(a,i,{});o.push(t.coreProps.uniqueIdProp({component:i}),n.cssClassProp);var r=n.buildPropsEditor(a.state,o,{mode:e.mode});e.body.append(r)},defaultStateGenerator:function(){return a('<division behavior="flex" verticalalign="top" minwidth="100px" ratio="1"/>').append(a("<components/>"))}});i.setTitle(i.builder.name),t.appendComponents(l,r.children("divisions").first().children("division"),{customBuilder:d,makeDraggable:!1}),s.addClass("nx-pagebuilder-grid-component"),l.addClass("sk-grid");var p=i.state.children("styles");e.utils.processStylesNode(p,s,{whitelist:t.builderSafeBackgroundProperties,removeInlineStyles:!0}),e.utils.processStylesNode(p,l,{whitelist:t.builderSafePositionProperties}),e.responsive.prepareGrid(i.body,{columnGutter:r.attr("columngutter"),rowGutter:r.attr("rowgutter")}),i.addActionItem("Add Division","sk-bi-panel-add",function(){var e=d.defaultStateGenerator();t.componentFactory(e,d).element.appendTo(i.body),i.state.children("divisions").first().append(e),i.refresh().save(),o.publish("builder.colorcheck")})},propertiesRenderer:function(e,n){e.setTitle("Responsive Grid Properties");var a=n.state,o=[];o.push({name:"Layout",props:t.getGridProperties(n)}),o.push({name:"Advanced",props:[t.coreProps.uniqueIdProp({component:n,onChange:function(){n.refresh()}}),t.coreProps.cssClassProp()]}),o.push({name:"Styles",tree:t.getStandardStyleTree({component:n,standardStyleSections:["background"]})},t.getRenderingCategory({component:n,propViewer:e})),e.applyPropsWithCategories(o,a)},defaultStateGenerator:function(){return a('<grid><divisions><division behavior="flex" minwidth="100px" ratio="1"><components/></division></divisions></grid>')}}))}(skuid)},410:function(e,t,n){"use strict";!function(e){var t=e.$,n=e.builder.core,a=e.builder.desktop,o=e.utils.makeXMLDoc;n.registerBuilder(new n.Builder({id:"panelset",name:"Panel Set",icon:"sk-bi-panelset",isJSCreateable:!0,isTransparent:!0,description:function(){return'The Panel Set component allows for separating a page content. A common use case for this component is to allow for a page to have a sidebar. You can add more components to panels inside a panel set.<br/><br/>For more information, see the <a href="'+("https://docs.skuid.com/v"+e.version.number+"/en/skuid/components/panel-set/")+'">Panel Set component tutorial</a>.'},componentRenderer:function(i){function r(){var e=i.state.attr("type");return"custom"===e||!e}function l(){var e=i.state.children("panels").first().children(),t=Math.floor(1e3/e.length)/10;e.attr("width",t+"%")}var s=new n.Builder({id:"panel",name:"Panel",hideWrapper:!0,isTransparent:!0,addChildComponent:function(e,t){return!!e.acceptor.canAcceptComponent(t)&&(e.acceptor.addComponent(t),!0)},componentRenderer:function(t){var n=t.acceptor=new a.ComponentAcceptor(t.state.children("components"),void 0,void 0,i.mode);t.body.append(n.element),t.headerWrapper.append('<div class="nx-page-builder-hiddenheader-title">Panel</div>'),("standard"!==i.state.attr("type")||t.state.attr("type"))&&t.addActionItem("Remove Panel","sk-bi-panel-delete",function(){t.remove(),r()&&l(),i.save().refresh(),e.events.publish("builder.colorcheck")})},propertiesRenderer:function(t,o){t.setHeaderText("Panel Properties");var l=[];r()?l.push({id:"width",type:"csssize",label:"Panel Width",helptext:"May be a pixel value (example: 250px) or percentage value (example: 25%).",onChange:function(){i.refresh(),e.events.publish("builder.colorcheck")}}):o.state.attr("type")&&(l.push({id:"width",type:"csssize",label:"Panel Width",allowUnits:["px"],onChange:function(){i.refresh(),e.events.publish("builder.colorcheck")}}),l.push({id:"type",type:"picklist",label:"Panel Position",defaultValue:"left",picklistEntries:[{label:"Left",value:"left"},{label:"Right",value:"right"}],onChange:function(){i.refresh(),e.events.publish("builder.colorcheck")}})),l.push(n.coreProps.uniqueIdProp({component:i}),a.cssClassProp);var s=a.buildPropsEditor(o.state,l);t.body.append(s)},defaultStateGenerator:function(){return r()?o("<panel/>").append(o("<components/>")):o('<panel type="left" width="225px"/>').append(o("<components/>"))}});i.setTitle(i.builder.name),i.body.panelSet(i.state,i),i.state.children("panels").first().children("panel").each(function(e){var a=i.body.children('[data-index="'+e+'"]').children().first(),o=n.componentFactory(t(this),s,!1);a.append(o.element)}),i.addActionItem("Add Panel","sk-bi-panel-add",function(){var t=s.defaultStateGenerator();n.componentFactory(t,s).element.appendTo(i.body),i.state.children("panels").first().append(t),r()&&l(),i.save().refresh(),e.events.publish("builder.colorcheck")})},propertiesRenderer:function(o,i){o.setHeaderText("Panel Set Properties");var r=i.state,l={id:"scroll",type:"picklist",label:"Scrolling Mode",defaultValue:"",picklistEntries:[{label:"No Scroll Bars",value:""},{label:"Fixed Height Scrolling",value:"fixed"},{label:"Variable Height Scrolling",value:"variable"}],required:!0,onChange:function(e){r.removeAttr("height offset"),"variable"===e?r.attr("offset","220px"):"fixed"===e&&r.attr("height","400px"),i.save().rebuildProps()}},s=[{id:"type",type:"picklist",label:"Panel Set Type",defaultValue:"standard",helptext:"A Fluid Panel Set includes any number of fixed-width left or right sidebars with a liquid (fills the available space) main content area. A Custom Width Panel Set allows you to add any number of panels, each of which has an explicit width (in px or %). Vertical Panels simply stack panels vertically.",picklistEntries:[{label:"Fluid with Sidebars",value:"standard"},{label:"Custom Width",value:"custom"},{label:"Vertical Panels",value:"vertical"}],required:!0,onChange:function(n){var a=r.children("panels").first().children();if("standard"===n)a.each(function(e){1===a.length?t(this).removeAttr("width").removeAttr("type"):0===e?t(this).attr("type","left").attr("width","225px"):1===e?t(this).removeAttr("width").removeAttr("type"):t(this).attr("type","right").attr("width","225px")});else if("vertical"===n)r.removeAttr("scroll height offset"),a.removeAttr("type");else{var o=Math.floor(1e3/a.length)/10;a.attr("width",o+"%").removeAttr("type")}i.save().refresh().rebuildProps(),e.events.publish("builder.colorcheck")}}];if("vertical"!==i.state.attr("type")){s.push(l);var d=r.attr("scroll");"fixed"===d&&s.push({id:"height",type:"csssize",label:"Height"}),"variable"===d&&s.push({id:"offset",type:"csssize",allowUnits:["px"],label:"Offset"})}o.applyPropsWithCategories([{name:"Basic",props:s},{name:"Advanced",props:[n.coreProps.uniqueIdProp({component:i}),a.cssClassProp]},n.getRenderingCategory({component:i,model:null,propViewer:o})],i.state)},defaultStateGenerator:function(){return o('<panelset type="standard" />').append(o("<panels/>").append(o('<panel type="left" width="225px"/>').append(o("<components/>")),o("<panel/>").append(o("<components/>"))))}}))}(skuid)},411:function(e,t,n){"use strict";!function(e){var t=e.$,n=e.builder.core,a=e.builder.desktop,o=e.utils,i=o.makeXMLDoc,r=e.$L;function l(e,t){t.length&&n.appendComponents(e,t.children("navigationitem"),{customBuilder:d,makeDraggable:!1,isGlobalComponent:!1})}function s(){var t=[{label:"Manual",value:""}],n=e.platform.getNavigationItemSourceTypes;return n&&"function"==typeof n&&(n=n()),n&&n.length&&n.forEach(function(e){e.value&&e.label&&t.push(e)}),t}var d=new n.Builder({id:"navigationitem",name:"Navigation Item",isJSCreateable:!0,hideWrapper:!0,isTransparent:!0,description:"An individual navigation item",componentRenderer:function(a){var o=a.body,r=a.element,s=a.state,p=s.attr("label"),c=s.attr("icon"),u=t("<div>").addClass("nx-pagebuilder-nav-wrapper").appendTo(r),h=s.children("navigationitems").first();r.addClass("nx-pagebuilder-nav-component"),c&&o.append(t(e.ui.createIcon(c)).addClass('nx-pagebuilder-nav-component-icon">')),p&&o.append(t('<div class="nx-pagebuilder-nav-component-label">').html(p)),o.addClass("sk-navigation-item"),a.addActionItem("","sk-icon-delete",function(){a.remove()}),l(u,h),u.sortableComponent({axis:"y",component:a,parentStateSelector:"navigationitem > navigationitems"}),a.addActionItem("","sk-icon-page-add",function(){h.length||(h=i("<navigationitems/>"),s.append(h));var t=d.defaultStateGenerator(),o=n.componentFactory(t,d);u.append(o&&o.element),h.append(t),a.save(),e.events.publish("builder.colorcheck")})},propertiesRenderer:function(e,t){e.setHeaderText("Navigation Properties");var o=t.state,i=[{name:"Basic",props:n.getIconLabelProps({component:t,refreshComponent:!0}).concat(n.coreProps.uniqueIdProp({component:t}),a.cssClassProp)},n.getActionsCategory({linkedComponent:t}),n.getRenderingCategory({component:t,propViewer:e})];e.applyPropsWithCategories(i,o)},defaultStateGenerator:function(){return i('<navigationitem label="New Navigation Item" uniqueid="'+o.generateUniqueId()+'"><actions><action type="redirect" window="self"/></actions></navigationitem>')}}),p=new n.Builder({id:"navigation",name:"Navigation",icon:"sk-bi-navigation",isJSCreateable:!0,description:function(){var t=e.version.number;return'The Navigation component is used to create custom navigation items that allow users to navigate Skuid apps, go to different web pages, or perform <a href="https://docs.skuid.com/v'+t+'/en/skuid/action-framework/">Action Framework</a> actions.<br><br>For more information, see the <a href="'+("https://docs.skuid.com/v"+t+"/en/skuid/components/navigation/")+'">Navigation component tutorial.</a>'},isTransparent:!0,componentRenderer:function(a){a.setTitle(a.builder.name);var i,p=a.body,c=a.state,u="true"===c.attr("allowexpandcollapse"),h=c.attr("icon")||"sk-icon-menu",m=c.children("navigationitems").first(),b=c.attr("type"),f=c.attr("source"),g=t('<div class="nx-pagebuilder-navwrapper">'),v={};if(s().forEach(function(e){e.value&&e.label&&(v[e.value]=e)}),g.addClass("sk-navigation"),b&&(g.addClass("sk-navigation-vertical"),"vertical"===b&&u)){i=t('<div class="nx-pagebuilder-navwrapper">');var y=e.component.factory({definition:d.defaultStateGenerator().attr({label:r("expand_collapse"),icon:h}).children("actions").remove().end()});i.append(y.element)}f&&"manual"!==f?v[f]&&g.append(t("<div>").addClass("sk-navigation-item").text("Source: "+v[f].label)):(l(g,m),a.addActionItem("","sk-icon-page-add",function(){var t=d.defaultStateGenerator(),o=n.componentFactory(t,d,!0);p.append(o.element),m.append(t),a.save().refresh(),e.events.publish("builder.colorcheck"),e.builder.desktop.registerComponentInstance(t.attr("uniqueid"),o)})),g.sortableComponent({axis:b?"y":"x",component:a,parentStateSelector:"navigation > navigationitems"});var w=a.state.children("styles");o.processStylesNode(w,a.element,{whitelist:n.builderSafeBackgroundProperties}),o.processStylesNode(w,g,{whitelist:n.builderSafePositionProperties.concat(n.builderSafeFormatProperties)}),i&&p.append(i),p.append(g)},propertiesRenderer:function(t,a){t.setTitle("Navigation Properties");var o=a.state,i=[],r=[],l=o.attr("type"),p={id:"type",label:"Type",type:"picklist",picklistEntries:[{label:"Horizontal",value:""},{label:"Vertical",value:"vertical"},{label:"Drop Down",value:"dropdown"}],onChange:function(){a.rebuildProps().refresh(),e.events.publish("builder.colorcheck")}},c={id:"source",label:"Item Source",type:"picklist",picklistEntries:s(),onChange:function(t){""===t?o.children("navigationitems").append(d.defaultStateGenerator()):o.children("navigationitems").empty(),a.save().rebuildProps().refresh(),e.events.publish("builder.colorcheck")}},u={id:"responsivebreakpoint",label:l?"Screen Size to Collapse Item Text":"Screen Size to Change Format",type:"picklist",picklistEntries:[{label:"Never",value:""},{label:"Tablets and smaller",value:"medium"},{label:"Phones",value:"small"}],onChange:function(){a.rebuildProps()}},h={id:"alternateformat",label:"Alternate Format",type:"picklist",picklistEntries:[{label:"Collapse to Menu",value:"collapse"},{label:"Wrap Centered",value:"wrap"}],defaultValue:"collapse",onChange:function(){a.rebuildProps()}},m={id:"icon",label:"Icon",type:"icon",defaultValue:"sk-icon-menu",onChange:function(){"true"===o.attr("allowexpandcollapse")&&a.refresh()}},b={id:"allowexpandcollapse",label:"Allow User to Expand or Collapse with a Toggle",type:"boolean",onChange:function(){a.rebuildProps().refresh()}},f={id:"overflowtomenu",label:"Overflow to Menu Navigation",type:"boolean",defaultValue:!0,onChange:function(){a.rebuildProps()}},g={id:"useicon",label:"Use Icon",type:"boolean",onChange:function(){a.rebuildProps()}};"dropdown"!==l&&l&&(m.label="Toggle Expand/Collapse Icon"),r.push(p,c,{id:"maxheight",label:"Scroll Tall Dropdowns",type:"boolean",helptext:"Dropdowns will allow the user to scroll if it is taller than 50% of the browser window."}),"dropdown"!==l?(l||r.push(f),r.push(u),l?"vertical"===l&&(r.push(b),"true"===o.attr("allowexpandcollapse")&&r.push(m)):(o.attr("responsivebreakpoint")&&r.push(h),"collapse"!==o.attr("alternateformat")&&"false"===o.attr("overflowtomenu")||(m.label="Menu Icon",r.push(m)))):(r.push(g),"true"===o.attr("useicon")&&r.push(m)),"dropdown"===o.attr("type")&&("sfapps"!==o.attr("source")?r.push({id:"label",label:"Label",type:"string"}):r.push({id:"customlabel",label:"Label",type:"string",helptext:"If set, the first App's label will no longer be the default text shown."})),i.push({name:"Basic",props:r},{name:"Advanced",props:[n.coreProps.uniqueIdProp({component:a,onChange:function(){a.refresh()}}),n.coreProps.cssClassProp()]},{name:"Styles",tree:n.getStandardStyleTree({component:a})},n.getRenderingCategory({component:a,propViewer:t})),t.applyPropsWithCategories(i,o)},defaultStateGenerator:function(){var e=i("<navigation/>"),t=i("<navigationitems/>").append(d.defaultStateGenerator());return e.append(t)}});n.registerBuilder(p)}(skuid)},412:function(e,t,n){"use strict";!function(e){var t=e.$,n=e.builder,a=n.core,o=n.desktop,i=e.utils.makeXMLDoc,r=e.constants.SALESFORCE;a.registerBuilder(new a.Builder({id:"buttonset",name:"Button Set",icon:"sk-icon-tasks-open",isJSCreateable:!0,givesContext:!0,description:function(){return"The Button component can hold one or more buttons, each of which can be used to invoke Skuid's Action Framework. This component can also be attached to a specific model, allowing for save, cancel, clone, and other interactions to occur on model data.<br><br>Use this component to create and position buttons for your user processes.<br><br>For more information, see the <a href=\""+("https://docs.skuid.com/v"+e.version.number+"/en/skuid/components/button-set/")+'">Button Set component topic.</a>.'},handleStateEvent:function(t,n){var o="model.idChange"===n.type,i="model.remove"===n.type&&t.attr("model")===n.modelId,r=!1;o&&a.handleModelIdChange(t,n),i&&(t.removeAttr("model"),r=!0),r&&e.events.publish("skuidBuilderNeedSave")},propertiesRenderer:function(e,n){var i=n.state;e.setHeaderText("Button Set Properties");var l=[{id:"model",type:"model",label:"Model",required:!1,onChange:function(e){if(a.getDataSourceTypeFromModelName(e).name!==r){var o=n.state.find("button"),i=!1;o.each(function(e,n){-1!==["share","clone","sfdcweblink"].indexOf(t(n).attr("type"))&&(o[e].remove(),i=!0)}),i&&n.save().refresh()}n.updateAutoCreatedEditorCondition()}},{id:"position",type:"picklist",label:"Position",helptext:"The alignment of the buttons. Defaults to Right.",picklistEntries:[{label:"Right (default)",value:""},{label:"Left",value:"left"},{label:"Center",value:"center"}],required:!0,onChange:function(){n.refresh()}}];e.applyPropsWithCategories([{name:"Basic",props:l},{name:"Advanced",props:[a.coreProps.uniqueIdProp({component:n}),o.cssClassProp]},a.getRenderingCategory({component:n,model:null,propViewer:e}),a.getContextCategory({propViewer:e,state:i,model:i.attr("model")})],i)},componentRenderer:function(e){var t,n=e.state.attr("position")||"right",i=e.element.find(".nx-pagebuilder-component-body");e.setTitle(e.builder.name);var r=o.makeCustomButtonBuilder({parentLabel:"Button Set",getContextModelName:function(){return e.state.attr("model")}}),l=new o.ComponentAcceptor(e.state.children("buttons"),r,".sk-buttonset-button",e.mode);"center"===n?(t={margin:"8px 8px 4px",border:"0px solid white",display:"inline-block"},i.css({"text-align":"center"})):t={margin:"8px",border:"0px solid white",float:n},l.element.css(t).addClass("nx-pagebuilder-acceptor-inline-small").appendTo(e.body),e.addActionItem("Add Button","sk-bi-action-add",function(){var t=r.getDefaultState({elementType:"button"});e.state.children("buttons").append(t);var n=a.componentFactory(t,r,!0);l.addComponent(n),e.save()})},defaultStateGenerator:function(){var e=a.getLastSelectedModelComponent(),t=e&&e.state?e.state.attr("id"):null;return i("<buttonset/>").attr({model:t}).append(i("<buttons/>"))}}))}(skuid)},413:function(e,t,n){"use strict";!function(e){var t=e.$,n=e.builder.core,a=e.builder.desktop,o=e.utils,i=e.label.read,r=e.utils.makeXMLDoc,l=e.constants.SALESFORCE,s=e.constants.VISUALFORCE,d=e.constants.LIGHTNING,p=["custom","multi","save","cancel","delete","clone","share","redirect","popup","sfdcweblink","group"],c=i("delete"),u=i("share"),h=i("clone"),m=i("save"),b=i("cancel");n.registerBuilder(new n.Builder({id:"button",name:"Button",hideWrapper:!0,hideFromComponentsList:!0,dragHandle:".nx-pagebuilder-button",copyable:!1,componentRenderer:function(o){var i=this.options||{};o.element.css("float","left").addClass("nx-pagebuilder-button"),o.body.css("padding","0px").css("overflow","visible"),o.actionbar.addClass("nx-pagebuilder-actionbar-item");var r=t("<div>").css({marginLeft:"4px",opacity:"0.35"}),l=o.state,s=l.attr("label"),d=l.parent().parent().prop("tagName"),f=l.attr("icon"),g=l.attr("type");switch("buttonset"===d?o.element.addClass("sk-buttonset-button"):"pagetitle"===d&&o.element.addClass("sk-pagetitle-button"),g){case"delete":r.text(s||c).skooButton({icon:f||"sk-icon-delete"});break;case"share":r.text(s||u).skooButton({icon:"sk-icon-share"});break;case"clone":r.text(s||h).skooButton({icon:"sk-icon-clone"});break;case"save":r.text(s||m).skooButton({icon:f||"sk-icon-save"});break;case"cancel":r.text(s||b).skooButton({icon:f||"sk-icon-cancel"});break;case"popup":var v=l.children("popup"),y=a.makePopupBuilder({getContextModelName:i.getContextModelName,linkedComponent:o,useAfterCloseActions:!0});0===v.length&&(v=y.defaultStateGenerator(),l.append(v)),o.popupcomponent=n.componentFactory(v,y,!0),r.text(s).skooButton({icon:f});break;case"custom":r.skooButton({icon:f,label:s});break;case"sfdcweblink":r.text(s).skooButton({icon:f});var w=l.attr("weblinkname"),C=l.attr("weblinkobject");if(w&&C){var x,k,S=w.split("__");2===S.length?(x=S[0],k=S[1]):k=S[0],e.sfdc.weblink.get({objectName:l.attr("weblinkobject"),weblinkName:k,namespacePrefix:x,callback:function(t){t?(l.attr("label")!=t.MasterLabel&&(l.attr("label",t.MasterLabel),o.save()),r.find(".ui-button-text").text(t.MasterLabel)):e.component.getByType("skuidpage")[0].addProblem("Invalid Salesforce Custom Button/Link"+(C&&w?" on object "+C+": "+w:"."))}})}break;case"group":r.text(s).skooButton({icon:f,secondaryIcon:"fa-caret-down"});break;default:-1!==t.inArray(g,p)?r.text(s).skooButton({icon:f}):"function"==typeof i.componentRendererCallback&&i.componentRendererCallback(o,{button:r})}o.addActionItem("","sk-icon-delete",function(){o.remove()}),o.body.append(r)},propertiesRenderer:function(i,c){i.setHeaderText("Button Properties");var u=this.options||{},h=u.customTypes,f=u.customTypeOnChangeCallback,g=u.customTypePropertiesCallback,v=c.state,y=v.attr("type"),w=u.getContextModelName&&u.getContextModelName(),C=n.getSObjectNameFromModelName(w),x=n.getDataSourceFromModelName(w),k={id:"type",type:"picklist",label:"Button Type",defaultValue:"multi",picklistEntries:[{label:"Run Multiple Actions",value:"multi"},{label:"Redirect to URL",value:"redirect"},{label:"Pop Up",value:"popup"},{label:"Delete",value:"delete"},{label:"Save",value:"save"},{label:"Cancel",value:"cancel"},{label:"Custom: Run Skuid Snippet",value:"custom"}],onChange:function(e,n){if(h&&t.isArray(h)&&"function"==typeof f&&-1!==t.inArray(e,h))f(c,e,n);else if(-1!==t.inArray(e,["delete","share","clone","sfdcweblink"]))v.removeAttr("label");else{if("multi"===e&&!v.children("actions").length){var a,o,i=r("<actions/>");if("redirect"===n)a=r('<action type="redirect"/>').attr({url:v.attr("url"),window:v.attr("window")});else if("custom"===n)a=r('<action type="custom"/>').attr({snippet:v.attr("snippet")});else if("popup"===n)a=r('<action type="showPopup"/>').append(v.children("popup"));else if("save"===n||"cancel"===n){var l=v.attr("window"),s=v.attr("rollbackonanyerror"),d=v.attr("afterSave"),p=v.attr("afterCancel"),u=v.children("models");if(u.length||(u=r("<models/>")),a=r('<action type="'+n+'"/>'),u&&(w&&u.append(r("<model/>").text(w)),a.append(u)),s&&a.attr("rollbackonanyerror",s),d||p){o=[a];var g=r('<action type="redirect"/>');o.push(g),l&&g.attr("window",l),d&&"save"===n?g.attr("url",d):p&&"cancel"===n&&g.attr("url",p)}}o?(t.each(o,function(){i.append(this)}),i.appendTo(v)):a&&(a.appendTo(i),i.appendTo(v))}v.attr("label")||("save"===e?v.attr({label:m,icon:"sk-icon-save"}):"cancel"===e?v.attr({label:b,icon:"sk-icon-cancel"}):"popup"===e?v.attr("label","Show Popup"):v.attr("label","New Button"))}c.save().refresh().rebuildProps()}};"group"===c.state.attr("type")&&k.picklistEntries.push({label:"group",value:"group"}),h&&t.isArray(h)&&(k.picklistEntries=k.picklistEntries.concat(h)),o.inPlatform([s,d])&&x.name===l&&t.merge(k.picklistEntries,[{value:"-",label:"",disabled:!0},{value:"-",label:"Salesforce Actions",disabled:!0},{label:"Share",value:"share"},{label:"Clone",value:"clone"},{label:"Custom: SF Button/Link",value:"sfdcweblink"}]);var S,P={id:"label",type:"template",location:"attribute",displayAs:"input",label:"Button Label",onChange:function(){c.refresh()}},T={id:"icon",type:"icon",label:"Button Icon",onChange:function(){c.refresh()}},A={id:"secondary",type:"boolean",location:"attribute",label:"Is Secondary",helptext:'Purely stylistic. Will change the button style to match that of the standard "Cancel" button'},F={id:"window",type:"picklist",label:"Open URL in",defaultValue:"self",picklistEntries:[{label:"Current window",value:"self"},{label:"Blank window",value:"blank"},{label:"Parent window",value:"parent"}]},I={id:"weblinkname",type:"picklist",label:"Custom Button / Link Name",defaultValue:"",picklistEntries:[],onChange:function(t){if(t){var n,a,o=t.split("__");2===o.length?(n=o[0],a=o[1]):a=o[0],e.sfdc.weblink.get({objectName:C,weblinkName:a,namespacePrefix:n,callback:function(e){v.attr({label:e.MasterLabel,weblinkobject:C}),c.save().refresh().rebuildProps()}})}else c.save().refresh().rebuildProps()}},R={id:"usefirstitemasdefault",type:"boolean",label:"Make First Item Available as Default",defaultValue:!1,onChange:function(){c.rebuildProps().refresh()}},M={id:"openonhover",type:"boolean",label:"Open Dropdown on Hover",defaultValue:!1,onChange:function(){c.rebuildProps().refresh()}};if("sfdcweblink"===y){P.type="readonly";var B=e.sfdc.weblink,L=B.getAllForObject(C),E=e.Mustache.render;if(L.length)t.each(L,function(){I.picklistEntries.push({label:o.decodeHTML(E("{{MasterLabel}}{{#NamespacePrefix}} ({{NamespacePrefix}}){{/NamespacePrefix}}",this)),value:E("{{#NamespacePrefix}}{{NamespacePrefix}}__{{/NamespacePrefix}}{{Name}}",this)})});else{if(B.haveQueriedForObject(C))return window.alert("There are no Custom Buttons / Links on the "+C+" object that Skuid can use.\n\nThis Button will be removed."),void c.remove();i.body.append(t('<div style="padding: 10px; font-size: 12pt;">').text("Loading Custom Buttons and Links for Object: "+C)),B.get({objectName:C,callback:function(){c.refresh().rebuildProps()}})}}var N,D=w,W={id:"models",type:"models",label:"Additional Models to "+(S="save"===y?"save":"cancel"===y?"cancel":"Save/Cancel"),helptext:"When the "+S+("Save/Cancel"===S?" buttons are ":" button is")+" shown, clicking on "+("Save/Cancel"===S?"these buttons will ":"this button will ")+S+" the Model defined for the "+u.parentLabel+" component, as well as any additional Models selected here.",noneSelectedText:"Select Models...",entryFilter:function(e){return!D||D!==e.attr("id")}},V={id:"afterSave",type:"template",location:"attribute",displayAs:"input",label:"After Save Redirect URL",helptext:"The URL to which the User will be taken upon a successful Save."},G={id:"afterCancel",type:"template",location:"attribute",displayAs:"input",label:"After Cancel Redirect URL",helptext:"The URL to which the User will be taken immediately upon clicking 'Cancel'."},O={id:"afterDelete",type:"template",location:"attribute",displayAs:"input",label:"After Delete Redirect URL",helptext:"The URL to which the User will be taken immediately upon clicking 'Delete'.",placeholder:e.utils.inPlatform([e.constants.VISUALFORCE,e.constants.LIGHTNING])?"/{{Model.keyPrefix}}/o":null},q={id:"saveLabel",type:"template",location:"attribute",displayAs:"input",label:"(Optional) Save Button Label",onChange:function(){c.refresh()}},z={id:"cancelLabel",type:"template",location:"attribute",displayAs:"input",label:"(Optional) Cancel Button Label",onChange:function(){c.refresh()}},U={id:"saveicon",type:"icon",label:"Save Icon",defaultValue:"sk-icon-save",onChange:function(){c.refresh()}},H={id:"cancelicon",type:"icon",label:"Cancel Icon",defaultValue:"sk-icon-cancel",onChange:function(){c.refresh()}},j={type:"customaction",label:"Configure Popup",icon:"sk-bi-popup",id:"popup",mode:"edit",customAction:function(){c.popupcomponent.select()}};o.startsWith(y,"save")&&(N={id:"rollbackonanyerror",label:"Roll back entire save on any error",helptext:"If true, then if there is any error while saving any of the selected Models, then the entire save operation will be rolled-back, as if no part of it ever occurred. ",type:"boolean"});var $,_=n.coreProps.uniqueIdProp({component:c}),X=a.cssClassProp,J={},Q={};J.custom=[k,P,T,{id:"snippet",type:"snippet",label:"Snippet Name",helptext:"The name of the Skuid Snippet that should be run when this button is clicked. To create a new Snippet, go to the JavaScript tab under Resources."}],J.redirect=[k,P,T,{id:"url",type:"template",location:"attribute",displayAs:"input",helptext:"The URL to redirect the user to when this button is clicked. Can include template syntax, e.g. '/{{Model.KeyPrefix}}'",label:"Redirect URL"},F],J.popup=[k,P,T,j],J.save=[k,W,N,P,T,V,F],J.cancel=[k,W,P,T,G,F],J.sfdcweblink=[k,I,P,T],J.multi=[k,P,T],J.group=[k,P,T],J.delete=[k,P,T],Q.save=[_,X],Q.cancel=[_,X],Q.group=[_,X,R,M],Q.delete=[_,X,A,O];var Y={predefinedProps:{typeProp:k,modelsProp:W,rollbackOnErrorProp:N,afterSaveProp:V,afterCancelProp:G,saveLabel:q,cancelLabel:z,saveIcon:U,cancelIcon:H,windowProp:F},basicPropsList:{},advancedPropsList:{},categorizedProps:[]};"function"==typeof g&&(g(c,Y),Y.basicPropsList&&t.extend(J,Y.basicPropsList),Y.advancedPropsList&&t.extend(Q,Y.advancedPropsList)),$=[{name:"Basic",props:J[y]||[k,P]}],"multi"===y&&$.push(n.getActionsCategory({useModelName:w,linkedComponent:c})),$.push({name:"Advanced",props:Q[y]||[_,X,A]}),-1!==t.inArray(y,p)&&$.push(n.getHotkeysCategory({linkedComponent:c})),Y.categorizedProps.length>0&&($=$.concat(Y.categorizedProps)),$.push(n.getRenderingCategory({component:c,model:w,propViewer:i,showEnableDisableConditions:!0})),i.applyPropsWithCategories($,v)},defaultStateGenerator:function(t){var n=t.elementType||"button";return r("<"+n+"/>").attr({type:"multi",label:"New Button",uniqueid:e.utils.generateUniqueId()})}}))}(skuid)},414:function(e,t,n){"use strict";n(413),n(412),n(411),n(52),n(410),n(409),n(408),n(407),n(406),n(405),n(51),n(404),n(403),n(402),n(50),n(49),n(401),n(400),n(26),n(399),n(398),n(397),n(48),n(396),n(395),n(394),n(393),n(392),n(47),n(391),n(390)},47:function(e,t,n){"use strict";!function(e){var t=e.$,n=e.region,a=n.setContent,o=n.setContentByIds;e.componentType.register("pageregion",{render:function(i,r,l){var s=this,d=l.context,p=d&&d.inBuilder,c=r.attr("uniqueid");i.addClass("nx-page-region"),p||(e.utils.processStylesNode(r.children("styles").first(),i),t.each(n.map(),function(){var e=this.xmlDefinition;if(e.attr("regionid")===c)return a(l,e.children("components").first()),!1})),l.unregisterChildComponents=function(){return s.unregisterChildComponents(l),l},l.setContent=function(e){return a(l,e.children("components").first()),l},l.setContentById=function(e){return o(l.id(),e),l}},unregisterChildComponents:function(t){e.component.Component.prototype.unregisterChildComponents.call(t),t.element.empty()}})}(skuid)},48:function(e,t,n){"use strict";!function(e){var t=e.utils;function n(n,a,o){var i,r,l,s=o?o.context:null,d=e.model.getModel(a.attr("model"));!d&&!a.attr("model")&&s&&s.model&&(d=s.model),r=(i=(i=a.children("contents").first()).length?i[0]:a[0]).textContent||i.text,l=o.createConditionsFromXml(a);var p=a.attr("multiple"),c=p&&"true"===p,u=new t.TemplateComponent(n,{allowHTML:!0,component:o,context:s,conditions:l,isMultiRow:c,model:d,templateBody:r});n.addClass("sk-richtext"),o&&(o.unregister=function(){e.component.Component.prototype.unregister.call(o),u.unregister()})}e.componentType.register("richtext",n),t.registerPlugin("richtext",{init:function(e,t){return n(this,e,t),this.data("object",this),this}})}(skuid)},49:function(e,t,n){"use strict";!function(e){var t=e.$,n=e.$L;e.componentType.register("filterset",{render:function(a,o,i){a.addClass("sk-filterset");var r=e.$M(o.attr("model"));if(r){var l,s="false"!==o.attr("searchbox"),d=o.attr("searchmethod")||"server",p="true"===o.attr("tokenizesearch"),c=o.attr("searchconditionname"),u=o.children("filters"),h=o.attr("layout"),m=o.attr("position"),b=new e.ui.Editor(a,{showHeader:!0,showMessages:!1,buttonPosition:!h&&m?"right":"left"});a.addClass(h?"sk-filterset-vertical":""),b.createConditionsFromXml(o,i),i&&(i.unregister=function(){return e.component.Component.prototype.unregister.call(i),b.unregister(),i},i.unrender=function(){return e.component.Component.prototype.unrender.call(i),b.unregister(),i},i.context&&i.context.mode&&(l=i.context.mode));var f=o.children("searchfields").first(),g=f.children(),v=new e.ui.List(b,r,{views:{standard:{render:function(e){return e}}},listFilters:u,filterCssClass:"sk-filterset-item",context:i?i.context:null,showSearchBox:s,searchMethod:d,delayFilterExecution:"false"===o.attr("instantfilters"),hideFooter:!0,useSOSLSearch:"true"===f.attr("usesosl"),SOSLFields:f.attr("soslfields"),searchConditionName:c,tokenizeSearch:p,searchPlaceholderText:o.attr("searchplaceholdertext"),emptySearchBehavior:o.attr("emptysearchbehavior")||"query",mode:l||"read",personalizationService:i.getPersonalizationService()});r.registerList(v),g.length?g.each(function(){var e=t(this);v.addSearchField(r.getField(e.attr("field")),e.attr("operator"))}):r.fields.forEach(function(e){e.filterable&&v.addSearchField(e)}),v.render(),v.attach(),i.getFilters=function(){return v.filters.map(function(e){return e})}}else i.addProblem(n("Invalid Model '"+o.attr("model")+"' on Filterset component. This Model's Id may have been changed, or the Model may have been deleted."))}})}(skuid)},50:function(e,t,n){"use strict";!function(e){var t=e.$,n=e.builder.core,a=e.utils,o=a.makeXMLDoc;function i(e){var t=e.state,n=l(t.attr("model"),t.attr("datasource")),a=!1;t.attr("displayas")||(t.attr("displayas","filename"),a=!0),!t.attr("storeas")&&n&&n.length&&(t.attr("storeas",n[0].value),a=!0),a&&e.save()}function r(e){return!!e.getUploadMethods}function l(a,o){var i=a&&n.getModelFromModelName(a),r=i?n.getDataSourceFromModel(i):e.dataSource.get(o||e.platform.getDefaultDataSourceName()),l=r&&r.getDataSourceType();return l&&l.getUploadMethods?t.map(l.getUploadMethods(),function(e,t){void 0===e.hasDescription&&(e.hasDescription=!0),void 0===e.hasParent&&(e.hasParent=!0),void 0===e.hasLabel&&(e.hasLabel=!0),void 0===e.hasName&&(e.hasName=!0);var n={label:e.label,value:t,forceStoreAsFileName:e.forceStoreAsFileName,needsFieldContext:e.needsFieldContext,needsRecordContext:e.needsRecordContext,canRunPostUploadSnippet:e.canRunPostUploadSnippet,needsModelInContext:e.needsModelInContext,hasDescription:e.hasDescription,hasName:e.hasName,hasLabel:e.hasLabel,hasParent:e.hasParent,builderProps:e.builderProps};return i?e.needsRecordContext||e.needsModelInContext?n:null:e.needsRecordContext?null:n}):[]}function s(e,t){var n=e.filter(function(e){return e.value===t});return n&&n.length?n[0]:null}var d=new n.Builder({id:"file",name:"File Upload",icon:"sk-bi-file",isJSCreateable:!0,description:function(){var t=e.version.number;return'The File component allows for viewing, uploading and removing files associated with an object.<br/><br/>More information: <ul><li><a href="https://docs.skuid.com/v'+t+'/en/skuid/components/file-upload/add-image.html" target="SkuidBuilderHelp">Using the File Component to Add an Image</a></li><li><a href="https://docs.skuid.com/v'+t+'/en/skuid/components/file-upload/attach-file.html" target="SkuidBuilderHelp">Attach Files to a Record</a></li></ul>For additional information, see the <a href="'+("https://docs.skuid.com/v"+t+"/en/skuid/components/file-upload/")+'">File Upload component tutorial</a>.'},handleStateEvent:function(e,t,a){n.handleModelRemove(e,t,{component:a}),n.handleModelIdChange(e,t)},componentRenderer:function(e){i(e),e.setTitle(e.builder.name);var n=t("<img>").prop("src",a.getDefaultImageUrl(e.state.attr("defaultimage")||"person")).css({width:"100%",maxWidth:"300px"});e.body.append(n),n.toggle("image"===e.state.attr("displayas")),e.body.css("overflow","hidden")},mobileRenderer:function(n){i(n);var o,r=n.body,l=n.state;n.setTitle(n.builder.name),"image"===l.attr("displayas")?o=t("<img>").prop("src",a.getDefaultImageUrl(l.attr("defaultimage")||"person")).css({width:"100%",maxWidth:"300px",margin:"8px 0px 0px"}):(o=t("<div>").addClass("sm-button").css("margin","8px 0px 4px"),new e.mobile.ui.Button({element:o,label:l.attr("label")||"Upload",icon:"fa-plus"})),r.empty().append(o)},propertiesRenderer:function(o,d){i(d);var p=d.state,c=p.attr("model"),u=p.attr("storeas"),h=l(c,p.attr("datasource")),m={id:"model",type:"model",label:"Parent Model",helptext:"The Model in whose record(s) this File will be stored, stored in the specified 'File storage location'.",required:!1,entryFilter:function(e){var t=l(e.attr("id"),e.attr("datasource"));return!(!t||!t.length)},onChange:function(e){var t=l(e,p.attr("datasource")),n=d.updateAutoCreatedEditorCondition;n&&n.call(d),p.removeAttr("idfield label defaultimage editable deleteable"),t&&t.length&&p.attr("storeas",t[0].value),p.attr("displayas","filename"),d.save().refresh().rebuildProps(o)}},b={id:"defaultimage",type:"picklist",label:"Default Image",defaultValue:"person",helptext:"A default image to display if an image has not been displayed yet.",picklistEntries:[{label:"Person",value:"person"},{label:"Org",value:"org"}],onChange:function(e){d.body.find("img").prop("src",a.getDefaultImageUrl(e))}},f={id:"label",type:"text",label:"Label",helptext:"The label for this File Component/field.",onChange:function(){d.refresh()}},g={id:"storeas",type:"picklist",label:"File storage location",defaultValue:"field",helptext:"The File Component allows you to store an uploaded file in the following ways: (1) In a field on this object that is a lookup to the Skuid Image object, e.g. Profile_Photo__c. This is useful when this particular File will need to be retrieved later, e.g. a Profile Photo or a Transcript.(2) As an Attachment to the record containing in this Model. This is useful for generic File Attachments that do not be referred to by their purpose.",picklistEntries:t.map(h,function(e){return e.hideInBuilder?null:e}),onChange:function(e){p.removeAttr("idfield label defaultimage editable deleteable");var t=s(l(p.attr("model"),p.attr("datasource")),e);t&&t.forceStoreAsFileName&&p.attr("displayas","filename"),d.save().refresh().rebuildProps(o)}},v={id:"displayas",type:"picklist",label:"Display As",defaultValue:"filename",helptext:"Once a File has been uploaded, should just the File's name be shown, or should a preview of the File / the image stored in the File be shown?",picklistEntries:[{label:"File Name",value:"filename"},{label:"File Preview/Image",value:"image"}],onChange:function(){d.refresh().rebuildProps(o)}},y=[{id:"saveto",type:"picklist",label:"Save To",defaultValue:"",picklistEntries:[{label:"Data Source",value:""},{label:"Field on Model",value:"field"}],onChange:function(){p.attr("model",""),d.rebuildProps(o)}}],w=s(h,u);p.attr("saveto")?y.push({id:"model",type:"model",label:"Model"},{id:"field",modelprop:"model",type:"field",label:"Field",displayTypeFilter:function(e){return["TEXT","STRING","TEXTAREA"].indexOf(e.displaytype)>-1}}):(w&&w.hasParent&&y.push(m),w&&w.hideInBuilder&&g.picklistEntries.push({label:w.label,value:w.label}),c||(y=y.concat(n.getDataSourceSelectionProps(d,o,{dataSourceTypeCriteria:r}))),g.picklistEntries.length<2&&(g.type="readonly"),y.push(g),w&&(w.needsFieldContext&&(e.mobile||y.push(v),y.push({id:"idfield",type:"field",addFieldToModel:!0,label:"Field Name",helptext:"The Skuid Image lookup field on this object that this File will be stored in.",modelprop:"model",displayTypeFilter:"REFERENCE",refFilter:"skuid__Image__c"})),w.hasLabel&&y.push(f),"image"===p.attr("displayas")&&y.push(b),w.needsFieldContext&&y.push({id:"editable",type:"boolean",label:"Allow Editing",defaultValue:!0,helptext:"If true, a yellow pencil icon will be shown when hovering over this File's preview, allowing users to upload a different File as a replacement."},{id:"deleteable",type:"boolean",label:"Allow Removal",defaultValue:!0,helptext:"If true, a red delete icon will be shown when hovering over this File's preview, allowing users to upload a different File as a replacement."}),w.hasName&&y.push({id:"filename",type:"text",label:"File Name",helptext:"If this is left blank, the filename will not change."}),w.hasDescription&&y.push({id:"description",type:"text",label:"File Description"}),w.canRunPostUploadSnippet&&y.push({id:"snippetname",type:"snippet",label:"Snippet to Run on Completion"}),w.builderProps&&("function"==typeof w.builderProps?y=y.concat(w.builderProps(d,p)):Array.prototype.push.apply(y,w.builderProps))));var C=[{name:"Basic",props:y,expanded:!0},{name:"On-Upload Actions",tree:[n.getActionsTree({customNodeId:"uploadsuccessactions",label:"On-Upload Success Actions",linkedComponent:d,actionsIndent:0,props:[{type:"helptext",html:"Success Actions will be run only when a File is successfully uploaded."}]}),n.getActionsTree({customNodeId:"uploadfailureactions",label:"On-Upload Failure Actions",linkedComponent:d,actionsIndent:0,props:[{type:"helptext",html:"Failure Actions will be run if a File fails to upload. The error message returned, if any, will be available for display using the merge {{$Error.Message}}"}]})]},n.getRenderingCategory({component:d,model:null,propViewer:o})];w&&w.needsRecordContext&&C.push(n.getContextCategory({propViewer:o,state:p,modelprop:"model"})),e.mobile&&C.push({name:"Remove",props:[{type:"remove"}]}),o.setTitle("File Properties"),o.applyPropsWithCategories(C,p)},defaultStateGenerator:function(){return o('<file editable="true" storeas="" displayas="" deleteable="true"/>')}});n.registerBuilder(d),e.builder.desktop&&n.registerBuilder(new n.Builder({id:"attachmentimage",name:"Attachment Image",hideFromComponentsList:!0,componentRenderer:d.componentRenderer,propertiesRenderer:d.propertiesRenderer}))}(skuid)},51:function(e,t,n){"use strict";!function(e){var t=e.$,n=e.utils;e.componentType.register("wrapper",{render:function(a,o,i){var r=t("<div>").addClass("sk-wrapper").css({position:"relative"}),l=o.children("interactions").first();i.createChildComponents(o.children("components").first().children(),r,i.context),n.processStylesNode(o.children("styles").first(),r);var s=o.children("styles").children('[type="size"][height="viewport"]').attr("vwheight");s&&void 0===e.builder&&function(){function e(){var e=window.parseInt(s.replace("%","")),n=t(window).outerHeight()*(e/100);r.outerHeight(n)}t(window).one("pageload",e),t(window).on("resize."+i._GUID,e)}(),l.length&&e.interactions.enableInteractions(a,{interactionsDef:l,component:i}),a.append('<div style="font-size:0; line-height:0;" aria-hidden="true">🐙</div>',r)}})}(skuid)},52:function(e,t,n){"use strict";!function(e){var t=e.$,n=e.utils.getCSSSizeObj;t.fn.reverse=Array.prototype.reverse;var a=function(e,a,o){e.addClass("clearfix");var i=o&&o.builder,r=function(){var o=t(window).height(),i=a.attr("offset"),r=n(i,{defaultUnit:"px"});r&&e.children().not(".nx-queue-header").css("height",o-r.number+r.unit)},l=a.attr("type"),s=a.children("panels").children(),d=o.context;if("custom"===l)s.each(function(r){var l,p=t(this),c=t("<div>").addClass("nx-panel").attr("data-index",r),u=t("<div>"),h=p.attr("uniqueid"),m=p.attr("cssclass"),b=n(p.attr("width"),{defaultUnit:"%"});r<s.children().length-1&&u.addClass("nx-panel-custom-inner"),null!==h&&c.attr("id",h),null!==m&&c.addClass(m),c.append(u).css({width:b.number+b.unit,display:"inline-block","vertical-align":"top"}),i||(o.createChildComponents(p.children("components").first().children(),u,d),"fixed"===a.attr("scroll")?(l=n(a.attr("height"),{defaultUnit:"px"}),c.css("height",l.number+l.unit).addClass("nx-panel-scroll-fixed")):"variable"===a.attr("scroll")&&c.addClass("nx-panel-scroll-variable")),e.append(c)}),i||"variable"!==a.attr("scroll")||(r(),t(window).resize(function(){r()}));else if("vertical"===l)s.each(function(n){var a=t(this),r=t("<div>").attr("data-index",n).addClass("nx-panel"),l=t("<div>"),s=a.attr("uniqueid"),p=a.attr("cssclass");null!==s&&r.attr("id",s),null!==p&&r.addClass(p),r.append(l),i||o.createChildComponents(a.children("components").first().children(),l,d),e.append(r)});else{var p=t(),c=t(),u=t(),h=0,m=0;s.each(function(r){var l,s=t(this),b=t("<div>").attr("data-index",r),f=t("<div>"),g=s.attr("type"),v=n(s.attr("width"),{defaultUnit:"px"}),y=v&&v.number||200,w=s.attr("uniqueid"),C=s.attr("cssclass");b.append(f),null!==w&&b.attr("id",w),null!==C&&b.addClass(C),"left"===g?(b.css({width:y+"px","padding-left":m+"px"}).addClass("nx-panel-left nx-panel"),f.addClass("nx-panel-left-inner"),m+=y,p=p.add(b)):"right"===g?(b.css("width",y+"px").addClass("nx-panel-right nx-panel"),f.addClass("nx-panel-right-inner"),h+=y,b.css("margin-left","-"+h+"px"),c=c.add(b)):(u=u.add(b),b.addClass("nx-panel-fluid"),f.addClass("nx-panel")),i||(o.createChildComponents(s.children("components").first().children(),f,d),"fixed"===a.attr("scroll")?(l=n(a.attr("height"),{defaultUnit:"px"}),b.css("height",l.number+l.unit).addClass("nx-panel-scroll-fixed")):"variable"===a.attr("scroll")&&b.addClass("nx-panel-scroll-variable")),e.append(b)}),i||"variable"!==a.attr("scroll")||(r(),t(window).resize(function(){r()})),u.children(".nx-panel").css({"margin-right":h+"px","margin-left":m+"px"}),e.append(u,p.reverse(),c)}};e.componentType.register("panelset",a),e.utils.registerPlugin("panelSet",{init:function(e,t){return a(this,e,t),this}})}(skuid)}});