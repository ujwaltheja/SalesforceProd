!function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1765)}({1764:function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};window.skuid||(window.skuid={}),function(e){var t=e.$,n=e.$L,o="application/json",i=e.ajax,s=e.coreAssetBase||"",u=e.native&&e.native.instanceUrl||"",c={},d={},l={auth_provider:{auth_method:"auth_method",authorize_endpoint_url:"authorize_endpoint_url",client_id:"client_id",client_secret:"client_secret",default_scopes:"default_scopes",id:"id",name:"name",oauth_grant_type:"oauth_grant_type",oauth_provider_type:"oauth_provider_type",request_headers:"request_headers",token_endpoint_url:"token_endpoint_url",token_request_body_parameters:"token_request_body_parameters"},auth_provider_credential:{access_token:"access_token",access_token_expiration:"access_token_expiration",access_token_issued:"access_token_issued",auth_provider_id:"auth_provider_id",auth_provider_name:"auth_provider_name",id:"id",refresh_token:"refresh_token",user_id:"user_id"},data_service:{host:"host",id:"id",name:"name",port:"port"},data_source:{authentication:"authentication",auth_request_body:"auth_request_body",auth_request_body_content_type:"auth_request_body_content_type",auth_request_headers:"auth_request_headers",auth_request_verb:"auth_request_verb",auth_url:"auth_url",credential_source:"credential_source",data_service_id:"data_service_id",data_service:"data_service",external_id:"external_id",id:"id",is_active:"is_active",name:"name",password:"password",request_body_parameters:"request_body_parameters",request_headers:"request_headers",request_url_parameters:"request_url_parameters",url:"url",username:"username",use_proxy:"use_proxy",type:"type"},data_source_credential:{id:"id",password:"password",user_id:"user_id",username:"username"},page:{composer_settings:"composer_settings",id:"id",is_master_page:"is_master_page",master_page:"master_page",master_page_id:"master_page_id",max_auto_saves:"max_auto_saves",module:"module",name:"name",updated_at:"updated_at"},profile:{id:"id",name:"name"},static_resource:{id:"id",name:"name",namespace:"",content_type:"content_type"},theme:{id:"id",name:"name",resource_name:null,resource_namespace:null,type:"type",version_date:"version_date",active:"active"}},p={},m=null;function f(t){var n=t.valueTemplates||{name:"{{name}}"};return{id:t.id,type:"autocomplete",displayTemplate:t.displayTemplate||"{{name}}",label:t.label,helptext:t.helptext,required:t.required||!1,valueTemplates:n,source:function(n,r,a,o){var i=e.dataSource.getDataSource("SkuidLocal");i.load([new e.model.Model({dataSource:i,verb:"GET",serviceUrl:t.serviceUrl+"&search="+n.term})]).then(function(e){var t=e[0];t&&r(t.data)},function(){o(),r([])})},onChange:t.onChange||function(){}}}function h(e,t){return"/ui/page/preview/"+e[l.page.name]+(t?"?"+t:"")}function g(){return e.native&&e.native.instanceUrl}function _(){return e.utils.apps&&0!==e.utils.apps.length?t.map(e.utils.apps,function(e){return{label:e.name,link:e.url}}):[]}function y(){return e.utils}function v(e){var t,n,r=y().endsWith,o=y().startsWith,i="";if("object"===(void 0===e?"undefined":a(e))){if(e.type&&"external"===e.type)return e.url||e.path;t=e.name,n=e.nestedPath||e.path}else t=e;return!r(t,"JS")||n||y().contains(t,"/")?"CKEditor"===t?(i="js/lib/",t="ckeditor"):"AceEditor"===t?(i="js/lib/",t="aceEditor"):"Fonts"===t?(i="assets/",t="fonts"):o(t,"SkuidTheme")?(i="themes/",t=t.replace("SkuidTheme","").toLowerCase()):(!n||!r(n,".js")||o(i,"js/")||o(n,"js/")||y().contains(n,"assets/")||y().contains(n,"dist/"))&&(!t||!r(t,".js")||o(t,"js/")||o(t,"assets/")||o(t,"dist/"))||(i="js/"):(i="js/lib/",t=t.charAt(0).toLowerCase()+t.substring(1,t.length-2)+".js"),n&&!o(n,"/")&&(n="/"+n),y().combineUrls(s,i+(t||"")+(n||""))}function b(){return"SkuidLocal"}function w(e,t){return e.getResponseHeader(t)}function T(t,n){return t||e.loader.getServiceModstamp(n)}function S(e){if("GET"!==e.type)return i.direct(e);var t=e.url,n=d[t];return n||(d[t]=i.direct(e).then(function(e){return delete d[t],e}).catch(function(e){throw delete d[t],e}))}var x={checkNetwork:function(){return S({offline:!1,type:"GET",url:u+"/skuid/check"})},componentPack:function(e,t){return i.direct({cache:!0,type:"GET",url:u+"/metadata/"+T(t,"componentPackService")+"/componentpackservice"}).then(function(e){return e.body})},getToken:function(){return S({type:"GET",url:u+"/api/v1/auth/token"}).then(function(e){return e.body})},events:function(){return e.utils.resolve([])},labels:function(e,t){return i.direct({cache:!0,type:"GET",url:u+"/metadata/"+T(t,"labelService")+"/labelservice"}).then(function(e){return e.body})},meta:function(n){var r=t.Deferred();return e.remote().metaService(JSON.stringify(n),function(e,t){t.status?r.resolve(e):r.reject(t.message)},{escape:!1}),r.promise()},page:function(n,r,a,o){var i={};return n&&(i.page=n),r&&(i.namespace=r),a&&(i.route=a),t.get({cache:!0,dataType:"text",url:u+"/metadata/"+T(o,"pageService")+"/pageservice"+(e.utils.size(i)?"?"+e.utils.param(i):"")}).then(function(e,t,n){return{metadata:{pageName:w(n,"skuid-PageName"),pageId:w(n,"skuid-PageId"),pageLastModifiedDate:w(n,"skuid-PageLastModifiedDate"),masterPageName:w(n,"skuid-MasterPageName"),masterPageNamespace:w(n,"skuid-MasterPageNamespace")},xml:e}})},serviceModstamps:function(){return e.$.get(u+"/metadata/loaderservicemodstamps")},settings:function(e){return i.direct({cache:!0,type:"GET",url:u+"/metadata/"+T(e,"siteSettingsService")+"/sitesettingsservice"}).then(function(e){return e.body})},theme:function(e,t){return i.direct({cache:!0,type:"GET",url:u+"/metadata/"+T(t,"themeService")+"/themeservice/"+e}).then(function(e){return e.body})}};function k(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(null==m||m.closed)if(g())window.location="login.html";else{var t=e.sso_login||"/ui/login?noredirect=true";m=window.open(t,"LoginWindow")}else m.focus()}function P(t,n){var r=t||n.responseJSON,a={status:n.statusText,statusCode:n.status,headers:e.ajax.getResponseHeaderObject(n.getAllResponseHeaders())};return!r&&n.responseText&&(r=n.responseText),r&&r.statusCode&&r.message&&(401===a.statusCode&&"Missing authentication"===r.message&&(r.message="You are logged out. Please refresh the page to log in."),a.error=r.message),a.body=r,a}e.platform={attemptLogin:function(e,n,r){var a=function(e){if(e.origin===window.location.origin&&"login_success"===e.data){if(n)return window.location.reload();[".nx-messages",".nx-page-problems-container"].forEach(function(e){var n=t(e);n&&n.length&&n.empty(),n.hide()}),t(".nx-page-problems-wrapper").hide(),r&&r()}};try{if((e=e||0)>0)return null;g()?(k(),window.addEventListener("message",a)):window.confirm('You need to log in again, your session has expired.\n\nPress "OK" to open the login page in a new window.\n(You may need to disable pop-up blocking for this site.)\n\nPress "Cancel" to remain on this page. Refresh your browser to go to the login page.')?(k(),window.addEventListener("message",a)):window.location="/error/403"}catch(e){return e.status}return null},checkSessionExpiration:function(){return t.ajax({url:u+"/api/v1/me/loginexpires",type:"GET",contentType:o})},checkSessionLoginType:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return t.ajax({url:u+"/api/v1/me/logintype",type:"POST",contentType:o,data:JSON.stringify(r({},e&&{id:e}))})},forceSessionActivity:function(){return t.ajax({url:u+"/api/v1/me/forcesessionactivity",type:"GET",contentType:o})},get:function(e){return p[e]},getTokenURL:function(){return u+"/api/v1/auth/token"},getAuthUrl:function(){return"https://"+window.location.hostname+(window.location.port?":"+window.location.port:"")+"/api/v1/auth/check"},getBasePreviewUrl:h,getBaseXmlEditorUrl:function(e){return"/ui/page/compose/"+e[l.page.id]+"/xml"},getDefaultDataSourceName:b,getDefaultDataSourceTypeName:function(){return"REST"},getDefaultImagePath:function(){return"assets/images/"},getEntityFieldName:function(e,t){return l[e][t]},getEntityFieldNames:function(e){return l[e]},getLayoutFields:function(){return["content"]},getMaxProxyRequestPayload:function(){return 5e7},getName:function(){return"skuid-platform"},getNavigationItemSourceTypes:function(){return[{value:"usermenu",label:"User Menu",items:[{label:"My Settings",link:"/ui/me"},{label:"My Apps",link:null,items:_()},{label:"Logout",link:"/auth/logout"}]},{value:"apps",label:"Apps",items:_()}]},getOAuthRedirectUri:function(){return g()?u+"/auth/oauth/callback":window.location.origin+"/auth/oauth/callback"},getOAuthProxyUri:function(){return g()?u+"/auth/oauth/proxy":window.location.origin+"/auth/oauth/proxy"},getPageComposeUrlById:function(e){return"/ui/page/compose/"+e},getPageComposeUrlByName:function(e){return"/ui/page/compose/"+e},getPageNavigateUrl:function(e,t,n){return h({name:e},n?y().param(n):"")||window.location.pathname},getPublicKeyEndpoint:function(){return"https://"+window.location.hostname+(window.location.port?":"+window.location.port:"")+"/api/v1/site/verificationkey"},getResourceUrl:v,getRouteNavigateUrl:function(t,n,r){var o="",i={};return n&&(o+="/ns/"+n),o+=t,"object"===(void 0===r?"undefined":a(r))&&y().size(r)&&(e.$.each(r,function(e,t){var n=new RegExp("{"+e+"(\\?|\\*|\\*\\d{1})?}","g").exec(o);n&&n.length?o=o.replace(n[0],t):i[e]=t}),y().size(i)&&(o+="?"+y().param(i))),o},getSiteResourceUrl:function(e){var t,n=e.name,r=e.path;return"skuid"===e.namespace?v(e):(t="/files/"+n,r&&(t=y().combineUrls(t,r)),t)},getUserMenuItems:function(){return[{label:"Logout",link:"/auth/logout"}]},handlePageLoaderNotFound:function(){return window.location="/error/404"},hasFeature:function(t){return e.features&&e.features.hasOwnProperty(t)},isNative:g,isPlatformSessionError:function(e,t){return t&&"SkuidLocal"===t.name},openLoginWindow:k,preloadIconSetDependencies:function(e){var n="icons-svg-"+e;if(!c[e])return c[e]=!0,t.get({cache:!0,dataType:"xml",url:""+u+s+"/assets/icons-svg/"+e+"/"+e+".min.svg"}).then(function(r){var a=t(r.documentElement);return a.find("symbol").attr("id",function(t,n){return e+":"+n}),t("<div>").prop("id",n).css("display","none").html(y().getXML(a)).insertBefore(t(document.body.childNodes[0])),t.Deferred().resolve(a)}).catch(function(n){return delete c[e],t.Deferred().reject(n)});var r=document.getElementById(n);return t.Deferred().resolve(t(r))},publishEvent:function(){},requiresClientSideModelLoading:function(){return!0},requiresSerializedProxyRequests:function(){return!1},resolveTestPath:function(e){return s+"/tests/js/"+e+".js"},services:x,set:function(e,t){p[e]=t}},e.platform.builder={getProtectedModules:function(){return[]},getPageModule:function(e,t){return e.getFieldValue(t,"module",!0)},getModuleEntries:function(){return[]},getAvailableComponentPacks:function(){return e.components.config.pagebuilder.packs},getPageSelectProperty:function(e){return f(t.extend({displayTemplate:"{{name}}",valueTemplates:{pagename:"{{name}}"},label:n("page")+" Name",serviceUrl:"/objects/page?fields=id,name"},e))},getRouteSelectProperty:function(e){return f(t.extend({displayTemplate:"{{fq_route}}",valueTemplates:{route:"{{{fq_route}}}"},label:"Route Name",serviceUrl:"/objects/route?fields=id,fq_route"},e))},getStaticResourceProperty:function(e){return f(t.extend({displayTemplate:"{{name}}{{#content_type}} ({{content_type}}){{/content_type}}",label:n("file_resource")+" Name",serviceUrl:"/objects/file?fields=id,name,content_type"},e))},getNestedPathProperty:function(e){return{id:e.id||"filepath",type:"filepath",label:"File Path (within ZIP Files)",helptext:"The desired file's relative location within Files that are .zip files. Do not use unless your File is a ZIP file.",divisionSize:"2",getResourceName:function(){return e.state.attr(e.nameProperty)},getResourceNamespace:function(){return null},onChange:e.onChange||function(){}}}},e.RemotingStubs={metaService:function(n,r){t.ajax({url:u+"/metadata/metaservice",type:"POST",data:n,contentType:o}).done(function(n){g()&&t.each(n.dataSourceTypes,function(n,r){"REST"===n&&t.each(r.dataSources,function(e,t){"SkuidLocal"===e&&(t.serviceUrl=u+t.serviceUrl)}),e.$.isArray(r.js)?e.$.each(r.js,function(e,t){r.js[e]=u+t.path}):r.js.path=u+r.js.path}),r(n,{status:"success"})}).fail(function(e){r(null,{message:e.status+" "+e.statusText})})},updatePersonalizationSettings:function(e,n,r){return t.ajax({type:"PUT",url:u+"/api/v1/personalization/"+e,data:n,contentType:o}).then(function(e){r(e,{status:"success"})})},proxy:function(n,r){var a=n.modelDataSource,i=a?e.dataSource.get(a):null,s=n.url,c=n.method||"GET",d=n.body,l={},p=i&&i.isAuthenticated()?"1":"0";n.headers&&t.extend(l,n.headers),n.accept&&(l.Accept=n.accept),l["sid-skuid"]=e.utils.userInfo.sessionId,delete l["User-Agent"],delete l["Content-Length"];var m={url:u+"/proxy?"+["data-source="+encodeURIComponent(a),"is-authenticated="+p,"endpoint="+encodeURIComponent(s)].join("&"),type:c,beforeSend:function(e){t.each(l,function(t,n){e.setRequestHeader(t,n)})}};n.hasOwnProperty("processData")&&(m.processData=n.processData),d&&(m.data=d,m.contentType=n.contentType||o),t.ajax(m).done(function(e,t,n){r(P(e,n),{status:"success"})}).fail(function(e){r(P(void 0,e))})},getBodiesOfZIPResourceFiles:function(e,n){t.ajax({url:u+"/resources/content",type:"POST",data:e,contentType:o}).then(function(e){n(e)})}},e.platform.themeBuilder={getThemeData:function(e,n){return t.ajax({url:u+"/api/v1/theme/composer",type:"POST",data:JSON.stringify({name:e.name}),contentType:o}).then(function(e){return n?n(e):e})},getThemeResourceUrl:function(t){var n,r,o,i=e.utils.endsWith,c="";return"object"===(void 0===t?"undefined":a(t))?(n=t.name,r=t.nestedPath||t.path,o=t.modstamp):n=t,r&&!e.utils.startsWith(r,"/")&&(r="/"+r),"Fonts"===n&&t&&t.namespace&&"skuid"===t.namespace?u+s+"/assets/fonts"+(r||""):((r&&i(r,".js")||i(n,".js"))&&(c="js/"),o||(o=Date.now()),u+"/api/v1/theme/resource/"+o+"/"+c+n+(r||""))},getResource:function(e,n){var r=e.Name||e.name||e,a=Date.now();return t.ajax({url:u+"/api/v1/theme/resource/"+a+"/"+r+"/"+n,type:"GET"}).then(function(e){var t={};return t[r]={},t[r][n]=e,e})},saveTheme:function(n,r){var a,i=t.Deferred();return n.themeResourceName?(a={FileName:n.themeResourceName,ContentType:"application/zip",Body:r},t.ajax({type:"POST",url:u+"/api/v1/upload",headers:{"Content-Type":o,Authorization:"Bearer "+e.utils.userInfo.sessionId},data:JSON.stringify(a),dataType:"json"})):i.reject("No resource name present.")}}}(skuid)},1765:function(e,t,n){"use strict";n(1764)}});