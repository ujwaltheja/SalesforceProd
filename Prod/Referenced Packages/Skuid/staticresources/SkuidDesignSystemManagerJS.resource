!function(e){var t={};function s(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,s),i.l=!0,i.exports}s.m=e,s.c=t,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},s.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="",s(s.s=340)}({340:function(e,t,s){"use strict";!function(e){var t=e.$,s=e.events,n={};function i(){var e=window.innerHeight-t("#dsm-wrapper").offset().top+"px";t("#dsm-wrapper").css("height",e),t("#dsm-wrapper .sk-wrapper").css("height",e)}t(document.body).one("pageload",function(){var a=e.$M("ThemeResource"),u=e.$M("Controller"),r=e.$M("FakeAccounts");u.save(),r.save(),i(),t(window).resize(i),e.platform.themeBuilder.getThemeData(a.getFirstRow(),function(i){n.saved=new e.themeBuilder.ThemeConfiguration(t.extend(i.themeData,{resource:a.getFirstRow(),baseThemeData:i.baseThemeData})),n.unsaved=new e.themeBuilder.ThemeConfiguration(n.saved),s.publish("skuid.themeBuilder.themeConfigsLoaded",[n])}),e.snippet.register("skuid.themeBuilder.saveTheme",function(){n.unsaved.save({noLess:!0}).then(function(){var t=n.unsaved.themeSettings,s=new e.themeSettings.ThemeSettings(JSON.parse(JSON.stringify(n.unsaved.themeSettings.getAll())));n.saved=n.unsaved,n.saved.themeSettings=s,n.unsaved=new e.themeBuilder.ThemeConfiguration(n.saved),n.unsaved.themeSettings=t,n.unsaved.subscriptions=n.saved.subscriptions}),s.publish("skuid.themeBuilder.saveChanges")}),e.snippet.register("skuid.themeBuilder.cancelChanges",function(){var t=n.unsaved.subscriptions,i=n.unsaved.themeSettings;i.setAll(JSON.parse(JSON.stringify(n.saved.themeSettings.getAll()))),n.unsaved=new e.themeBuilder.ThemeConfiguration(n.saved),n.unsaved.subscriptions=t,n.unsaved.themeSettings=i,Object.keys(n.unsaved.subscriptions).forEach(function(e){n.unsaved.subscriptions[e].forEach(function(e){e()})}),s.publish("skuid.themeBuilder.cancelChanges")}),s.subscribe("skuid.themeBuilder.saveStatus",function(e){t.blockUI({fadeIn:0,message:e,timeout:3e3})}),s.subscribe("skuid.themeBuilder.saveSuccess",function(){t.blockUI({fadeIn:0,message:"Theme saved",timeout:500})}),s.subscribe("composer.navigation.viewchange",function(t){var s=e.$C("dsm-tabset--main");s&&s.getCPI().setActiveTabByLabel(t),u.updateRow(u.getRows()[0],{currentPage:t}),u.save()}),s.subscribe("skuid.themeBuilder.fakeDataReady",function(e){r.adoptRows(e.accountsList),r.save()})})}(skuid)}});